






API Reference
























МойСклад JSON API


Сущности


Документы


Общие сведения


Шаблоны документов


Контекстный поиск для документов


Удаление в корзину


Пример удаления Приемки в корзину


Привязка документов к документам


Пример привязки 1


Пример привязки 2


Пример привязки 3


Привязка платежей к документам


Пример привязки платежа 1


Пример привязки платежа 2


Валюта в документах


Пересчет расчетного остатка в инвентаризации






Печать документов


Запрос на печать






Публикация документов


Публикации


Получить публикации


Публикация


Создать публикацию


Удалить публикацию


Получить публикацию






Автозаполнение


Шаблон автозаполнения


Запрос автозаполения


Запрос автозаполения цен


Запрос автозаполения скидок


Запрос автозаполения НДС


Запрос автозаполения себестоимости






Внесение денег


Внесения денег


Получить Внесения денег


Создать Внесение денег


Массовое создание и обновление Внесений денег


Удалить Внесение денег


Массовое удаление Внесений денег


Метаданные Внесений денег


Отдельное доп. поле


Шаблон Внесения денег


Шаблон Внесения денег на основе


Внесение денег


Получить Внесение денег


Изменить Внесение денег






Внутренний заказ


Внутренние заказы


Получить Внутренние заказы


Создать Внутренний заказ


Шаблон Внутреннего заказа


Шаблон Внутреннего заказа


Массовое создание и обновление Внутренних заказов


Удалить Внутренний заказ


Массовое удаление Внутренних заказов


Метаданные Внутренних заказов


Отдельное доп. поле


Внутренний заказ


Получить Внутренний заказ


Изменить Внутренний заказ


Позиции Внутреннего заказа


Получить позиции Внутреннего заказа


Создать позиции Внутреннего заказа


Позиция Внутреннего заказа


Получить позицию


Изменить позицию


Удалить позицию


Массовое удаление позиций






Возврат покупателя


Возвраты покупателей


Получить Возвраты покупателей


Создать Возврат покупателя


Массовое создание и обновление Возвратов покупателя


Удалить Возврат покупателя


Массовое удаление Возвратов покупателей


Метаданные Возвратов покупателей


Отдельное доп. поле


Шаблон Возврата покупателя


Шаблон Возврата покупателя на основе


Возврат покупателя


Получить Возврат покупателя


Изменить Возврат покупателя


Позиции возврата покупателя


Получить Позиции


Создать Позицию


Позиция Возврата покупателя


Получить Позицию


Изменить Позицию


Удалить позицию


Массовое удаление позиций






Возврат поставщику


Возвраты поставщикам


Получить Возвраты поставщикам


Создать Возврат поставщику


Массовое создание и обновление Возвратов поставщику


Удалить Возврат поставщику


Массовое удаление Возвратов поставщикам


Метаданные Возвратов поставщикам


Отдельное доп. поле


Шаблон Возврата поставщику


Шаблон Возврата поставщику на основе


Возврат поставщику


Получить Возврат поставщику


Изменить Возврат поставщику


Позиции Возврата поставщику


Получить Позиции


Создать Позицию


Позиция Возврата поставщику


Получить Позицию


Изменить Позицию


Удалить позицию


Массовое удаление позиций






Возврат предоплаты


Возврата предоплаты


Атрибуты сущности


Атрибуты доступные для фильтрации


Атрибуты доступные для сортировки


Получить список Возвратов предоплаты [GET]


Метаданные Возвратов предоплат


Отдельное доп. поле


Возврат предоплаты


Позиции Возврата предоплаты


Позиция Возврата предоплаты






Входящий платеж


Входящие платежи


Получить Входящие платежи


Создать Входящий платеж


Массовое создание и обновление Входящих платежей


Удалить Входящий платеж


Массовое удаление Входящих платежей


Метаданные Входящих платежей


Отдельное доп. поле


Шаблон Входящего платежа


Шаблон Входящего платежа на основе


Входящий платеж


Получить Входящий платеж


Изменить Входящий платеж






Выданный отчет комиссионера


Выданные отчеты комиссионера


Получить Выданные отчеты комиссионера


Создать Выданный отчет комиссионера


Удалить Выданный отчет комиссионера


Массовое создание и обновление Выданных отчетов комиссионера


Массовое удаление Выданных отчетов комиссионера


Метаданные Выданного отчета


Отдельное доп. поле


Выданный отчет комиссионера


Получить Выданный отчет комиссионера


Изменить Выданный отчет комиссионера


Позиции Выданного отчета комиссионера


Получить позиции


Получить позицию


Создать позицию


Изменить позицию


Удалить позицию


Массовое удаление позиций






Выплата денег


Выплаты денег


Получить Выплаты денег


Создать Выплату денег


Массовое создание и обновление Выплат денег


Удалить Выплату денег


Массовое удаление Выплат денег


Метаданные Выплат денег


Отдельное доп. поле


Шаблон Выплаты денег


Шаблон Выплаты денег на основе


Выплата денег


Получить Выплату денег


Изменить Выплату денег






Выполнение этапа производства


Выполнения этапов производства


Получить список Выполнений этапов производства


Создать Выполнение этапа производства


Массовое создание и обновление Выполнений этапов производства


Удалить Выполнение этапа производства


Массовое удаление Выполнений этапов производства


Получить Выполнение этапа производства


Изменить Выполнение этапа производства


Материалы выполнения этапа производства


Получить Материалы выполнения этапа производства


Добавить Материал выполнения этапа производства


Изменить Материал выполнения этапа производства


Продукты выполнения этапа производства


Получить Продукты выполнения этапа производства


Изменить Продукт выполнения этапа производства






Заказ на производство


Заказы на производство


Получить список Заказов на производство


Создать Заказ на производство


Массовое создание и обновление Заказов на производство


Удалить Заказ на производство


Массовое удаление Заказов на производство


Метаданные Заказов на производство


Отдельное доп. поле


Шаблон Заказа на производство


Заказ на производство


Получить Заказ на производство


Изменить Заказ на производство


Позиции Заказа на производство


Получить позиции Заказа на производство


Позиция Заказа на производство


Получить позицию


Изменить позицию


Удалить позицию


Массовое удаление позиций






Заказ покупателя


Заказы покупателей


Получить список Заказов покупателей


Создать Заказ покупателя


Массовое создание и обновление Заказов покупателей


Удалить Заказ покупателя


Метаданные Заказов покупателей


Массовое удаление Заказов покупателей


Отдельное доп. поле


Заказ покупателя


Получить Заказ покупателя


Изменить Заказ покупателя


Позиции Заказа покупателя


Получить позиции Заказа покупателя


Позиция Заказа покупателя


Получить позицию


Создать позицию


Изменить позицию


Удалить позицию


Массовое удаление позиций






Заказ поставщику


Заказы Поставщикам


Получить список Заказов Поставщикам


Создать Заказ поставщику


Массовое создание и обновление Заказов поставщику


Удалить Заказ поставщику


Массовое удаление Заказов Поставщикам


Метаданные Заказов Поставщикам


Отдельное доп. поле


Шаблон Заказа поставщику


Шаблон Заказа поставщику на основе


Заказ поставщику


Получить Заказ поставщику


Изменить Заказ поставщику


Позиции Заказа поставщику


Получить позиции Заказа поставщику


Позиция Заказа


Получить позицию


Создать позицию


Изменить позицию


Удалить позицию


Массовое удаление позиций






Инвентаризация


Инвентаризация


Получить Инвентаризации


Создать Инвентаризацию


Массовое создание и обновление Инвентаризаций


Удалить Инвентаризацию


Массовое удаление Инвентаризаций


Метаданные Инвентаризаций


Отдельное доп. поле


Шаблон Инвентаризации


Инвентаризация


Получить Инвентаризацию


Изменить Инвентаризацию


Позиции Инвентаризации


Получить позиции


Позиция Инвентаризации


Получить позицию


Создать позицию


Изменить позицию


Удалить позицию


Массовое удаление позиций






Исходящий платеж


Исходящие платежи


Получить Исходящие платежи


Создать Исходящий платеж


Массовое создание и обновление Исходящих платежей


Удалить Исходящий платеж


Массовое удаление Исходящих платежей


Метаданные Исходящих платежей


Отдельное доп. поле


Шаблон Исходящего платежа


Шаблон Исходящего платежа на основе


Исходящий платеж


Получить Исходящий платеж


Изменить Исходящий платеж






Корректировка взаиморасчетов


Корректировки взаиморасчетов


Получить список Корректировок взаиморасчетов


Создать Корректировку взаиморасчетов


Массовое создание и обновление Корректировок взаиморасчетов


Удалить Корректировку взаиморасчетов


Массовое удаление Корректировок взаиморасчетов


Метаданные Корректировок взаиморасчетов


Корректировка взаиморасчетов


Получить Корректировку взаиморасчетов


Изменить Корректировку взаиморасчетов






Оприходование


Оприходования


Получать Оприходования


Создать Оприходования


Массовое создание и обновление Оприходований


Удалить Оприходование


Массовое удаление Оприходований


Метаданные Оприходований


Отдельное доп. поле


Оприходование


Получить Оприходование


Изменить Оприходование


Позиции Оприходований


Получить позиции Оприходования


Позиция Оприходования


Получить позицию


Создать позицию


Изменить позицию


Удалить позицию


Массовое удаление позиций






Отгрузка


Отгрузки


Получить список Отгрузок


Создать Отгрузку


Массовое создание и обновление Отгрузок


Удалить Отгрузку


Массовое удаление Отгрузок


Метаданные Отгрузок


Отдельное доп. поле


Шаблон Отгрузки


Шаблон Отгрузки на основе


Отгрузка


Получить Отгрузку


Изменить Отгрузку


Позиции Отгрузки


Получить позиции Отгрузки


Позиция Отгрузки


Получить позицию


Создать позицию


Изменить позицию


Удалить позицию


Массовое удаление позиций






Перемещение


Перемещения


Получить Перемещения


Создать Перемещение


Массовое создание и обновление Перемещений


Удалить Перемещение


Массовое удаление Перемещений


Шаблон Перемещения


Шаблон Перемещения на основе


Метаданные Перемещений


Отдельное доп. поле


Перемещение


Получить Перемещение


Изменить Перемещение


Позиции Перемещения


Получить позиции


Позиция Перемещения


Получить позицию


Создать позицию


Изменить позицию


Удалить позицию


Массовое удаление позиций






Полученный отчет комиссионера


Полученные отчеты комиссионера


Получить отчеты комиссионера


Создать Полученный отчет комиссионера


Массовое создание и обновление Полученных отчетов комиссионера


Удалить Полученный отчет комиссионера


Массовое удаление Полученных отчетов комиссионера


Метаданные Полученного отчета


Отдельное доп. поле


Полученный отчет комиссионера


Получить отчет комиссионера


Изменить Полученный отчет комиссионера


Позиции реализовано комиссионером


Получить позиции реализовано комиссионером


Получить позицию реализовано комиссионером


Создать позицию реализовано комиссионером


Изменить позицию реализовано комиссионером


Удалить позицию реализовано комиссионером


Массовое удаление позиций реализовано комиссионером


Позиции возврата на склад комиссионера


Получить позиции возврата на склад комиссионера


Получить позицию возврата на склад комиссионера


Создать позицию возврата на склад комиссионера


Изменить позицию возврата на склад комиссионера


Удалить позицию возврата на склад комиссионера


Массовое удаление позиций возврата на склад комиссионера






Прайс-лист


Прайс-листы


Получить список Прайс-листов


Создать Прайс-лист


Массовое создание и обновление Прайс-листов


Удалить Прайс-лист


Массовое удаление Прайс-листов


Метаданные Прайс-листов


Отдельное доп. поле


Прайс-лист


Получить Прайс-лист


Изменить Прайс-лист


Позиции Прайс-листа


Получить позиции Прайс-листа


Позиция Прайс-листа


Получить позицию


Создать позицию


Изменить позицию


Удалить Позицию


Массовое удаление позиций






Предоплата


Предоплаты


Атрибуты доступные для фильтрации


Атрибуты доступные для сортировки


Получить список Предоплат


Метаданные Предоплат


Отдельное доп. поле


Предоплата


Получить Предоплату


Удалить Предоплату


Позиции Предоплаты


Получить позиции Предоплаты


Позиция Предоплаты






Приемка


Приемки


Получить список Приемок


Создать Приемку


Массовое создание и обновление Приемок


Удалить Приемку


Массовое удаление Приемок


Метаданные Приемок


Шаблон Приемки


Шаблон Приемки на основе


Отдельное доп. поле


Отдельное доп. поле


Приемка


Получить Приемку


Изменить Приемку


Позиции Приемки


Получить позиции Приемки


Позиция Приемки


Получить позицию


Создать позицию


Изменить позицию


Удалить позицию


Массовое удаление позиций






Приходный ордер


Приходные ордера


Получить Приходные ордера


Создать Приходный ордер


Массовое создание и обновление Приходных ордеров


Удалить Приходный ордер


Массовое удаление Приходных ордеров


Метаданные Приходных ордеров


Отдельное доп. поле


Шаблон Приходного ордера


Шаблон Приходного ордера на основе


Приходный ордер


Получить Приходный ордер


Изменить Приходный ордер






Производственное задание


Производственные задания


Получить список Производственных заданий


Создать Производственное задание


Массовое создание и обновление Производственных заданий


Массовое удаление Производственных заданий


Метаданные Производственных заданий


Отдельное доп. поле


Получить Производственное задание


Изменить Производственное задание


Удалить Производственное задание


Продукты производственного задания


Получить Продукты производственного задания


Продукт производственного задания


Получить продукт производственного задания


Создать продукт


Изменить продукт


Удалить продукт


Массовое удаление продуктов Производственного задания


Позиции производственного задания


Получить список позиций производственного задания


Получить отдельную позицию производственного задания


Изменить позиции производственного задания


Удалить отдельную позицию производственного задания


Производственные этапы


Получить список Производственных этапов Производственного задания


Изменить Производственный этап


Материалы производственного этапа


Получить Материалы производственного этапа


Добавить Материал к производственному этапу


Изменить Материал производственного этапа


Удалить Материал производственного этапа






Расходный ордер


Расходные ордера


Получить Расходные ордера


Создать Расходный ордер


Массовое создание и обновление  Расходных ордеров


Удалить Расходный ордер


Массовое удаление Расходных ордеров


Метаданные Расходных ордеров


Отдельное доп. поле


Шаблон Расходного ордера


Шаблон Расходного ордера на основе


Расходный ордер


Получить Расходный ордер


Изменить Расходный ордер






Розничная продажа


Розничные продажи


Получить Розничные продажи


Создать Розничную продажу


Массовое создание и обновление Розничных продаж


Удалить Розничную продажу


Массовое удаление Розничных продаж


Метаданные Розничных продаж


Отдельное доп. поле


Шаблон Розничной продажи


Розничная продажа


Получить Розничную продажу


Изменить Розничную продажу


Позиции Розничной продажи


Получить позиции


Позиция Розничной продажи


Получить позицию


Создать позицию


Изменить позицию


Удалить позицию


Массовое удаление позиций






Розничная смена


Розничные смены


Получить Розничные смены


Создать розничную смену


Изменить розничную смену


Удалить Розничную смену


Метаданные Розничных смен


Отдельное доп. поле


Получить Розничную смену






Розничный возврат


Розничные возвраты


Получить Розничные возвраты


Создать Розничный возврат


Массовое создание и обновление Розничных возвратов


Удалить Розничный возврат


Метаданные Розничных возвратов


Отдельное доп. поле


Шаблон Розничного возврата


Розничный возврат


Получить Розничный возврат


Изменить Розничный возврат


Позиции Розничного возврата


Получить позиции


Позиция Розничного возврата


Получить позицию


Создать позицию


Изменить позицию


Удалить позицию


Массовое удаление позиций






Списание


Списания


Получить Списания


Создать Списание


Массовое создание и обновление Списаний


Удалить Списание


Массовое удаление Списаний


Метаданные Списаний


Отдельное доп. поле


Шаблон Списания


Шаблон Списания на основе


Списание


Получить Списание


Изменить Списание


Позиции Списания


Получить позиции Списания


Позиция Списания


Получить позицию


Создать позицию


Изменить позицию


Удалить позицию


Массовое удаление позиций






Счет покупателю


Счета покупателям


Получить Счета покупателям


Создать Счет покупателю


Массовое создание и обновление Счетов покупателю


Удалить Счет покупателю


Массовое удаление Счетов покупателям


Метаданные Счетов покупателям


Отдельное доп. поле


Шаблон Счета покупателю


Шаблон Счета покупателю на основе


Счет покупателю


Получить Счет покупателю


Изменить Счет покупателю


Позиции Счета покупателю


Получить позиции Счета покупателю


Позиция Счета покупателя


Получить позицию


Создать позицию


Изменить позицию


Удалить позицию


Массовое удаление позиций






Счет поставщика


Счета поставщиков


Получить Счета поставщиков


Создать Счет поставщика


Массовое создание и обновление Счетов поставщика


Удалить Счет поставщика


Массовое удаление Счетов поставщиков


Метаданные Счетов поставщиков


Отдельное доп. поле


Шаблон Счета поставщика


Шаблон Счета поставщика на основе


Счет поставщика


Получить Счет поставщика


Изменить Счет поставщика


Позиции Счета поставщика


Получить позиции Счета поставщика


Позиция Счета поставщика


Получить позицию


Создать позицию


Изменить позицию


Удалить позицию


Массовое удаление позиций






Счет-фактура выданный


Счета-фактуры выданные


Получить выданные Счета-фактуры


Создать Счет-фактуру


Массовое создание и обновление Счетов-фактур выданных


Массовое удаление Счетов-фактур выданных


Метаданные Счетов-фактур выданных


Отдельное доп. поле


Шаблон Счета-фактуры выданного


Счет-фактура выданный


Получить Счет-фактуру выданный


Изменить Счет-фактуру выданный


Удалить Счет-фактуру выданный






Счет-фактура полученный


Счета-фактуры полученные


Получить Счета-фактуры полученные


Создать Счет-фактуру


Массовое создание и обновление Счетов-фактур полученных


Массовое удаление Счетов-фактур полученных


Метаданные Счетов-фактур полученных


Отдельное доп. поле


Шаблон Счета-фактуры полученного


Счет-фактура полученный


Получить Счет-фактуру полученный


Изменить Счет-фактуру полученный


Удалить Счет-фактуру полученный






Техоперация


Техоперации


Получить список Техопераций


Создать Техоперацию


Массовое создание и обновление Техопераций


Удалить Техоперацию


Массовое удаление Техопераций


Метаданные Техопераций


Отдельное доп. поле


Шаблон Техоперации


Техоперация


Получить Техоперацию


Изменить Техоперацию


Получить материалы Техоперации


Материал Техоперации


Получить материал


Добавить материал


Изменить материал


Удалить материал


Массовое удаление материалов


Продукты Техоперации


Получить продукты Техоперации


Продукт Техоперации


Получить продукт


Добавить продукт


Изменить продукт


Удалить продукт


Массовое удаление продуктов






Отчеты


Аудит


Уведомления


Workbook


Список изменений



Java SDK


Сообщите об ошибке






ДокументыОбщие сведенияШаблоны документов
Шаблон - предзаполненный стандартными полями JSON-объект, который затем можно использовать для успешного создания документа.
Средствами JSON API можно получать предзаполненные шаблоны документов. Они могут быть предзаполнены как на основе других документов, так и стандартными значениями без связей с другими документами.
Для этого, во всех документах, по которым можно получить шаблон, существует специальный ресурс Шаблон документа, адрес которого формируется следующим образом:
https://api.moysklad.ru/api/remap/1.2/entity/<ключевое слово для документа>/new

В тело PUT запроса по данному ресурсу нужно передать метаданные документа, на основе которого будет создан шаблон нового документа, либо просто передать пустое тело запроса.
Метаданные должны быть "обернуты" в объект, имя которого есть ключевое слово для документа-основания в JSON API.
Для каждого из данных ресурсов есть примеры запросов и ответов.
Шаблон по токену решения. Существуют отличия в полученных шаблонах при авторизации от пользователя или авторизации от токена решения. В шаблоне полученном при авторизации от решения будет отсутствовать поле owner, group, store, organization. Так же будут отличия между шаблонами на основании документов, полученных при авторизации от пользователя или решения.
На данный момент можно получить шаблоны следующих документы на основании других:


Документ
Основание, на котором он может быть создан



Cчет покупателю (invoiceout)
Заказ покупателя (customerorder), Отгрузка (demand)


Возврат покупателя (salesreturn)
Отгрузка (demand), Розничная продажа (retaildemand)


Возврат поставщику (purchasereturn)
Приемка (supply)


Входящий платеж (paymentin)
Заказ покупателя (customerorder), Возврат поставщику (purchasereturn), Отгрузка (demand), Счет покупателю (invoiceout), Полученный отчет комиссионера (commissionreportin)


Заказ на производство (processingorder)
Техкарта (processingplan)


Заказ поставщику (purchaseorder)
Внутренний заказ (internalorder), Заказ покупателя (customerorder)


Исходящий платеж (paymentout)
Возврат покупателя (salesreturn), Приемка (supply), Счет поставщика (invoicein), Заказ поставщику (purchaseorder), Выданный отчет комиссионера (commissionreportout)


Оприходование (enter)
Инвентаризация(inventory)


Отгрузка (demand)
Заказ покупателя (customerorder), Счет покупателю (invoiceout)


Перемещение (move)
Внутренний заказ (internalorder), Заказ покупателя (customerorder)


Приходный ордер (cashin)
Заказ покупателя (customerorder), Возврат поставщику (purchasereturn), Отгрузка (demand), Счет покупателю (invoiceout), Полученный отчет комиссионера (commissionreportin)


Расходный ордер (cashout)
Возврат покупателя (salesreturn), Приемка (supply), Счет поставщика (invoicein), Заказ поставщику (purchaseorder), Выданный отчет комиссионера (commissionreportout)


Розничная продажа (retaildemand)
Розничная смена (retailshift), Заказ покупателя (customerorder)


Розничный возврат (retailsalesreturn)
Розничная смена (retailshift), Розничная продажа (retaildemand)


Выплата денег (retaildrawercashout)
Розничная смена (retailshift)


Внесение денег (retaildrawercashin)
Розничная смена (retailshift)


Списание (loss)
Возврат покупателя (salesreturn),инвентаризация(inventory)


Счет поставщика (invoicein)
Заказ поставщику (purchaseorder), Приемка (supply)


Счет-фактура полученный (facturein)
Приемка (supply), Исходящий платеж (paymentout)


Счет-фактура выданный (factureout)
Отгрузка (demand), Возврат поставщику (purchasereturn), Входящий платеж (paymentin)


Техоперация (processing)
Заказ на производство (processingorder), Техкарта (processingplan)


В результате PUT запроса по /entity/entityName/new НЕ будет создано нового документа.
 Возвращаемый предзаполненный объект является лишь "болванкой" с некоторыми заполненными полями (поля заполняются по той же логике,
 что и в аналогичной ситуации в основном интерфейсе), облегчающей создание документа. Он не сохраняется в системе. Этот
 объект затем можно передать в теле запроса на создание соответствующего документа и тогда уже документ будет создан, и связан с документом-основанием.

Если послать на данный ресурс пустое тело запроса, то в итоговом шаблоне будут предзаполнены лишь стандартные поля в т.ч. указанные в настройках пользователя
в учетной записи сервиса МойСклад.
В случае если инвентаризация содержит более 500 подходящих позиций, то шаблон списания (loss) и оприходования (entry) будет создан по первым 500 позициям. 
С подробностями и примерами по каждому из документов можно ознакомиться в соответствующих разделах документации.
Например, для шаблона отгрузки - смотреть в Шаблонах отгрузки
Контекстный поиск для документов
В JSON API можно осуществлять контекстный поиск среди списка сущностей определенного типа по их строковым полям. Для этого
используется URI параметр фильтрации search.

search
Параметр фильтрации, с помощью которого можно осуществить поиск в списке сущностей. Поиск происходит по основным строковым полям сущностей данного
типа. Результатом поиска будет отсортированный по релевантности список сущностей данного типа, прошедших фильтрацию по переданной поисковой строке. В отличии от фильтрации выборки
с помощью параметра filter, при которой значения проверяются на точное совпадение указанным, при контекстном поиске проверка на совпадение не строгая.
Таким образом, если осуществлять фильтрацию вида ../entity/?filter=name=иван в отфильтрованную выборку попадут только те сущности, поле name
у которых имеет значение иван и никакие другие. При контекстном поиске вида ../entity/?search=иван будут выведены как сущности с name равным
иван, так и сущности, в имени (или в другом строковом поле) которых иван просто содержится, например диван, иванова и т.п.

Поиск среди документов на соответствие поисковой строке будет осуществлен по следующим полям:
  + по наименованию (name)
  + по описанию (description)
  + по входящему номеру (incomingNumber)

Примеры запросов контекстного поиска (значения должны быть urlencoded):


https://api.moysklad.ru/api/remap/1.2/entity/retaildemand?search=100
https://api.moysklad.ru/api/remap/1.2/entity/salesreturn?search=брак
https://api.moysklad.ru/api/remap/1.2/entity/retailshift?search=ночная


Удаление в корзину
Корзина позволяет избежать риска случайного удаления важных документов. Удаление
в корзину доступно только при наличии у сотрудника соответствующих прав, а также
настроек компании на использовании корзины.
Пример удаления Приемки в корзину
Запрос на удаление Приемки с указанным id в корзину.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/supply/be3a3a0e-370c-11e7-1542-821d00000001/trash"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d ''  


Response 200 (application/json)
Успешное удаление Приемки.

Связи документовПривязка документов к документам
Для того чтобы привязать к уже существующему документу другой документ нужно
передать meta привязываемого документа в коллекцию связанных документов или в единственный документ этого типа.
Такие поля присутствуют среди атрибутов документов. В описании сущностей они описаны в секции Связи с другими документами.
Для коллекций каждое поле называется как ключевое слово для типов привязываемых документов во множественном числе. Например поле invoicesOut у отгрузок
отвечает за связи с счетами покупателю. Если вы хотите привязать к отгрузке счет, в это поле, в составе коллекции, нужно положить meta счета покупателя который вы хотите привязать,
Можно привязывать более 1 документа.
Пример привязки 1
Привязка внутреннего заказа к перемещению.
Пример запроса на привязку внутреннего заказа к перемещению.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "internalOrder": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/31d58bde-b2fd-11e6-8a84-bae500000068",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata",
                "type": "internalorder",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Результат - перемещение с заполненным полем internalOrder.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/d9318341-b0da-11e6-8a84-bae5000000c7",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
    "type": "move",
    "mediaType": "application/json"
  },
  "id": "d9318341-b0da-11e6-8a84-bae5000000c7",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-22 20:41:07",
  "name": "00001",
  "externalCode": "8Fn2HqBbguhZxoYrjWYAf3",
  "moment": "2016-11-22 20:40:00",
  "applicable": true,
  "sum": 0,
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/d9318341-b0da-11e6-8a84-bae5000000c7/positions",
      "type": "moveposition",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "sourceStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b942743c-9128-11e6-8a84-bae500000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "targetStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/85a8e439-b0d8-11e6-8a84-bae500000070",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "internalOrder": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/31d58bde-b2fd-11e6-8a84-bae500000068",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata",
      "type": "internalorder",
      "mediaType": "application/json"
    }
  }
}
Пример привязки 2
Привязка счета покупателю к отгрузке.
Пример запроса на привязку счета покупателю к отгрузке.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "invoicesOut": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/6cb87758-95f4-11e6-8a84-bae500000067",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
                  "type": "invoiceout",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Результат - отгрузка с новым элементом в коллекции invoicesOut.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/06406b97-9138-11e6-8a84-bae500000000",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
    "type": "demand",
    "mediaType": "application/json"
  },
  "id": "06406b97-9138-11e6-8a84-bae500000000",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-10-13 14:27:29",
  "name": "000201",
  "externalCode": "q5Ot--p3gHJrOFylVF2lQ2",
  "moment": "2016-10-13 12:38:00",
  "applicable": false,
  "sum": 0,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b942743c-9128-11e6-8a84-bae500000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/06406b97-9138-11e6-8a84-bae500000000/positions",
      "type": "demandposition",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "vatSum": 0,
  "payedSum": 0,
  "invoicesOut": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/6cb87758-95f4-11e6-8a84-bae500000067",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
        "type": "invoiceout",
        "mediaType": "application/json"
      }
    }
  ]
}
Пример привязки 3
Привязка перемещений к заказу покупателя.
Пример запроса на привязку перемещений к заказу покупателя.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c60e87dc-97b2-11ed-c0a8-a00d00000001"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "moves": [
                    {
                        "meta": {
                            "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/bc8aa8d7-95fa-11ed-c0a8-a00c0000001a",
                            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
                            "type": "move",
                            "mediaType": "application/json",
                            "uuidHref": "https://online.moysklad.ru/app/#move/edit?id=bc8aa8d7-95fa-11ed-c0a8-a00c0000001a"
                        }
                    },
                    {
                        "meta": {
                            "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/06406b97-9138-11e6-8a84-bae500000000",
                            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
                            "type": "move",
                            "mediaType": "application/json",
                            "uuidHref": "https://online.moysklad.ru/app/#move/edit?id=06406b97-9138-11e6-8a84-bae500000000"
                        }
                    }
                ]
        }'  

Response 200 (application/json)
Результат - заказ покупателя с новыми элементами в коллекции moves.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "name": "CustomerOrder 1",
  "moment": "2016-11-25 17:33:33",
  "applicable": true,
  "sum": 0,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b942743c-9128-11e6-8a84-bae500000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/8c33b721-8782-11ed-c0a8-a00c000000b6",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "printed": false,
  "published": false,
  "files": {
    "rows": []
  },
  "positions": {
    "rows": []
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "payedSum": 0.0,
  "shippedSum": 0.0,
  "invoicedSum": 0.0,
  "moves": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/bc8aa8d7-95fa-11ed-c0a8-a00c0000001a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
        "type": "move",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#move/edit?id=bc8aa8d7-95fa-11ed-c0a8-a00c0000001a"
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/06406b97-9138-11e6-8a84-bae500000000",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
        "type": "move",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#move/edit?id=06406b97-9138-11e6-8a84-bae500000000"
      }
    }
  ]
}
Привязка платежей к документам
К некоторым документам в JSON API могут быть привязаны платежи. Платежи бывают 4-х типов: Входящий платеж, Приходный ордер, Исходящий платеж, Расходный ордер.
Документы, к которым могут быть привязаны платежи содержат вложенную коллекцию payments среди атрибутов документа. Платежи в свою очередь содержат коллекцию operations - операции, к которым привязан данный платеж. Для того, чтобы привязать платеж к документу, нужно в запросах
на создание/обновление платежа в составе коллекции operations указать meta документа. Документы в этой коллекции могут иметь разный тип, однако это не значит, что к любому документу можно привязать все 4 типа платежей. Валидные типы платежей определяются самим документом, к которому происходит привязка. К примеру к полученному отчету комиссионера можно привязать только входящий платеж или приходный ордер. 
В результате привзяки платежа, в составе коллекции operations платежа появится новый объект, указывающий на документ, а в составе коллекции payments у документа, к которому
привязывается платеж, появится новый элемент ссылающийся на данный платеж.
Пример привязки платежа 1
Привязка входящего платежа к полученному отчету комиссионера.
Пример запроса на привязку платежа к полученному отчету комиссионера.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/392fb7a9-ab02-11e6-8a84-bae500000073",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata",
                  "type": "commissionreportin",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Результат - входящий платеж с новым элементом в коллекции operations.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/94a9f8e9-b30b-11e6-8a84-bae500000017",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata",
    "type": "paymentin",
    "mediaType": "application/json"
  },
  "id": "94a9f8e9-b30b-11e6-8a84-bae500000017",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-25 15:35:00",
  "name": "Платеж",
  "externalCode": "-S9khhF3gNPa78SPCu81S2",
  "moment": "2016-11-25 15:35:00",
  "applicable": true,
  "sum": 400,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942953e-9128-11e6-8a84-bae500000054",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a8f3150d-9d39-11e6-8a84-bae500000074",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "vatSum": 0,
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/392fb7a9-ab02-11e6-8a84-bae500000073",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata",
        "type": "commissionreportin",
        "mediaType": "application/json"
      },
      "linkedSum": 0
    }
  ]
}

Пример привязки платежа 2
Привязка приходного ордера к заказу покупателя.
Пример запроса на привязку приходного ордера к заказу покупателя.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/cashin/7944ef04-f831-11e5-7a69-971500188b19
"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/559adab5-915c-11e6-8a84-bae500000014",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
                  "type": "customerorder",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Результат - приходный ордер с новым элементом в коллекции operations.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/834d731c-b313-11e6-8a84-bae50000008e",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata",
    "type": "cashin",
    "mediaType": "application/json"
  },
  "id": "834d731c-b313-11e6-8a84-bae50000008e",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-25 16:31:47",
  "name": "1111",
  "externalCode": "WpAtzal3hGUnUfQS55x781",
  "moment": "2016-11-25 16:31:00",
  "applicable": true,
  "sum": 32131000,
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "vatSum": 0,
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/559adab5-915c-11e6-8a84-bae500000014",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
        "type": "customerorder",
        "mediaType": "application/json"
      },
      "linkedSum": 0
    }
  ]
}
Валюта в документах
Поле rate содержит объект, представляющий валюту в документах.
Атрибуты объекта валюты


Название
Тип
Описание



currency
Meta
Метаданные валютыОбязательное при ответе Expand


value
Float
Курс валюты в этом документе (содержится в ответе, если значение курса отлично от 1)


Вместо ссылки на валюту можно получить объект валюты целиком с помощью параметра запроса ?expand=rate.currency.
Пересчет расчетного остатка в инвентаризации
С помощью json api можно пересчитать расчетный остатки в позициях документа "Инвентаризация". В результате, значение поля calculatedQuantity у позиций инвентаризации изменится и документ будет пересохранен.
Пересчет расчетного остатка в инвентаризации
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id инвентаризации.


Пересчитать
Отправить запрос на пересчет расчетных остатков у позиций инвентаризации.
Пример запроса (с пустым телом) на пересчет расчетных остатков у позиций инвентаризации.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/rpc/inventory/7944ef04-f831-11e5-7a69-971500188b19/recalcCalculatedQuantity"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d ''  


Response 201 (application/json)
Успешный запрос. Результат - Пустое тело ответа.

Печать документов
Средствами JSON API можно запрашивать печать документов с помощью шаблонов печатных форм.
При запросе на формирование печатной формы сервер (при готовности документа, корректной
печатной форме и правильном формате запроса) отвечает пустым телом ответа с http кодом 303.
В заголовке Location ответа содержится адрес временного расположения готовой к загрузке печатной формы.
Файл во временном расположении доступен для загрузки в течение 5 минут.
Сервер может вернуть ответ 202 и заголовок Location с адресом для опроса готовности печатной формы к загрузке.
Данный вариант будет реализован позже.
Печать документаЗапрос на печать
Параметры


Параметр
Описание



id
string (required) Example: a86708d2-f8d3-4e67-8f04-6101158da808 id сущности, для которой запрашивается печать.


type
string (required) Example: demand тип сущности, для которой запрашивается печать.


Запрос на печать отдельного документа по шаблону печатной формы.
Атрибуты запроса


Название
Тип
Описание



template
Meta
Метаданные Шаблона печатиОбязательное при ответе


extension
String(4)
Расширение, в котором нужно напечатать форму. Можно указать xls, pdf, html, odsОбязательное при ответе


Также можно напечатать комплект документов. Для этого вместо поля template нужно указать поле templates, которое является массивом объектов со следующими полями:


Название
Тип
Описание



template
Meta
Метаданные Шаблона печатиОбязательное при ответе


count
Int
Количество копий печатной формы. От 1 до 10.Обязательное при ответе


Если в запросе будет как поле templates так и поле template (вне элемента массива templates), произойдет ошибка. В запросе допустимо только 1 из этих полей.
При печати комплектов не нужно указывать поле extension - все комплекты печатаются в pdf.
При печати комплекта, для определенных сущностей можно использовать шаблоны для печати связанных документов.
Так, например, для отгрузки (demand) можно использовать шаблоны:

Счет покупателю
Счет покупателю с печатью и подписью
Заказ покупателя
Счет-фактура выданный
Любой пользовательский шаблон для вышеперечисленных сущностей.

для заказа покупателя:

Любой стандартный (embeddedtemplate) шаблон для отгрузки.
Счет покупателю
Счет покупателю с печатью и подписью
Счет-фактура выданный
Любой пользовательский шаблон для вышеперечисленных сущностей.

для счета покупателю:

Любой стандартный (embeddedtemplate) шаблон для отгрузки.
Заказ покупателя
Счет-фактура выданный
Любой пользовательский шаблон для вышеперечисленных сущностей.

Пример запроса на печать отдельного документа по шаблону печатной формы.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/demand/a86708d2-f8d3-4e67-8f04-6101158da808/export/"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "template": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/customtemplate/daca545a-1a35-11e7-8a84-bae500000001",
                "type": "customtemplate",
                "mediaType": "application/json"
              }
            },
            "extension": "xls"
          }'  

Response 202 Headers
ПоказатьСвернуть
  Location: ссылка на статус печати
  Content-Type: application/json

Response 303 Headers
ПоказатьСвернуть
  Location: ссылка на файл
  Content-Type: application/json

Пример запроса на печать комплекта документов. В результате запроса будет напечатан комплект в сумме из 6 печатных форм.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/demand/a86708d2-f8d3-4e67-8f04-6101158da808/export/"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "templates": [
              {
                "template": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/customtemplate/daca545a-1a35-11e7-8a84-bae500000001",
                    "type": "customtemplate",
                    "mediaType": "application/json"
                  }
                },
                "count": 2
              },
              {
                "template": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata/embeddedtemplate/3d2685b4-cf64-4fd1-87c8-e109966b364b",
                    "type": "embeddedtemplate",
                    "mediaType": "application/json"
                  }
                },
                "count": 3
              },
              {
                "template": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata/embeddedtemplate/6f3c9a47-6772-4944-9723-92d0d7be2a9c",
                    "type": "embeddedtemplate",
                    "mediaType": "application/json"
                  }
                },
                "count": 1
              }
            ]
          }'  

Response 202 Headers
ПоказатьСвернуть
Location: ссылка на статус печати
Content-Type: application/json

Response 303 Headers
ПоказатьСвернуть
Location: ссылка на файл
Content-Type: application/json
Публикация документов
JSON API позволяет опубликовать для общего пользования печатную форму документа, созданную на основе шаблона печатной формы.
Кодом сущности для публикации в составе JSON API является ключевое слово publication.
Работа пользователя с публикациями документов возможна, если есть право на чтение и право печати сущности данного типа.
Публикации доступны только для следующих типов: Заказ покупателя, Счет покупателю, Отгрузка, Заказ поставщику, Счет поставщика, Приемка, Входящий платеж, Приходный ордер, Исходящий платеж, Расходный ордер, Внутренний заказ, Перемещение, Оприходование, Списание, Счет-фактура выданный, Счет-фактура полученный, Возврат поставщику, Возврат покупателя, Выплата денег, Внесение денег, Розничный возврат, Розничная продажа, Договор, Розничная смена, Заказ на производство, Полученный отчет комиссионера, Выданный отчет комиссионера, Инвентаризация, Техоперация.
ПубликацииАтрибуты сущности


Название
Тип
Описание



meta
Meta
Метаданные ПубликацииОбязательное при ответе


template
Meta
Метаданные Шаблона печатиОбязательное при ответе Expand


href
URL
Ссылка на страницу ПубликацииОбязательное при ответе


Получить публикации
Параметры


Параметр
Описание



id
string (required) Example: a86708d2-f8d3-4e67-8f04-6101158da808 id сущности, по которой получить Публикации.


type
string (required) Example: demand тип сущности, по которой получить Публикации.


Запрос на получение списка Публикаций по указанному документу.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/demand/a86708d2-f8d3-4e67-8f04-6101158da808/publication"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Публикаций.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/0b71daec-055e-11e6-9464-e4de0000007e/publication",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
    "type": "demand",
    "mediaType": "application/json",
    "size": 1,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/0b71daec-055e-11e6-9464-e4de0000007e/publication/aec51463-bbd2-11e6-8a84-bae500000003",
        "type": "operationpublication",
        "mediaType": "application/json"
      },
      "template": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/customtemplate/38d1c843-1601-11e7-8af5-581e00000009",
          "type": "customtemplate",
          "mediaType": "application/json"
        }
      },
      "href": "https://mskld.ru/73NIpnAbPr"
    }
  ]
}
ПубликацияСоздать публикацию
Запрос на публикацию документа.
Публикация документа происходит на основании переданного объекта JSON, который должен содержать ссылку на шаблона для печати документа template в формате Метаданных. Если публикация была ранее создана, то ответ будет со статусом 200.
Параметры


Параметр
Описание



id
string (required) Example: a86708d2-f8d3-4e67-8f04-6101158da808 id сущности, по которой получить Публикации.


type
string (required) Example: demand тип сущности, по которой получить Публикации.


Пример (application/json)
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/demand/a86708d2-f8d3-4e67-8f04-6101158da808/publication"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "template": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/customtemplate/38d1c843-1601-11e7-8af5-581e00000009",
                "type": "customtemplate",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление ранее созданной Публикации.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/0b71daec-055e-11e6-9464-e4de0000007e/publication/aec51463-bbd2-11e6-8a84-bae500000003",
    "type": "operationpublication",
    "mediaType": "application/json"
  },
  "template": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/customtemplate/38d1c843-1601-11e7-8af5-581e00000009",
      "type": "customtemplate",
      "mediaType": "application/json"
    }
  },
  "href": "https://mskld.ru/reu92ZrjCM"
}

Response 201 (application/json)
Успешный запрос. Результат - JSON представление созданной Публикации.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/0b71daec-055e-11e6-9464-e4de0000007e/publication/aec51463-bbd2-11e6-8a84-bae500000003",
    "type": "operationpublication",
    "mediaType": "application/json"
  },
  "template": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/customtemplate/38d1c843-1601-11e7-8af5-581e00000009",
      "type": "customtemplate",
      "mediaType": "application/json"
    }
  },
  "href": "https://mskld.ru/f00HzRGx8Q"
}
Удалить публикацию
Параметры


Параметр
Описание



id
string (required) Example: a86708d2-f8d3-4e67-8f04-6101158da808 id сущности.


publicationId
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Публикации.


type
string (required) Example: demand тип сущности.


Запрос на удаление Публикации с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/demand/a86708d2-f8d3-4e67-8f04-6101158da808/publication/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 204 (application/json)
Успешное удаление Публикации.

Получить публикацию
Параметры


Параметр
Описание



id
string (required) Example: a86708d2-f8d3-4e67-8f04-6101158da808 id сущности.


publicationId
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Публикации.


type
string (required) Example: demand тип сущности.


Запрос на получение Публикации с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/demand/a86708d2-f8d3-4e67-8f04-6101158da808/publication/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Публикации.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/0b71daec-055e-11e6-9464-e4de0000007e/publication/aec51463-bbd2-11e6-8a84-bae500000003",
    "type": "operationpublication",
    "mediaType": "application/json"
  },
  "template": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/customtemplate/38d1c843-1601-11e7-8af5-581e00000009",
      "type": "customtemplate",
      "mediaType": "application/json"
    }
  },
  "href": "https://mskld.ru/fuXrdd7Uii"
}
Автозаполнение
Средствами JSON API можно рассчитать значение скидок, цен и ндс для позиций следующих документов:

Оприходование
Заказ покупателя
Заказ поставщику
Счет покупателю
Счет поставщику
Отгрузка
Приемка
Списание
Перемещение
Розничная продажа
Розничный возврат
Возврат покупателя
Возврат поставщику
Инвентаризация
Полученный отчет комиссионера
Выданный отчет комиссионера
Внутренний заказ

Заполнение скидок не поддерживает следующие типы:

Инвентаризация
Перемещение
Внутренний заказ
Оприходование
Списание

Заполнение цен не поддерживает Инвентаризация
Заполнение себестоимости поддерживается только для возвратов без основания следующих типов:
- Возврат покупателя
- Розничный возврат
Шаблон автозаполненияАтрибуты сущности
Атрибуты сущности нужно передавать в зависимости от типа документа, для которого будет выполнено автозаполнение. В 
соответствие с типом, будут обрабатываться соответствующие поля.
Ниже приводятся поля, которые влияют на заполнение скидок, цен, ндс и себестоимости.

organization - Ссылка на юрлицо в формате Метаданных. Обязателен со значением evaluate_vat параметра action
agent - Ссылка на контрагента в формате Метаданных. 
Обязателен со значениями evaluate_price, evaluate_discount параметра action
vatEnabled - Учитывается ли НДС
vatIncluded - Включен ли НДС в цену
rate - Валюта. Если не передано, заполняется валютой учета
store - Ссылка на склад в формате Метаданных. Обязателен со значением evaluate_cost параметра action
moment - Дата проведения документа. Влияет на расчет себестоимости 
positions - Позиции документа

При этом, если помимо вышеперечисленных полей были добавлены другие, не влияющие на заполнение, то они будут присутствовать в
ответе в том же порядке и с теми же значениями.
Примечания
Значения параметра action можно передавать через запятую.
Если в документе не используется поле agent, то для расчета цен evaluate_price и скидок evaluate_discount 
используется значение поля organization.
Позиции документа
Позиции в шаблоне - это список товаров/услуг/модификаций/серий/комплектов.
Объект позиции содержит следующие поля:

quantity - Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.
price - Цена товара/услуги в копейках.
discount - Процент скидки или наценки.
vat - НДС, которым облагается текущая позиция.
vatEnabled - включен ли НДС для текущей позиции. С помощью этого флага для позиции можно выставлять НДС = 0 или НДС = "без НДС". (vat = 0, vatEnabled = false) -> vat = "без НДС", (vat = 0, vatEnabled = true) -> vat = 0%.
assortment - Ссылка на товар/услугу/серию/модификацию/комплект, которую представляет собой позиция, в формате Метаданных
discountedPrice - Цена товара/услуги с учетом скидок и ндс в копейках.
sum - Общая сумма с учетом скидки за указанное количество товара в позиции в копейках. Рассчитывается при передаче поля quantity.

Запрос автозаполения
Запрос заполения полей шаблона.
Результат: Объект JSON, с заполненным шаблоном.
Параметры


Параметр
Описание



action
enum (optional) Example: evaluate_discount, evaluate_price, evaluate_discount Определяет какую информацию нужно заполнить: цены (evaluate_price), ндс (evaluate_vat), скидки (evaluate_discount) или себестоимость (evaluate_cost). Допустимые значения: evaluate_price, evaluate_discount, evaluate_vat, evaluate_cost.


Запрос автозаполения цен
Запрос автозаполения с параметром action со значением evaluate_price. Требуется заполнение поля agent (или organization, если поле agent отсутствует). 
Заполняет поле цены товара price (если явно не передано) ценой переданного в поле agent контрагента, 
а также поле discountedPrice, с учетом рассчитанной или переданной скидки discount 
(принимается за 0, если значение отсутствует) и НДС vat (не учитывается, если пустое, поле vatEnabled 
имеет значение false или vatIncluded имеет значение true). Если передано поле quantity, 
то будет рассчитано поле sum. При вычислениях используется переданный rate.
Запрос автозаполения цен
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/wizard/demand?action=evaluate_price"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '
{
   "agent":{
      "meta":{
         "href":"https://api.moysklad.ru/api/remap/1.2/entity/counterparty/eff93a94-c03a-11ea-c0a8-f00c0000001f",
         "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
         "type":"counterparty",
         "mediaType":"application/json",
         "uuidHref":"https://online.moysklad.ru/app/#company/edit?id=eff93a94-c03a-11ea-c0a8-f00c0000001f"
      }
   },
   "positions":[
      {
         "assortment":{
            "meta":{
               "href":"https://api.moysklad.ru/api/remap/1.2/entity/product/46628fb5-c1c8-11ea-c0a8-f00c0000001a",
               "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
               "type":"product",
               "mediaType":"application/json",
               "uuidHref":"https://online.moysklad.ru/app/#good/edit?id=46628fb5-c1c8-11ea-c0a8-f00c00000018"
            }
         },
         "quantity":12
      },
      {
         "assortment":{
            "meta":{
               "href":"https://api.moysklad.ru/api/remap/1.2/entity/product/bb989405-bf9e-11ea-c0a8-f0100000000e",
               "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
               "type":"product",
               "mediaType":"application/json",
               "uuidHref":"https://online.moysklad.ru/app/#good/edit?id=bb96904c-bf9e-11ea-c0a8-f0100000000c"
            }
         },
         "discount":20
      }
   ]
}'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление заполненного шаблона документа.
ПоказатьСвернуть
{
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/eff93a94-c03a-11ea-c0a8-f00c0000001f",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=eff93a94-c03a-11ea-c0a8-f00c0000001f"
    }
  },
  "positions": [
    {
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/46628fb5-c1c8-11ea-c0a8-f00c0000001a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=46628fb5-c1c8-11ea-c0a8-f00c00000018"
        }
      },
      "price": 3300.0,
      "discountedPrice": 3300.0,
      "quantity": 12.0,
      "sum": 39600.0
    },
    {
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/bb989405-bf9e-11ea-c0a8-f0100000000e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=bb96904c-bf9e-11ea-c0a8-f0100000000c"
        }
      },
      "price": 3300.0,
      "discountedPrice": 2640.0,
      "discount": 20.0
    }
  ]
}
Запрос автозаполения скидок
Запрос автозаполения с параметром action со значением evaluate_discount. Требуется заполнение поля agent (или organization, если поле agent отсутствует). 
Заполняет поле скидки discount (если явно не передано) суммой применимых к данному товару активных скидок 
переданного в поле agent контрагента.
Запрос автозаполения скидок
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/wizard/demand?action=evaluate_discount"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '
{
   "agent":{
      "meta":{
         "href":"https://api.moysklad.ru/api/remap/1.2/entity/counterparty/eff93a94-c03a-11ea-c0a8-f00c0000001f",
         "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
         "type":"counterparty",
         "mediaType":"application/json",
         "uuidHref":"https://online.moysklad.ru/app/#company/edit?id=eff93a94-c03a-11ea-c0a8-f00c0000001f"
      }
   },
   "positions":[
      {
         "assortment":{
            "meta":{
               "href":"https://api.moysklad.ru/api/remap/1.2/entity/product/46628fb5-c1c8-11ea-c0a8-f00c0000001a",
               "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
               "type":"product",
               "mediaType":"application/json",
               "uuidHref":"https://online.moysklad.ru/app/#good/edit?id=46628fb5-c1c8-11ea-c0a8-f00c00000018"
            }
         },
         "quantity":12
      },
      {
         "assortment":{
            "meta":{
               "href":"https://api.moysklad.ru/api/remap/1.2/entity/product/bb989405-bf9e-11ea-c0a8-f0100000000e",
               "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
               "type":"product",
               "mediaType":"application/json",
               "uuidHref":"https://online.moysklad.ru/app/#good/edit?id=bb96904c-bf9e-11ea-c0a8-f0100000000c"
            }
         }
      }
   ]
}'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление заполненного шаблона документа.
ПоказатьСвернуть
{
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/eff93a94-c03a-11ea-c0a8-f00c0000001f",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=eff93a94-c03a-11ea-c0a8-f00c0000001f"
    }
  },
  "positions": [
    {
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/46628fb5-c1c8-11ea-c0a8-f00c0000001a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=46628fb5-c1c8-11ea-c0a8-f00c00000018"
        }
      },
      "quantity": 12.0,
      "discount": 65.0
    },
    {
      "discount": 40.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/bb989405-bf9e-11ea-c0a8-f0100000000e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=bb96904c-bf9e-11ea-c0a8-f0100000000c"
        }
      }
    }
  ]
}
Запрос автозаполения НДС
Запрос автозаполения с параметром action со значением evaluate_vat. Требуется заполнение поля organization. 
Заполняет поле vatEnabled на основе того, является ли переданная в поле organization организация плательщиком 
НДС и поля vat у позиций значением из карточки товара, если организация - плательщик НДС.
Запрос автозаполения НДС
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/wizard/demand?action=evaluate_vat"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '
{
    "organization": {
        "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/44055d92-bf76-11ea-c0a8-f01000000070",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
            "type": "organization",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=44055d92-bf76-11ea-c0a8-f01000000070"
        }
    },
    "vatEnabled": "true",
    "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/44126ea6-bf76-11ea-c0a8-f01000000077",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#currency/edit?id=44126ea6-bf76-11ea-c0a8-f01000000077"
          }
        }
    },
    "positions": [
        {
            "assortment": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/46628fb5-c1c8-11ea-c0a8-f00c0000001a",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=466222d6-c1c8-11ea-c0a8-f00c00000018"
                }
            },
            "quantity": 12
        },
        {
            "assortment": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/bb989405-bf9e-11ea-c0a8-f0100000000e",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=bb96904c-bf9e-11ea-c0a8-f0100000000c"
                }
            }
        }
    ]
}'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление заполненного шаблона документа.
ПоказатьСвернуть
{
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/44055d92-bf76-11ea-c0a8-f01000000070",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=44055d92-bf76-11ea-c0a8-f01000000070"
    }
  },
  "vatEnabled": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/44126ea6-bf76-11ea-c0a8-f01000000077",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#currency/edit?id=44126ea6-bf76-11ea-c0a8-f01000000077"
      }
    }
  },
  "positions": [
    {
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/46628fb5-c1c8-11ea-c0a8-f00c0000001a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=466222d6-c1c8-11ea-c0a8-f00c00000018"
        }
      },
      "quantity": 12.0,
      "vat": 10,
      "vatEnabled": true
    },
    {
      "vat": 18,
      "vatEnabled": true,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/bb989405-bf9e-11ea-c0a8-f0100000000e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=bb96904c-bf9e-11ea-c0a8-f0100000000c"
        }
      }
    }
  ]
}
Запрос автозаполения себестоимости
Запрос автозаполения с параметром action со значением evaluate_cost. Выполняется только для Возвратов Покупателя и Розничных Возвратов без основания. Требуется заполнение поля store. 
Заполняет поля cost у позиций значением себестоимости, рассчитанным по FIFO на момент moment. Если поле moment не указано, то себестоимость рассчитывается на текущую дату.
Запрос автозаполения себестоимости
ПоказатьСвернуть
  curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/wizard/salesreturn?action=evaluate_cost"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
    -d '
{
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/16a3019e-1204-11eb-c0a8-300c00000072",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=16a3019e-1204-11eb-c0a8-300c00000072"
    }
  },
  "moment": "2020-10-20 17:45:00.000",
  "positions": [
    {
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/46628fb5-c1c8-11ea-c0a8-f00c0000001a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=466222d6-c1c8-11ea-c0a8-f00c00000018"
        }
      }
    },
    {
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/bb989405-bf9e-11ea-c0a8-f0100000000e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=bb96904c-bf9e-11ea-c0a8-f0100000000c"
        }
      }
    }
  ]
}'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление заполненного шаблона документа.
ПоказатьСвернуть
{
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/16a3019e-1204-11eb-c0a8-300c00000072",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=16a3019e-1204-11eb-c0a8-300c00000072"
    }
  },
  "moment": "2020-10-20 17:45:00.000",
  "positions": [
    {
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/46628fb5-c1c8-11ea-c0a8-f00c0000001a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=466222d6-c1c8-11ea-c0a8-f00c00000018"
        }
      },
    "cost": 1200.0
    },
    {
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/bb989405-bf9e-11ea-c0a8-f0100000000e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=bb96904c-bf9e-11ea-c0a8-f0100000000c"
        }
      },
      "cost": 3500.0
    }
  ]
}
Внесение денег
Средствами JSON API можно создавать и обновлять сведения о Внесениях денег, запрашивать списки Внесений денег и сведения по отдельным Внесениям денег. Кодом сущности для Внесения денег в составе JSON API является ключевое слово retaildrawercashin. Больше о Внесениях денег и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по  этой ссылке.
Внесения денегАтрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


agent
Meta
= !=
Метаданные контрагентаОбязательное при ответе Expand Необходимо при создании


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления Внесения денегТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Внесения денег


externalCode
String(255)
= != ~ ~= =~
Внешний код Внесения денегОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID Внесения денегОбязательное при ответе Только для чтения


meta
Meta

Метаданные Внесения денегОбязательное при ответе


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование Внесения денегОбязательное при ответе


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании


owner
Meta
= !=
Владелец (Сотрудник)Expand


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


rate
Object

Валюта. Подробнее тутОбязательное при ответе


shared
Boolean
= !=
Общий доступОбязательное при ответе


state
Meta
= !=
Метаданные статуса Внесения денегExpand


sum
Int
= != < > <= >=
Сумма Внесения денег в копейкахОбязательное при ответе Только для чтения


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


updated
DateTime
= != < > <= >=
Момент последнего обновления Внесения денегОбязательное при ответе Только для чтения


Связи с другими документами


Название
Описание



retailShift
Ссылка на розничную смену, в рамках которой было выполнено Внесение денег в формате Метаданных. По данному полю можно фильтровать используя операторы = и !=. Необходимое


Получить Внесения денег
Запрос на получение всех Внесений денег на данной учетной записи.
Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить Внесения денег
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Внесений денег.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/metadata",
    "type": "retaildrawercashin",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/179dd832-960c-11e6-8a84-bae5000000dc",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/metadata",
        "type": "retaildrawercashin",
        "mediaType": "application/json"
      },
      "id": "179dd832-960c-11e6-8a84-bae5000000dc",
      "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-10-19 17:55:36",
      "name": "00001",
      "description": "Внесение",
      "externalCode": "2Rqfj4sNhkS98TU70DNRw1",
      "moment": "2016-10-19 17:55:00",
      "applicable": true,
      "created": "2016-08-25 19:55:00",
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/b942e6f2-9128-11e6-8a84-bae500000058",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 112312000,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "retailShift": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/131aaeb6-9603-11e6-8a84-bae500000072",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
          "type": "retailshift",
          "mediaType": "application/json"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/2266b7e1-960c-11e6-8a84-bae5000000df",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/metadata",
        "type": "retaildrawercashin",
        "mediaType": "application/json"
      },
      "id": "2266b7e1-960c-11e6-8a84-bae5000000df",
      "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-10-19 17:55:54",
      "name": "00002",
      "description": "Коммент",
      "externalCode": "Rk3nJ4y1hw3O3b9qJ6xN30",
      "moment": "2016-10-19 17:55:00",
      "applicable": true,
      "created": "2016-08-25 19:55:00",
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/b942e6f2-9128-11e6-8a84-bae500000058",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 2000,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "retailShift": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/131aaeb6-9603-11e6-8a84-bae500000072",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
          "type": "retailshift",
          "mediaType": "application/json"
        }
      }
    }
  ]
}
Создать Внесение денег
Запрос на создание Внесения денег.
Обязательные для создания поля:

organization - Ссылка на ваше юрлицо в формате Метаданных
agent - Ссылка на сотрудника, совершившего Внесение, в формате Метаданных
retailShift - Ссылка на розничную смену в формате Метаданных

Пример создания нового Внесения денег.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                "type": "employee",
                "mediaType": "application/json"
              }
            },
            "retailShift": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/131aaeb6-9603-11e6-8a84-bae500000072",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
                "type": "retailshift",
                "mediaType": "application/json"
              }
            },
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "sum": 100500,
            "description": "Новое внесение через API"
          }'  

Response 200
Успешный запрос. Результат - массив JSON представлений созданного и обновленного Внесения денег.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/b1bd1d12-960c-11e6-8a84-bae500000009",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/metadata",
    "type": "retaildrawercashin",
    "mediaType": "application/json"
  },
  "id": "b1bd1d12-960c-11e6-8a84-bae500000009",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-10-19 17:59:54",
  "name": "00003",
  "description": "Новое внесение через API",
  "externalCode": "fhlISdMTgl8C-lh9nLfIN0",
  "moment": "2016-10-19 17:59:54",
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 100500,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/131aaeb6-9603-11e6-8a84-bae500000072",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json"
    }
  }
}
Массовое создание и обновление Внесений денег
Массовое создание и обновление Внесений денег.
В теле запроса нужно передать массив, содержащий JSON представления Внесений денег, которые вы хотите создать или обновить.
Обновляемые Внесения денег должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Внесений денег
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                  "type": "employee",
                  "mediaType": "application/json"
                }
              },
              "retailShift": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/131aaeb6-9603-11e6-8a84-bae500000072",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
                  "type": "retailshift",
                  "mediaType": "application/json"
                }
              },
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "sum": 100500,
              "description": "Новое внесение через API"
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/179dd832-960c-11e6-8a84-bae5000000dc",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/metadata",
                "type": "retaildrawercashin",
                "mediaType": "application/json"
              },
              "name": "0000004",
              "sum": 700,
              "applicable": false
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Внесений денег.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/b1bd1d12-960c-11e6-8a84-bae500000009",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/metadata",
      "type": "retaildrawercashin",
      "mediaType": "application/json"
    },
    "id": "b1bd1d12-960c-11e6-8a84-bae500000009",
    "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-10-19 17:59:54",
    "name": "00003",
    "description": "Новое внесение через API",
    "externalCode": "fhlISdMTgl8C-lh9nLfIN0",
    "moment": "2016-10-19 17:59:54",
    "applicable": true,
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 100500,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "retailShift": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/131aaeb6-9603-11e6-8a84-bae500000072",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
        "type": "retailshift",
        "mediaType": "application/json"
      }
    }
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/179dd832-960c-11e6-8a84-bae5000000dc",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/metadata",
      "type": "retaildrawercashin",
      "mediaType": "application/json"
    },
    "id": "179dd832-960c-11e6-8a84-bae5000000dc",
    "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-10-19 18:03:00",
    "name": "0000004",
    "description": "Внесение",
    "externalCode": "2Rqfj4sNhkS98TU70DNRw1",
    "moment": "2016-10-19 17:55:00",
    "applicable": false,
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/b942e6f2-9128-11e6-8a84-bae500000058",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 700,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "retailShift": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/131aaeb6-9603-11e6-8a84-bae500000072",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
        "type": "retailshift",
        "mediaType": "application/json"
      }
    }
  }
]
Удалить Внесение денег
Запрос на удаление Внесения денег с указанным id.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Внесения денег.


Удалить Внесение денег
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
  Успешный запрос.

Массовое удаление Внесений денег
В теле запроса нужно передать массив, содержащий JSON метаданных Внесений денег, которые вы хотите удалить.
Запрос на массовое удаление Внесений денег. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/metadata",
                "type": "retaildrawercashin",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/metadata",
                "type": "retaildrawercashin",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Внесений денег.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'retaildrawercashin' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'retaildrawercashin' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные Внесений денегМетаданные Внесений денег
Запрос на получение метаданных Внесений денег. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Внесений денег


attributes
Массив объектов доп. полей Внесений денег в формате Метаданных


states
Массив статусов Внесений денег


createShared
создавать новые Внесения денег с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Внесений денег
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Внесений денег.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/metadata/attributes/5290a290-0313-11e6-9464-e4de00000020",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "5290a290-0313-11e6-9464-e4de00000020",
      "name": "AttributeName1",
      "type": "boolean",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56c504-2e58-11e6-8a84-bae500000069",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Новый",
      "color": 15106326,
      "stateType": "Regular",
      "entityType": "retaildrawercashin"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/metadata/states/fb56cae3-2e58-11e6-8a84-bae50000006a",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56cae3-2e58-11e6-8a84-bae50000006a",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Подтвержден",
      "color": 40931,
      "stateType": "Regular",
      "entityType": "retaildrawercashin"
    }
  ],
  "createShared": false
}

Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 5290a290-0313-11e6-9464-e4de00000020 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/metadata/attributes/5290a290-0313-11e6-9464-e4de00000020"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/metadata/attributes/5290a290-0313-11e6-9464-e4de00000020",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "5290a290-0313-11e6-9464-e4de00000020",
  "name": "AttributeName1",
  "type": "boolean",
  "required": false
}
Шаблон Внесения денегШаблон Внесения денег
Запрос на получение предзаполненого стандартными значениями шаблона Внесения денег без связи с каким-либо документом.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d ''  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного Внесения денег.
ПоказатьСвернуть
{
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  }
}
Шаблон Внесения денег на основе
Запрос на получение предзаполненного Внесения денег на основе розничной смены.
В результате запроса, будет создан предзаполненный шаблон Внесения денег на основе переданной
розничной смены.

Внимание! Не забывайте, что поле retailShift должно быть написано с большой S.
Запрос на создание Внесения денег на основе розничной смены.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "retailShift": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/131aaeb6-9603-11e6-8a84-bae500000072",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
                "type": "retailshift",
                "mediaType": "application/json"
              }
            }
          }
'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного Внесения денег.
ПоказатьСвернуть
{
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/131aaeb6-9603-11e6-8a84-bae500000072",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json"
    }
  }
}
Внесение денегПолучить Внесение денег
Запрос на получение отдельного Внесения денег с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Внесения денег с указанным id.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/179dd832-960c-11e6-8a84-bae5000000dc",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/metadata",
    "type": "retaildrawercashin",
    "mediaType": "application/json"
  },
  "id": "179dd832-960c-11e6-8a84-bae5000000dc",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-10-19 17:55:36",
  "name": "00001",
  "description": "Внесение",
  "externalCode": "2Rqfj4sNhkS98TU70DNRw1",
  "moment": "2016-10-19 17:55:00",
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/b942e6f2-9128-11e6-8a84-bae500000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 112312000,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/131aaeb6-9603-11e6-8a84-bae500000072",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json"
    }
  }
}

Изменить Внесение денег
Запрос на обновление Внесения денег.
Пример обновления Внесения денег.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "0000004",
            "sum": 700,
            "applicable": false
          }'  

Response 200
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/179dd832-960c-11e6-8a84-bae5000000dc",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/metadata",
    "type": "retaildrawercashin",
    "mediaType": "application/json"
  },
  "id": "179dd832-960c-11e6-8a84-bae5000000dc",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-10-19 18:03:00",
  "name": "0000004",
  "description": "Внесение",
  "externalCode": "2Rqfj4sNhkS98TU70DNRw1",
  "moment": "2016-10-19 17:55:00",
  "applicable": false,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/b942e6f2-9128-11e6-8a84-bae500000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 700,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/131aaeb6-9603-11e6-8a84-bae500000072",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json"
    }
  }
}
Внутренний заказ
Средствами JSON API можно создавать и обновлять сведения о Внутренних заказах, запрашивать списки Внутренних заказов и сведения по отдельным Внутренним заказам. Позициями Внутренних заказов можно управлять как в составе отдельного заказа, так и с помощью специальных ресурсов для управления позициями. Кодом сущности для Внутреннего заказа в составе JSON API является ключевое слово internalorder.
Внутренние заказыАтрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объектаТолько для чтения


code
String(255)
= != ~ ~= =~
Код Внутреннего заказа


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления Внутреннего заказаТолько для чтения


deliveryPlannedMoment
DateTime

Планируемая дата приемки


description
String(4096)
= != ~ ~= =~
Комментарий Внутреннего заказа


externalCode
String(255)
= != ~ ~= =~
Внешний код Внутреннего заказаОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID Внутреннего заказаОбязательное при ответе Только для чтения


meta
Meta

Метаданные Внутреннего заказаОбязательное при ответе Только для чтения


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


moves
Array(Object)

Коллекция метаданных на связанные заказы перемещенияОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование Внутреннего заказаОбязательное при ответе Необходимо при создании


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании


owner
Meta
= !=
Владелец (Сотрудник)Expand


positions
MetaArray

Метаданные позиций Внутреннего заказаОбязательное при ответе Только для чтения Expand


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


project
Meta
= !=
Метаданные проектаExpand


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


purchaseOrders
Array(Object)

Коллекция метаданных на связанные заказы поставщикуОбязательное при ответе


rate
Object

Валюта. Подробнее тутОбязательное при ответе


shared
Boolean
= !=
Общий доступОбязательное при ответе Только для чтения


state
Meta
= !=
Метаданные статуса Внутреннего заказаExpand


store
Meta

Метаданные складаExpand


sum
Int
= != < > <= >=
Сумма Внутреннего заказа в копейкахОбязательное при ответе Только для чтения


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для измененияТолько для чтения


updated
DateTime
= != < > <= >=
Момент последнего обновления Внутреннего заказаОбязательное при ответе Только для чтения


vatEnabled
Boolean

Учитывается ли НДСОбязательное при ответе


vatIncluded
Boolean

Включен ли НДС в цену


vatSum
Float

Сумма НДСОбязательное при ответе Только для чтения


Позиции Внутреннего заказа
Позиции Внутреннего заказа - это список товаров/услуг/модификаций/серий.
Объект позиции Внутреннего заказа содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияОбязательное при ответе Expand


id
UUID
ID позицииОбязательное при ответе Только для чтения


pack
Object
Упаковка Товара. Подробнее тут


price
Float
Цена товара/услуги в копейкахОбязательное при ответе


quantity
Float
Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.Обязательное при ответе


vat
Int
НДС, которым облагается текущая позицияОбязательное при ответе


vatEnabled
Boolean
Включен ли НДС для позиции. С помощью этого флага для позиции можно выставлять НДС = 0 или НДС = "без НДС". (vat = 0, vatEnabled = false) -> vat = "без НДС", (vat = 0, vatEnabled = true) -> vat = 0%.Обязательное при ответе


С позициями можно работать с помощью специальных ресурсов для управления позициями Внутреннего заказа,
а также в составе отдельного Внутреннего заказа. При работе в составе отдельного Внутреннего заказа,
вы можете отправлять запросы на создание отдельного Внутреннего заказа с включенным в тело запроса
массивом позиций Внутреннего заказа. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Внутреннего заказа".
Также, при работе в составе отдельного Внутреннего заказа, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Внутреннего заказа. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Внутреннего заказа" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
О работе с доп. полями Внутренних заказов можно прочитать здесь
Получить Внутренние заказы
Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить Внутренние заказы
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/internalorder"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Внутренних заказов.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata",
    "type": "internalorder",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/31d58bde-b2fd-11e6-8a84-bae500000068",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata",
        "type": "internalorder",
        "mediaType": "application/json"
      },
      "id": "31d58bde-b2fd-11e6-8a84-bae500000068",
      "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-25 13:52:01",
      "name": "00002",
      "description": "Комментарий",
      "externalCode": "00KNqzWbjDRhZ1A0411hS2",
      "moment": "2016-11-25 13:50:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/b942e6f2-9128-11e6-8a84-bae500000058",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        },
        "value": 1
      },
      "sum": 0,
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b942743c-9128-11e6-8a84-bae500000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "state": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata/states/f804ff3d-b2fc-11e6-8a84-bae500000065",
          "type": "state",
          "mediaType": "application/json"
        }
      },
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/31d58bde-b2fd-11e6-8a84-bae500000068/positions",
          "type": "internalorderposition",
          "mediaType": "application/json",
          "size": 2,
          "limit": 1000,
          "offset": 0
        }
      },
      "vatEnabled": true,
      "vatIncluded": true,
      "vatSum": 0,
      "deliveryPlannedMoment": "2016-11-30 13:50:00"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/64e426af-b0d8-11e6-8a84-bae500000064",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata",
        "type": "internalorder",
        "mediaType": "application/json"
      },
      "id": "64e426af-b0d8-11e6-8a84-bae500000064",
      "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-22 21:04:24",
      "name": "00001",
      "externalCode": "80QQopc4h8yBc0LnmTPpT3",
      "moment": "2016-11-22 20:23:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 0,
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b942743c-9128-11e6-8a84-bae500000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/64e426af-b0d8-11e6-8a84-bae500000064/positions",
          "type": "internalorderposition",
          "mediaType": "application/json",
          "size": 5,
          "limit": 1000,
          "offset": 0
        }
      },
      "vatEnabled": true,
      "vatIncluded": true,
      "vatSum": 0,
      "moves": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/a3b68a79-b0dc-11e6-8a84-bae5000000cd",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
            "type": "move",
            "mediaType": "application/json"
          }
        }
      ]
    }
  ]
}
Создать Внутренний заказ
Запрос на создание нового Внутреннего заказа.
Обязательные для создания поля:

organization - Ссылка на ваше юрлицо в формате Метаданных

Пример создания нового Внутреннего заказа.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/internalorder"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "owner": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                "type": "employee",
                "mediaType": "application/json"
              }
            },
            "shared": false,
            "group": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                "type": "group",
                "mediaType": "application/json"
              }
            },
            "name": "000222",
            "description": "Мой Комментарий",
            "externalCode": "00KNqzWbjDRhZ1A0411ss1231hS2",
            "moment": "2016-11-25 13:52:00",
            "applicable": true,
            "rate": {
              "currency": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/b942e6f2-9128-11e6-8a84-bae500000058",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
                  "type": "currency",
                  "mediaType": "application/json"
                }
              },
              "value": 1
            },
            "sum": 0,
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b942743c-9128-11e6-8a84-bae500000053",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "project": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
                "type": "project",
                "mediaType": "application/json"
              }
            },
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "state": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata/states/f804ff3d-b2fc-11e6-8a84-bae500000065",
                "type": "state",
                "mediaType": "application/json"
              }
            },
            "positions": [
              {
                "quantity": 1,
                "price": 0.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/fc635ded-acf7-11e6-8a84-bae500000075",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 1,
                "price": 0.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              }
            ],
            "vatEnabled": true,
            "vatIncluded": true,
            "vatSum": 0,
            "deliveryPlannedMoment": "2016-11-30 13:50:00"
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Внутреннего заказа.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/eb75f6b8-b2ff-11e6-8a84-bae500000000",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata",
    "type": "internalorder",
    "mediaType": "application/json"
  },
  "id": "eb75f6b8-b2ff-11e6-8a84-bae500000000",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-25 14:11:31",
  "name": "000222",
  "description": "Мой Комментарий",
  "externalCode": "00KNqzWbjDRhZ1A0411ss1231hS2",
  "moment": "2016-11-25 13:52:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/b942e6f2-9128-11e6-8a84-bae500000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    },
    "value": 63.45
  },
  "sum": 0,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b942743c-9128-11e6-8a84-bae500000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata/states/f804ff3d-b2fc-11e6-8a84-bae500000065",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/eb75f6b8-b2ff-11e6-8a84-bae500000000/positions",
      "type": "internalorderposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "vatSum": 0,
  "deliveryPlannedMoment": "2016-11-30 13:50:00"
}
Шаблон Внутреннего заказаШаблон Внутреннего заказа
Запрос на получение шаблона Внутреннего заказа.
Пример создания нового Внутреннего заказа.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d ''  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного шаблона Внутреннего заказа.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-11-25 14:59:18",
  "applicable": true,
  "printed": true,
  "published": true,
  "sum": 0,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b942743c-9128-11e6-8a84-bae500000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata/states/f804ff3d-b2fc-11e6-8a84-bae500000065",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "positions": {
    "rows": []
  },
  "vatEnabled": true,
  "vatIncluded": true
}

Массовое создание и обновление Внутренних заказов
Массовое создание и обновление Внутренних заказов.
В теле запроса нужно передать массив, содержащий JSON представления Внутренних заказов, которые вы хотите создать или обновить.
Обновляемые Внутренние заказы должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Внутренних заказов
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "owner": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                  "type": "employee",
                  "mediaType": "application/json"
                }
              },
              "shared": false,
              "group": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                  "type": "group",
                  "mediaType": "application/json"
                }
              },
              "name": "000222",
              "description": "Мой Комментарий",
              "externalCode": "00KNqzWbjDRhZ1A0411ss1231hS2",
              "moment": "2016-11-25 13:52:00",
              "applicable": true,
              "rate": {
                "currency": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/b942e6f2-9128-11e6-8a84-bae500000058",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
                    "type": "currency",
                    "mediaType": "application/json"
                  }
                },
                "value": 1
              },
              "sum": 0,
              "store": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b942743c-9128-11e6-8a84-bae500000053",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                  "type": "store",
                  "mediaType": "application/json"
                }
              },
              "project": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
                  "type": "project",
                  "mediaType": "application/json"
                }
              },
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "state": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata/states/f804ff3d-b2fc-11e6-8a84-bae500000065",
                  "type": "state",
                  "mediaType": "application/json"
                }
              },
              "positions": [
                {
                  "quantity": 1,
                  "price": 0.0,
                  "discount": 0,
                  "vat": 0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/fc635ded-acf7-11e6-8a84-bae500000075",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                      "type": "variant",
                      "mediaType": "application/json"
                    }
                  }
                },
                {
                  "quantity": 1,
                  "price": 0.0,
                  "discount": 0,
                  "vat": 0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  }
                }
              ],
              "vatEnabled": true,
              "vatIncluded": true,
              "vatSum": 0,
              "deliveryPlannedMoment": "2016-11-30 13:50:00"
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/64e426af-b0d8-11e6-8a84-bae500000064",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata",
                "type": "internalorder",
                "mediaType": "application/json"
              },
              "owner": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                  "type": "employee",
                  "mediaType": "application/json"
                }
              },
              "shared": true,
              "group": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                  "type": "group",
                  "mediaType": "application/json"
                }
              },
              "name": "700222",
              "description": "Мой обновленный Комментарий",
              "externalCode": "00KNqzWbjDRhZ1A0411ss1231hS2",
              "moment": "2016-11-25 13:52:00",
              "applicable": true,
              "rate": {
                "currency": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/b942e6f2-9128-11e6-8a84-bae500000058",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
                    "type": "currency",
                    "mediaType": "application/json"
                  }
                },
                "value": 1
              },
              "store": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b942743c-9128-11e6-8a84-bae500000053",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                  "type": "store",
                  "mediaType": "application/json"
                }
              },
              "project": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
                  "type": "project",
                  "mediaType": "application/json"
                }
              },
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "state": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata/states/f804ff3d-b2fc-11e6-8a84-bae500000065",
                  "type": "state",
                  "mediaType": "application/json"
                }
              },
              "positions": [
                {
                  "quantity": 1,
                  "price": 2230.0,
                  "discount": 0,
                  "vat": 0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  }
                }
              ],
              "vatEnabled": true,
              "vatIncluded": true,
              "vatSum": 0,
              "deliveryPlannedMoment": "2016-12-30 13:52:00"
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Внутренних заказов.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/eb75f6b8-b2ff-11e6-8a84-bae500000000",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata",
      "type": "internalorder",
      "mediaType": "application/json"
    },
    "id": "eb75f6b8-b2ff-11e6-8a84-bae500000000",
    "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-11-25 14:11:31",
    "name": "000222",
    "description": "Мой Комментарий",
    "externalCode": "00KNqzWbjDRhZ1A0411ss1231hS2",
    "moment": "2016-11-25 13:52:00",
    "applicable": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/b942e6f2-9128-11e6-8a84-bae500000058",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      },
      "value": 63.45
    },
    "sum": 0,
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b942743c-9128-11e6-8a84-bae500000053",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "project": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
        "type": "project",
        "mediaType": "application/json"
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "state": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata/states/f804ff3d-b2fc-11e6-8a84-bae500000065",
        "type": "state",
        "mediaType": "application/json"
      }
    },
    "created": "2007-02-07 17:16:41",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/eb75f6b8-b2ff-11e6-8a84-bae500000000/positions",
        "type": "internalorderposition",
        "mediaType": "application/json",
        "size": 2,
        "limit": 1000,
        "offset": 0
      }
    },
    "vatEnabled": true,
    "vatIncluded": true,
    "vatSum": 0,
    "deliveryPlannedMoment": "2016-11-30 13:50:00"
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/64e426af-b0d8-11e6-8a84-bae500000064",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata",
      "type": "internalorder",
      "mediaType": "application/json"
    },
    "id": "64e426af-b0d8-11e6-8a84-bae500000064",
    "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": true,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-11-25 14:48:02",
    "name": "700222",
    "description": "Мой обновленный Комментарий",
    "externalCode": "00KNqzWbjDRhZ1A0411ss1231hS2",
    "moment": "2016-11-25 13:52:00",
    "applicable": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/b942e6f2-9128-11e6-8a84-bae500000058",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      },
      "value": 63.45
    },
    "sum": 2230,
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b942743c-9128-11e6-8a84-bae500000053",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "project": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
        "type": "project",
        "mediaType": "application/json"
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "state": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata/states/f804ff3d-b2fc-11e6-8a84-bae500000065",
        "type": "state",
        "mediaType": "application/json"
      }
    },
    "created": "2007-02-07 17:16:41",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/64e426af-b0d8-11e6-8a84-bae500000064/positions",
        "type": "internalorderposition",
        "mediaType": "application/json",
        "size": 1,
        "limit": 1000,
        "offset": 0
      }
    },
    "vatEnabled": true,
    "vatIncluded": true,
    "vatSum": 0,
    "deliveryPlannedMoment": "2016-12-30 13:52:00",
    "moves": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/a3b68a79-b0dc-11e6-8a84-bae5000000cd",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
          "type": "move",
          "mediaType": "application/json"
        }
      }
    ]
  }
]
Удалить Внутренний заказ
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Внутреннего заказа.


Запрос на удаление Внутреннего заказа с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/7944ef04-f831-11e5-7a69-971500188b1"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Внутреннего заказа.

Массовое удаление Внутренних заказов
В теле запроса нужно передать массив, содержащий JSON метаданных Внутренних заказов, которые вы хотите удалить.
Запрос на массовое удаление Внутренних заказов. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata",
                "type": "internalorder",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata",
                "type": "internalorder",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Внутренних заказов.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'internalorder' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'internalorder' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные Внутренних заказовМетаданные Внутренних заказов
Запрос на получение метаданных Внутренних заказов. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Внутренних заказов


attributes
Массив объектов доп. полей Внутренних заказов в формате Метаданных


states
Массив статусов Внутренних заказов


createShared
создавать новые Внутренние заказы с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Внутренних заказов
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление метаданных Внутренних заказов.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata/attributes/68d142e7-b300-11e6-8a84-bae50000008b",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "68d142e7-b300-11e6-8a84-bae50000008b",
      "name": "Доп поле внут заказа",
      "type": "string",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata/states/f804ff3d-b2fc-11e6-8a84-bae500000065",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "f804ff3d-b2fc-11e6-8a84-bae500000065",
      "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
      "name": "OMG",
      "color": 10066329,
      "stateType": "Regular",
      "entityType": "internalorder"
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata/attributes/68d142e7-b300-11e6-8a84-bae50000008b",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "68d142e7-b300-11e6-8a84-bae50000008b",
  "name": "Доп поле внут заказа",
  "type": "string",
  "required": false
}
Внутренний заказПолучить Внутренний заказ
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Внутреннего заказа.


Запрос на получение отдельного Внутреннего заказа с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Внутреннего заказа.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/31d58bde-b2fd-11e6-8a84-bae500000068",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata",
    "type": "internalorder",
    "mediaType": "application/json"
  },
  "id": "31d58bde-b2fd-11e6-8a84-bae500000068",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-25 13:52:01",
  "name": "00002",
  "description": "Комментарий",
  "externalCode": "00KNqzWbjDRhZ1A0411hS2",
  "moment": "2016-11-25 13:50:00",
  "applicable": true,
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/b942e6f2-9128-11e6-8a84-bae500000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    },
    "value": 1
  },
  "sum": 0,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b942743c-9128-11e6-8a84-bae500000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata/states/f804ff3d-b2fc-11e6-8a84-bae500000065",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/31d58bde-b2fd-11e6-8a84-bae500000068/positions",
      "type": "internalorderposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "vatSum": 0,
  "deliveryPlannedMoment": "2016-11-30 13:50:00",
  "moves": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/3aa6f577-b2ff-11e6-8a84-bae500000070",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
        "type": "move",
        "mediaType": "application/json"
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/3fe38e12-b2ff-11e6-8a84-bae500000077",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
        "type": "move",
        "mediaType": "application/json"
      }
    }
  ],
  "purchaseOrders": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/4a29b74e-b2ff-11e6-8a84-bae500000084",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
        "type": "purchaseorder",
        "mediaType": "application/json"
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/45353c47-b2ff-11e6-8a84-bae50000007e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
        "type": "purchaseorder",
        "mediaType": "application/json"
      }
    }
  ]
}
Изменить Внутренний заказ
Запрос на обновление Внутреннего заказа с указанным id.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Внутреннего заказа.


Пример запроса на обновление отдельного Внутреннего заказа.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "owner": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                "type": "employee",
                "mediaType": "application/json"
              }
            },
            "shared": true,
            "group": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                "type": "group",
                "mediaType": "application/json"
              }
            },
            "name": "700222",
            "description": "Мой обновленный Комментарий",
            "externalCode": "00KNqzWbjDRhZ1A0411ss1231hS2",
            "moment": "2016-11-25 13:52:00",
            "applicable": true,
            "rate": {
              "currency": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/b942e6f2-9128-11e6-8a84-bae500000058",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
                  "type": "currency",
                  "mediaType": "application/json"
                }
              },
              "value": 1
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b942743c-9128-11e6-8a84-bae500000053",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "project": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
                "type": "project",
                "mediaType": "application/json"
              }
            },
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "state": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata/states/f804ff3d-b2fc-11e6-8a84-bae500000065",
                "type": "state",
                "mediaType": "application/json"
              }
            },
            "positions": [
              {
                "quantity": 1,
                "price": 2230.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              }
            ],
            "vatEnabled": true,
            "vatIncluded": true,
            "vatSum": 0,
            "deliveryPlannedMoment": "2016-12-30 13:52:00"
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Внутреннего заказа.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/64e426af-b0d8-11e6-8a84-bae500000064",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata",
    "type": "internalorder",
    "mediaType": "application/json"
  },
  "id": "64e426af-b0d8-11e6-8a84-bae500000064",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": true,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-25 14:48:02",
  "name": "700222",
  "description": "Мой обновленный Комментарий",
  "externalCode": "00KNqzWbjDRhZ1A0411ss1231hS2",
  "moment": "2016-11-25 13:52:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/b942e6f2-9128-11e6-8a84-bae500000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    },
    "value": 63.45
  },
  "sum": 2230,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b942743c-9128-11e6-8a84-bae500000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata/states/f804ff3d-b2fc-11e6-8a84-bae500000065",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/64e426af-b0d8-11e6-8a84-bae500000064/positions",
      "type": "internalorderposition",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "vatSum": 0,
  "deliveryPlannedMoment": "2016-12-30 13:52:00",
  "moves": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/a3b68a79-b0dc-11e6-8a84-bae5000000cd",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
        "type": "move",
        "mediaType": "application/json"
      }
    }
  ]
}
Позиции Внутреннего заказа
Отдельный ресурс для управления позициями Внутреннего заказа. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить позиции Внутреннего заказа
Запрос на получение списка всех позиций данного Внутреннего заказа.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой позиции Внутреннего заказа.


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Внутреннего заказа.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить позиции Внутреннего заказа
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/7944ef04-f831-11e5-7a69-971500188b19/positions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного Внутреннего заказа.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/7944ef04-f831-11e5-7a69-971500188b19/positions",
    "type": "internalorderposition",
    "mediaType": "application/json",
    "size": 1,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/7944ef04-f831-11e5-7a69-971500188b19/positions/05379d42-b305-11e6-8a84-bae500000008",
        "type": "internalorderposition",
        "mediaType": "application/json"
      },
      "id": "05379d42-b305-11e6-8a84-bae500000008",
      "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 2230.0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
        }
      }
    }
  ]
}
Создать позиции Внутреннего заказа
Запрос на создание новой позиции во Внутреннем заказе.
Для успешного создания необходимо в теле запроса указать следующие поля:

assortment - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем service, consignment, variant в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании позиции Внутреннего заказа
quantity - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций Внутреннего заказа. Все созданные данным запросом позиции
будут добавлены к уже существующим.

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Внутреннего заказа.


Пример создания позиций во Внутреннем заказе.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "quantity": 1,
              "price": 100.0,
              "vat": 10,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                  "type": "product",
                  "mediaType": "application/json"
                }
              }
            },
            {
              "quantity": 12,
              "price": 200.0,
              "vat": 18,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                  "type": "product",
                  "mediaType": "application/json"
                }
              }
            },
            {
              "quantity": 3,
              "price": 2230.0,
              "vat": 0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                  "type": "product",
                  "mediaType": "application/json"
                }
              }
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного Внутреннего заказа.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/7944ef04-f831-11e5-7a69-971500188b19/positions/705ff11b-b305-11e6-8a84-bae50000000c",
      "type": "internalorderposition",
      "mediaType": "application/json"
    },
    "id": "705ff11b-b305-11e6-8a84-bae50000000c",
    "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
    "quantity": 1,
    "price": 100.0,
    "vat": 10,
    "vatEnabled": true,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
      }
    }
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/7944ef04-f831-11e5-7a69-971500188b19/positions/705ffca0-b305-11e6-8a84-bae50000000d",
      "type": "internalorderposition",
      "mediaType": "application/json"
    },
    "id": "705ffca0-b305-11e6-8a84-bae50000000d",
    "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
    "quantity": 12,
    "price": 200.0,
    "vat": 18,
    "vatEnabled": true,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
      }
    }
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/7944ef04-f831-11e5-7a69-971500188b19/positions/706006cd-b305-11e6-8a84-bae50000000e",
      "type": "internalorderposition",
      "mediaType": "application/json"
    },
    "id": "706006cd-b305-11e6-8a84-bae50000000e",
    "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
    "quantity": 3,
    "price": 2230.0,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
      }
    }
  }
]

Позиция Внутреннего заказаПолучить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Внутреннего заказа.


positionID
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b20 id позиции Внутреннего заказа.


Запрос на получение отдельной позиции Внутреннего заказа с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Внутреннего заказа.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20",
    "type": "internalorderposition",
    "mediaType": "application/json"
  },
  "id": "7944ef04-f831-11e5-7a69-971500188b20",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "quantity": 12,
  "price": 200.0,
  "vat": 18,
  "vatEnabled": true,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
    }
  }
}
Изменить позицию
Запрос на обновление отдельной позиции Внутреннего заказа.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Внутреннего заказа.


positionID
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b20 id позиции Внутреннего заказа.


Пример запроса на обновление отдельной позиции во Внутреннем заказе.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 2,
            "price": 500.0,
            "vat": 18,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                "type": "product",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной позиции заказа.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20",
    "type": "internalorderposition",
    "mediaType": "application/json"
  },
  "id": "7944ef04-f831-11e5-7a69-971500188b20",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "quantity": 2,
  "price": 500.0,
  "vat": 18,
  "vatEnabled": true,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
    }
  }
}
Удалить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Внутреннего заказа.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Внутреннего заказа.


Запрос на удаление позиции Внутреннего заказа с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление позиции Внутреннего заказа.

Массовое удаление позиций
Параметры


Параметр
Описание



id
string (required) Example: 7623cd58-684d-11ee-ac12-000c0000009e id Внутреннего заказа.


Запрос на массовое удаление позиций Внутреннего заказа.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/7623cd58-684d-11ee-ac12-000c0000009e/positions/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/7623cd58-684d-11ee-ac12-000c0000009e/positions/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "internalorderposition",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/7623cd58-684d-11ee-ac12-000c0000009e/positions/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "internalorderposition",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление позиций Внутреннего заказа.

Возврат покупателя
Средствами JSON API можно создавать и обновлять сведения о Возвратах покупателей, запрашивать списки Возвратов покупателей и сведения по отдельным Возвратам покупателей. Позициями Возвратов покупателей можно управлять как в составе отдельного Возврата, так и отдельно - с помощью специальных ресурсов для управления позициями Возврата покупателя. Кодом сущности для Возврата покупателя в составе JSON API является ключевое слово salesreturn.
Возвраты покупателейАтрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения Change-handler


agent
Meta
= !=
Метаданные контрагентаОбязательное при ответе Expand Change-handler


agentAccount
Meta

Метаданные счета контрагентаExpand Change-handler


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе Change-handler


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта Change-handler


code
String(255)
= != ~ ~= =~
Код Возврата Покупателя


contract
Meta
= !=
Метаданные договораExpand Change-handler


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения Change-handler


deleted
DateTime
= != < > <= >=
Момент последнего удаления Возврата ПокупателяТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Возврата ПокупателяChange-handler


externalCode
String(255)
= != ~ ~= =~
Внешний код Возврата ПокупателяОбязательное при ответе Change-handler


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID Возврата ПокупателяОбязательное при ответе Только для чтения Change-handler


meta
Meta

Метаданные Возврата ПокупателяОбязательное при ответе Change-handler


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе Change-handler


name
String(255)
= != ~ ~= =~
Наименование Возврата ПокупателяОбязательное при ответе Change-handler


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании Change-handler


organizationAccount
Meta

Метаданные счета юрлицаExpand Change-handler


owner
Meta
= !=
Владелец (Сотрудник)Expand


positions
MetaArray

Метаданные позиций Возврата ПокупателяОбязательное при ответе Expand Change-handler


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


project
Meta
= !=
Метаданные проектаExpand Change-handler


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


rate
Object

Валюта. Подробнее тутОбязательное при ответе Change-handler


salesChannel
Meta
= !=
Метаданные канала продажExpand


shared
Boolean
= !=
Общий доступОбязательное при ответе


state
Meta
= !=
Метаданные статуса Возврата ПокупателяExpand Change-handler


store
Meta
= !=
Метаданные складаОбязательное при ответе Expand Необходимо при создании Change-handler


sum
Int
= != < > <= >=
Сумма Возврата Покупателя в копейкахОбязательное при ответе Только для чтения Change-handler


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


updated
DateTime
= != < > <= >=
Момент последнего обновления Возврата ПокупателяОбязательное при ответе Только для чтения Change-handler


vatEnabled
Boolean

Учитывается ли НДСОбязательное при ответе Change-handler


vatIncluded
Boolean

Включен ли НДС в цену Change-handler


vatSum
Float

Сумма НДСОбязательное при ответе Change-handler


Связи с другими документами


Название
Описание



demand
Ссылка на отгрузку, по которой произошел возврат в формате Метаданных Поле является необходимым для возврата с основанием.


losses
Массив ссылок на связанные списания в формате Метаданных


payments
Массив ссылок на связанные платежи в формате Метаданных


payedSum
Сумма исходящих платежей по возврату покупателя


factureOut
Ссылка на Счет-фактуру выданный, с которым связан этот возврат, в формате Метаданных


Позиции Возврата покупателя
Позиции Возврата покупателей - это список товаров/услуг/модификаций/серий/комплектов.
Объект позиции Возврата покупателей содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения Change-handler


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияОбязательное при ответе Expand Change-handler


cost
Int
Себестоимость (выводится, если документ был создан без основания)


country
Meta
Метаданные СтраныExpand


discount
Int
Процент скидки или наценки. Наценка указывается отрицательным числом, т.е. -10 создаст наценку в 10%Обязательное при ответе Change-handler


gtd
Object
ГТД. Подробнее тут


id
UUID
ID позицииОбязательное при ответе Только для чтения Change-handler


pack
Object
Упаковка Товара. Подробнее тут Change-handler


price
Float
Цена товара/услуги в копейкахОбязательное при ответе Change-handler


quantity
Float
Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.Обязательное при ответе Change-handler


slot
Meta
Ячейка на складе. Подробнее тутExpand


things
Array(String)
Серийные номера. Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете. В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута.


vat
Int
НДС, которым облагается текущая позицияОбязательное при ответе Change-handler


vatEnabled
Boolean
Включен ли НДС для позиции. С помощью этого флага для позиции можно выставлять НДС = 0 или НДС = "без НДС". (vat = 0, vatEnabled = false) -> vat = "без НДС", (vat = 0, vatEnabled = true) -> vat = 0%.Обязательное при ответе Change-handler


С позициями можно работать с помощью специальных ресурсов для управления позициями Возврата покупателей,
а также в составе отдельного Возврата покупателей. При работе в составе отдельного Возврата покупателей,
вы можете отправлять запросы на создание отдельного Возврата покупателей с включенным в тело запроса
массивом позиций Возврата покупателей. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Возврата покупателей".
Также, при работе в составе отдельного Возврата покупателей, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Возврата покупателей. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Возврата покупателей" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
О работе с доп. полями Возвратов покупателейых возвратов можно прочитать здесь
Получить Возвраты покупателей
Запрос всех Возвратов покупателей на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Возвраты покупателей.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить Возвраты покупателей
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Возвратов покупателей.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
    "type": "salesreturn",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/90f337d1-3f80-11e6-8a84-bae5000000ac",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
        "type": "salesreturn",
        "mediaType": "application/json"
      },
      "id": "90f337d1-3f80-11e6-8a84-bae5000000ac",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-07-01 14:40:10",
      "name": "00001",
      "externalCode": "PDJ7P5kVhEWomlQtd67up2",
      "moment": "2016-07-01 14:39:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 25100,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/faf41a7b-2e58-11e6-8a84-bae500000051",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "vatEnabled": true,
      "vatIncluded": true,
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/90f337d1-3f80-11e6-8a84-bae5000000ac/positions",
          "type": "salesreturnposition",
          "mediaType": "application/json",
          "size": 6,
          "limit": 1000,
          "offset": 0
        }
      },
      "demand": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/3ebb140e-2e62-11e6-8a84-bae500000127",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
          "type": "demand",
          "mediaType": "application/json"
        }
      },
      "payedSum": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/9b83cb6b-3f80-11e6-8a84-bae5000000bb",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
        "type": "salesreturn",
        "mediaType": "application/json"
      },
      "id": "9b83cb6b-3f80-11e6-8a84-bae5000000bb",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-07-01 14:40:27",
      "name": "00002",
      "externalCode": "3ZaZZNCVhYzDgTunfKsTy3",
      "moment": "2016-07-01 14:40:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 1100,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "agentAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "salesChannel": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
          "type": "saleschannel",
          "mediaType": "application/json"
        }
      },
      "vatEnabled": true,
      "vatIncluded": true,
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/9b83cb6b-3f80-11e6-8a84-bae5000000bb/positions",
          "type": "salesreturnposition",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      },
      "demand": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/d8937c31-3eb7-11e6-8a84-bae500000066",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
          "type": "demand",
          "mediaType": "application/json"
        }
      },
      "payedSum": 0
    }
  ]
}
Создать Возврат покупателя
Обязательные поля при создании нового Возврата покупателей:

organization - Ссылка на ваше юрлицо в формате Метаданных
store - Ссылка на склад в формате Метаданных
demand - Ссылка на отгрузку, по которой произошел возврат в формате Метаданных, обязательное поле только для возврата по основанию
agent - Ссылка на контрагента в формате Метаданных
Контрагент, указанный в запросе на создание возврата, должен совпадать с контрагентом, указанном в документе,
по которому создается возврат.

При создании возврата:

При создании возврата без основания поле demand указывать не нужно
Контрагент в возврате и в документе, по которому он создается, должны совпадать
Валюта и юрлицо в возврате и в документе так же должны совпадать
При создании возврата на основании другого документа, позиции передаваемые в коллекции positions, должны соответствовать позициям документа-основания. Можно задать количество товара в позиции, но не больше, чем в документе-основании. Нельзя передавать позиции, которых нет в документе-основании и менять значение поля price.

Пример создания нового Возврата покупателя.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "0003",
            "description": "Гневный возврат бракованного товара",
            "code": "k123e21451k",
            "externalCode": "w214t2141f",
            "moment": "2017-11-21 14:37:00",
            "applicable": false,
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/attributes/43dd9fd7-3f81-11e6-8a84-bae5000000db",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "отломана деталь"
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/attributes/50463893-3f81-11e6-8a84-bae5000000de",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": true
              }
            ],
            "positions": [
              {
                "quantity": 1,
                "price": 0.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/7a6f697f-3c64-11e6-8a84-bae500000006",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              }
            ],
            "demand": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/6b967815-3f84-11e6-8a84-bae5000000ea",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
                "type": "demand",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Возврата покупателя.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/a8b8e1e3-3f85-11e6-8a84-bae50000008d",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
    "type": "salesreturn",
    "mediaType": "application/json"
  },
  "id": "a8b8e1e3-3f85-11e6-8a84-bae50000008d",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 15:16:37",
  "name": "0003",
  "description": "Гневный возврат бракованного товара",
  "code": "k123e21451k",
  "externalCode": "w214t2141f",
  "moment": "2017-11-21 14:37:00",
  "applicable": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/attributes/43dd9fd7-3f81-11e6-8a84-bae5000000db",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "43dd9fd7-3f81-11e6-8a84-bae5000000db",
      "name": "AttributeName1",
      "type": "string",
      "value": "отломана деталь"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/attributes/50463893-3f81-11e6-8a84-bae5000000de",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "50463893-3f81-11e6-8a84-bae5000000de",
      "name": "AttributeName2",
      "type": "boolean",
      "value": true
    }
  ],
  "vatEnabled": true,
  "vatIncluded": true,
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/a8b8e1e3-3f85-11e6-8a84-bae50000008d/positions",
      "type": "salesreturnposition",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "demand": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/6b967815-3f84-11e6-8a84-bae5000000ea",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
      "type": "demand",
      "mediaType": "application/json"
    }
  },
  "payedSum": 0
}
Массовое создание и обновление Возвратов покупателя
Массовое создание и обновление Возвратов покупателя.
В теле запроса нужно передать массив, содержащий JSON представления Возвратов покупателя, которые вы хотите создать или обновить.
Обновляемые Возвраты покупателя должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Возвратов покупателя
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "name": "0003",
              "description": "Гневный возврат бракованного товара",
              "code": "k123e21451k",
              "externalCode": "w214t2141f",
              "moment": "2017-11-21 14:37:00",
              "applicable": false,
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                  "type": "counterparty",
                  "mediaType": "application/json"
                }
              },
              "store": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                  "type": "store",
                  "mediaType": "application/json"
                }
              },
              "attributes": [
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/attributes/43dd9fd7-3f81-11e6-8a84-bae5000000db",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": "отломана деталь"
                },
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/attributes/50463893-3f81-11e6-8a84-bae5000000de",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": true
                }
              ],
              "positions": [
                {
                  "quantity": 1,
                  "price": 0.0,
                  "discount": 0,
                  "vat": 0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/7a6f697f-3c64-11e6-8a84-bae500000006",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  }
                }
              ],
              "demand": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/6b967815-3f84-11e6-8a84-bae5000000ea",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
                  "type": "demand",
                  "mediaType": "application/json"
                }
              }
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/a8b8e1e3-3f85-11e6-8a84-bae50000008d",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
                "type": "salesreturn",
                "mediaType": "application/json"
              },
              "updated": "2016-07-01 15:16:37",
              "name": "00033",
              "description": "Гневный возврат бракованного робота",
              "code": "k12eer3e21rre451k",
              "externalCode": "w214t2141f",
              "moment": "2017-11-21 14:37:00",
              "applicable": true,
              "state": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/states/7073b255-3f81-11e6-8a84-bae5000000e3",
                  "type": "state",
                  "mediaType": "application/json"
                }
              },
              "attributes": [
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/attributes/43dd9fd7-3f81-11e6-8a84-bae5000000db",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": "отломана нога"
                }
              ]
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Возвратов покупателя.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/a8b8e1e3-3f85-11e6-8a84-bae50000008d",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
      "type": "salesreturn",
      "mediaType": "application/json"
    },
    "id": "a8b8e1e3-3f85-11e6-8a84-bae50000008d",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-07-01 15:16:37",
    "name": "0003",
    "description": "Гневный возврат бракованного товара",
    "code": "k123e21451k",
    "externalCode": "w214t2141f",
    "moment": "2017-11-21 14:37:00",
    "applicable": false,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 0,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "agentAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "attributes": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/attributes/43dd9fd7-3f81-11e6-8a84-bae5000000db",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "43dd9fd7-3f81-11e6-8a84-bae5000000db",
        "name": "AttributeName1",
        "type": "string",
        "value": "отломана деталь"
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/attributes/50463893-3f81-11e6-8a84-bae5000000de",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "50463893-3f81-11e6-8a84-bae5000000de",
        "name": "AttributeName2",
        "type": "boolean",
        "value": true
      }
    ],
    "vatEnabled": true,
    "vatIncluded": true,
    "created": "2007-02-07 17:16:41",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/a8b8e1e3-3f85-11e6-8a84-bae50000008d/positions",
        "type": "salesreturnposition",
        "mediaType": "application/json",
        "size": 1,
        "limit": 1000,
        "offset": 0
      }
    },
    "demand": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/6b967815-3f84-11e6-8a84-bae5000000ea",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
        "type": "demand",
        "mediaType": "application/json"
      }
    },
    "payedSum": 0
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/a8b8e1e3-3f85-11e6-8a84-bae50000008d",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
      "type": "salesreturn",
      "mediaType": "application/json"
    },
    "id": "a8b8e1e3-3f85-11e6-8a84-bae50000008d",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-07-01 15:27:18",
    "name": "00033",
    "description": "Гневный возврат бракованного робота",
    "code": "k12eer3e21rre451k",
    "externalCode": "w214t2141f",
    "moment": "2017-11-21 14:37:00",
    "applicable": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 0,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "state": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/states/7073b255-3f81-11e6-8a84-bae5000000e3",
        "type": "state",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "agentAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "salesChannel": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
        "type": "saleschannel",
        "mediaType": "application/json"
      }
    },
    "attributes": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/attributes/43dd9fd7-3f81-11e6-8a84-bae5000000db",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "43dd9fd7-3f81-11e6-8a84-bae5000000db",
        "name": "AttributeName1",
        "type": "string",
        "value": "отломана нога"
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/attributes/50463893-3f81-11e6-8a84-bae5000000de",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "50463893-3f81-11e6-8a84-bae5000000de",
        "name": "AttributeName2",
        "type": "boolean",
        "value": true
      }
    ],
    "vatEnabled": true,
    "vatIncluded": true,
    "created": "2007-02-07 17:16:41",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/a8b8e1e3-3f85-11e6-8a84-bae50000008d/positions",
        "type": "salesreturnposition",
        "mediaType": "application/json",
        "size": 1,
        "limit": 1000,
        "offset": 0
      }
    },
    "demand": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/6b967815-3f84-11e6-8a84-bae5000000ea",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
        "type": "demand",
        "mediaType": "application/json"
      }
    },
    "payedSum": 0
  }
]
Удалить Возврат покупателя
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Возврата покупателей.


Запрос на удаление Возврата покупателей с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Возврата покупателей.

Массовое удаление Возвратов покупателей
В теле запроса нужно передать массив, содержащий JSON метаданных Возвратов покупателей, которые вы хотите удалить.
Запрос на массовое удаление Возвратов покупателей. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
                "type": "salesreturn",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
                "type": "salesreturn",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Возвратов покупателей.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'salesreturn' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'salesreturn' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные Возвратов покупателейМетаданные Возвратов покупателей
Запрос на получение метаданных Возвратов покупателей. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Возвратов покупателей


attributes
Массив объектов доп. полей Возвратов покупателей в формате Метаданных


states
Массив статусов Возвратов покупателей


createShared
создавать новые Возвраты покупателей с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Возвратов покупателей
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Возвратов покупателей.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/attributes/43dd9fd7-3f81-11e6-8a84-bae5000000db",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "43dd9fd7-3f81-11e6-8a84-bae5000000db",
      "name": "AttributeName1",
      "type": "string",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/attributes/50463893-3f81-11e6-8a84-bae5000000de",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "50463893-3f81-11e6-8a84-bae5000000de",
      "name": "AttributeName2",
      "type": "boolean",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/states/7073ae24-3f81-11e6-8a84-bae5000000e2",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "7073ae24-3f81-11e6-8a84-bae5000000e2",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Открыт",
      "color": 10066329,
      "stateType": "Regular",
      "entityType": "salesreturn"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/states/7073b255-3f81-11e6-8a84-bae5000000e3",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "7073b255-3f81-11e6-8a84-bae5000000e3",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Выполнен",
      "color": 15280409,
      "stateType": "Regular",
      "entityType": "salesreturn"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/states/7073b5aa-3f81-11e6-8a84-bae5000000e4",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "7073b5aa-3f81-11e6-8a84-bae5000000e4",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Выполнен Частично",
      "color": 15106326,
      "stateType": "Regular",
      "entityType": "salesreturn"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/states/7073b99b-3f81-11e6-8a84-bae5000000e5",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "7073b99b-3f81-11e6-8a84-bae5000000e5",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "На оформлении",
      "color": 34617,
      "stateType": "Regular",
      "entityType": "salesreturn"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/states/7073bd44-3f81-11e6-8a84-bae5000000e6",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "7073bd44-3f81-11e6-8a84-bae5000000e6",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Оформлен",
      "color": 9245744,
      "stateType": "Regular",
      "entityType": "salesreturn"
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/attributes/50463893-3f81-11e6-8a84-bae5000000de",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "50463893-3f81-11e6-8a84-bae5000000de",
  "name": "AttributeName1",
  "type": "boolean",
  "required": false
}
Шаблон Возврата покупателяШаблон Возврата покупателя
Запрос на получение предзаполненого стандартными значениями шаблона возврата покупателя без связи с каким-либо документом.
Создание шаблона возврата покупателя с пустым телом запроса
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d ''  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного возврата покупателя.
ПоказатьСвернуть
{
  "applicable": false,
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2",
      "type": "salesreturnposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    },
    "rows": []
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "payedSum": 0
}
Шаблон Возврата покупателя на основе
Запрос на получение предзаполненного шаблона возврата покупателя на основе переданной отгрузки.
В ответ на запрос вернется предзаполненный шаблон возврата покупателя, который
затем можно будет использовать для создания нового возврата с помощью POST запроса.
Пример запроса на создание шаблона возврата покупателя на основе отгрузки.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "demand": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/3ebb140e-2e62-11e6-8a84-bae500000127",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
                "type": "demand",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного Возврата покупателя.
ПоказатьСвернуть
{
  "applicable": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/faf41a7b-2e58-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2",
      "type": "salesreturnposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    },
    "rows": []
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "demand": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/3ebb140e-2e62-11e6-8a84-bae500000127",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
      "type": "demand",
      "mediaType": "application/json"
    }
  },
  "payedSum": 0
}
Возврат покупателяПолучить Возврат покупателя
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Возврата покупателей.


Запрос на получение отдельного Возврата покупателей с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Возврата покупателей с указанным id.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/90f337d1-3f80-11e6-8a84-bae5000000ac",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
    "type": "salesreturn",
    "mediaType": "application/json"
  },
  "id": "90f337d1-3f80-11e6-8a84-bae5000000ac",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 14:40:10",
  "name": "00001",
  "externalCode": "PDJ7P5kVhEWomlQtd67up2",
  "moment": "2016-07-01 14:39:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 25100,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/faf41a7b-2e58-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "salesChannel": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
      "type": "saleschannel",
      "mediaType": "application/json"
    }
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/90f337d1-3f80-11e6-8a84-bae5000000ac/positions",
      "type": "salesreturnposition",
      "mediaType": "application/json",
      "size": 6,
      "limit": 1000,
      "offset": 0
    }
  },
  "demand": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/3ebb140e-2e62-11e6-8a84-bae500000127",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
      "type": "demand",
      "mediaType": "application/json"
    }
  },
  "payedSum": 0
}
Изменить Возврат покупателя
Запрос на обновление Возврата покупателей с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Возврата покупателей, кроме тех, что
помечены Только для чтения в описании атрибутов Возврата покупателей.
При обновлении поля organization нужно также обновить поле organizationAccount иначе произойдет ошибка.
Контрагент должен совпадать с контрагентом, указанным в документе, по которому создается возврат.
При обновлении возврата:

Нельзя изменять следующие поля: agentAccount, agent, demand
Нельзя выставить валюту отличную от валюты в документе
Нельзя добавить позиции, отсутствующие среди позиций документа.

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Возврата покупателей.


Пример запроса на обновление Возврата покупателей.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "updated": "2016-07-01 15:16:37",
            "name": "00033",
            "description": "Гневный возврат бракованного робота",
            "code": "k12eer3e21rre451k",
            "externalCode": "w214t2141f",
            "moment": "2017-11-21 14:37:00",
            "applicable": true,
            "state": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/states/7073b255-3f81-11e6-8a84-bae5000000e3",
                "type": "state",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/attributes/43dd9fd7-3f81-11e6-8a84-bae5000000db",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "отломана нога"
              }
            ],
            "positions": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/a8b8e1e3-3f85-11e6-8a84-bae50000008d/positions",
                "type": "salesreturnposition",
                "mediaType": "application/json",
                "size": 1,
                "limit": 1000,
                "offset": 0
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Возврата покупателей.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/a8b8e1e3-3f85-11e6-8a84-bae50000008d",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
    "type": "salesreturn",
    "mediaType": "application/json"
  },
  "id": "a8b8e1e3-3f85-11e6-8a84-bae50000008d",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 15:27:18",
  "name": "00033",
  "description": "Гневный возврат бракованного робота",
  "code": "k12eer3e21rre451k",
  "externalCode": "w214t2141f",
  "moment": "2017-11-21 14:37:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/states/7073b255-3f81-11e6-8a84-bae5000000e3",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "salesChannel": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
      "type": "saleschannel",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/attributes/43dd9fd7-3f81-11e6-8a84-bae5000000db",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "43dd9fd7-3f81-11e6-8a84-bae5000000db",
      "name": "AttributeName1",
      "type": "string",
      "value": "отломана нога"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata/attributes/50463893-3f81-11e6-8a84-bae5000000de",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "50463893-3f81-11e6-8a84-bae5000000de",
      "name": "AttributeName2",
      "type": "boolean",
      "value": true
    }
  ],
  "vatEnabled": true,
  "vatIncluded": true,
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/a8b8e1e3-3f85-11e6-8a84-bae50000008d/positions",
      "type": "salesreturnposition",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "demand": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/6b967815-3f84-11e6-8a84-bae5000000ea",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
      "type": "demand",
      "mediaType": "application/json"
    }
  },
  "payedSum": 0
}
Позиции возврата покупателя
Отдельный ресурс для управления позициями Возврата покупателей. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить Позиции
Запрос на получение списка всех позиций данной Возврата покупателей.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой позиции Возврата покупателей.


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Возврата покупателей.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить Позиции 
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций Возврата покупателей.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions",
    "type": "salesreturnposition",
    "mediaType": "application/json",
    "size": 6,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/90f3f201-3f80-11e6-8a84-bae5000000ad",
        "type": "salesreturnposition",
        "mediaType": "application/json"
      },
      "id": "90f3f201-3f80-11e6-8a84-bae5000000ad",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 900,
      "price": 0.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/328b0454-2e62-11e6-8a84-bae500000118",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
        }
      },
      "gtd": {
        "name": "12345678/121217/1212321"
      },
      "country": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/country/40e6f69a-991c-4fbc-8be9-d0d906cad180",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
          "type": "country",
          "mediaType": "application/json"
        }
      },
      "cost": 10
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/90f3fc5f-3f80-11e6-8a84-bae5000000ae",
        "type": "salesreturnposition",
        "mediaType": "application/json"
      },
      "id": "90f3fc5f-3f80-11e6-8a84-bae5000000ae",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 0.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/20485cfd-2e62-11e6-8a84-bae500000112",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
        }
      },
      "cost": 10
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/90f41291-3f80-11e6-8a84-bae5000000af",
        "type": "salesreturnposition",
        "mediaType": "application/json"
      },
      "id": "90f41291-3f80-11e6-8a84-bae5000000af",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 0.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/4f785efd-3304-11e6-8a84-bae50001c6c4",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=392c045c-2842-11e9-ac12-000a00000002"
        }
      },
      "cost": 10
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/90f41a94-3f80-11e6-8a84-bae5000000b0",
        "type": "salesreturnposition",
        "mediaType": "application/json"
      },
      "id": "90f41a94-3f80-11e6-8a84-bae5000000b0",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 8600.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/58f32700-3303-11e6-8a84-bae50000853c",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
        }
      },
      "gtd": {
        "name": "12345678/121217/1212321"
      },
      "country": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/country/40e6f69a-991c-4fbc-8be9-d0d906cad180",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
          "type": "country",
          "mediaType": "application/json"
        }
      },
      "cost": 10
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/90f4218b-3f80-11e6-8a84-bae5000000b1",
        "type": "salesreturnposition",
        "mediaType": "application/json"
      },
      "id": "90f4218b-3f80-11e6-8a84-bae5000000b1",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 0.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/67aa1d09-3d19-11e6-8a84-bae50000000b",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bad99f1-2842-11e9-ac12-000c0000005c"
        }
      },
      "cost": 10
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/90f427d1-3f80-11e6-8a84-bae5000000b2",
        "type": "salesreturnposition",
        "mediaType": "application/json"
      },
      "id": "90f427d1-3f80-11e6-8a84-bae5000000b2",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 16500.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0ae4836f-3303-11e6-8a84-bae500000d39",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3c3c1618-2842-11e9-ac12-000c0000006f"
        }
      },
      "cost": 10
    }
  ]
}

Создать Позицию
Запрос на создание новой позиции в Возврате покупателя.
Для успешного создания необходимо в теле запроса указать следующие поля:

assortmet - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем service, consignment, variant в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании позиции Возврата покупателей.
quantity - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций Возврата покупателей. Все созданные данным запросом позиции
будут добавлены к уже существующим.
Нельзя создавать позиции, отличные от позиций в документе, по которому создается возврат. Допустимо только
отличие в quantity позиций (количество в позиции в возврате м.б. меньше или равно количеству в позиции в документе).

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Возврата покупателей.


Пример запроса на создание позиций в Возврате покупателя.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "quantity": 900,
              "price": 0.0,
              "discount": 0,
              "vat": 0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/328b0454-2e62-11e6-8a84-bae500000118",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                  "type": "product",
                  "mediaType": "application/json"
                }
              },
              "cost": 10
            },
            {
              "quantity": 1,
              "price": 0.0,
              "discount": 0,
              "vat": 0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/20485cfd-2e62-11e6-8a84-bae500000112",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                  "type": "product",
                  "mediaType": "application/json"
                }
              },
              "cost": 10
            },
            {
              "quantity": 1,
              "price": 0.0,
              "discount": 0,
              "vat": 0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/4f785efd-3304-11e6-8a84-bae50001c6c4",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                  "type": "product",
                  "mediaType": "application/json"
                }
              },
              "cost": 11
            },
            {
              "quantity": 1,
              "price": 8600.0,
              "discount": 0,
              "vat": 0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/58f32700-3303-11e6-8a84-bae50000853c",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                  "type": "product",
                  "mediaType": "application/json"
                }
              },
              "cost": 13
            },
            {
              "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
              "quantity": 1,
              "price": 0.0,
              "discount": 0,
              "vat": 0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/67aa1d09-3d19-11e6-8a84-bae50000000b",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                  "type": "product",
                  "mediaType": "application/json"
                }
              },
              "cost": 15
            },
            {
              "quantity": 1,
              "price": 16500.0,
              "discount": 0,
              "vat": 0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0ae4836f-3303-11e6-8a84-bae500000d39",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                  "type": "product",
                  "mediaType": "application/json"
                }
              },
              "cost": 17
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданных позиций.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/ea8f2771-3f82-11e6-8a84-bae50000007f",
      "type": "salesreturnposition",
      "mediaType": "application/json"
    },
    "id": "ea8f2771-3f82-11e6-8a84-bae50000007f",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 900,
    "price": 0.0,
    "discount": 0,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/328b0454-2e62-11e6-8a84-bae500000118",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3c3c1618-2842-11e9-ac12-000c0000006f"
      }
    },
    "cost": 10
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/ea8f2f2e-3f82-11e6-8a84-bae500000080",
      "type": "salesreturnposition",
      "mediaType": "application/json"
    },
    "id": "ea8f2f2e-3f82-11e6-8a84-bae500000080",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 1,
    "price": 0.0,
    "discount": 0,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/20485cfd-2e62-11e6-8a84-bae500000112",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bad99f1-2842-11e9-ac12-000c0000005c"
      }
    },
    "cost": 10
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/ea8f35ca-3f82-11e6-8a84-bae500000081",
      "type": "salesreturnposition",
      "mediaType": "application/json"
    },
    "id": "ea8f35ca-3f82-11e6-8a84-bae500000081",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 1,
    "price": 0.0,
    "discount": 0,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/4f785efd-3304-11e6-8a84-bae50001c6c4",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
      }
    },
    "cost": 11
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/ea8f3bce-3f82-11e6-8a84-bae500000082",
      "type": "salesreturnposition",
      "mediaType": "application/json"
    },
    "id": "ea8f3bce-3f82-11e6-8a84-bae500000082",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 1,
    "price": 8600.0,
    "discount": 0,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/58f32700-3303-11e6-8a84-bae50000853c",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=392c045c-2842-11e9-ac12-000a00000002"
      }
    },
    "cost": 13
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/ea8f41a9-3f82-11e6-8a84-bae500000083",
      "type": "salesreturnposition",
      "mediaType": "application/json"
    },
    "id": "ea8f41a9-3f82-11e6-8a84-bae500000083",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 1,
    "price": 0.0,
    "discount": 0,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/67aa1d09-3d19-11e6-8a84-bae50000000b",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
      }
    },
    "cost": 15
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/ea8f477b-3f82-11e6-8a84-bae500000084",
      "type": "salesreturnposition",
      "mediaType": "application/json"
    },
    "id": "ea8f477b-3f82-11e6-8a84-bae500000084",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 1,
    "price": 16500.0,
    "discount": 0,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0ae4836f-3303-11e6-8a84-bae500000d39",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
      }
    },
    "cost": 17
  }
]
Позиция Возврата покупателяПолучить Позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Возврата покупателей.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Возврата покупателей.


Запрос на получение отдельной позиции Возврата покупателей с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Возврата покупателей.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006",
    "type": "salesreturnposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "quantity": 1,
  "price": 0.0,
  "discount": 0,
  "vat": 0,
  "vatEnabled": false,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/4f785efd-3304-11e6-8a84-bae50001c6c4",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
    }
  },
  "cost": 10
}
Изменить Позицию
Запрос на обновление отдельной позиции Возврата покупателей.
При обновлении отдельной позиции в возврате можно только изменить количество данной позиции.
Причем это количество должно быть в пределах , где n - кол-во данной позиции в документе, по которому создан возврат.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Возврата покупателей.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Возврата покупателей.


Пример запроса на обновление отдельной позиции в Возврате покупателя.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 1,
            "price": 16500.0,
            "discount": 0,
            "vat": 0,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0ae4836f-3303-11e6-8a84-bae500000d39",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                "type": "product",
                "mediaType": "application/json"
              }
            },
            "cost": 100
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной позиции Возврата покупателей.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "salesreturnposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "quantity": 1,
  "price": 16500.0,
  "discount": 0,
  "vat": 0,
  "vatEnabled": false,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0ae4836f-3303-11e6-8a84-bae500000d39",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
    }
  },
  "cost": 100
}
Удалить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Возврата покупателей.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Возврата покупателей.


Запрос на удаление отдельной позиции Возврата покупателей с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление позиции Возврата покупателей.

Массовое удаление позиций
Параметры


Параметр
Описание



id
string (required) Example: 3e1c03bb-684f-11ee-ac12-000c000000b0 id Возврата покупателей


Запрос на массовое удаление позиций Возврата покупателей.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "internalorderposition",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "internalorderposition",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление позиций Возврата покупателей.

Возврат поставщику
Средствами JSON API можно создавать и обновлять сведения о Возвратах поставщикам, запрашивать списки Возвратов поставщикам и сведения по отдельным Возвратам поставщикам. Позициями Возвратов поставщикам можно управлять как в составе отдельного Возврата, так и отдельно - с помощью специальных ресурсов для управления позициями Возврата поставщику. Кодом сущности для Возврата поставщику в составе JSON API является ключевое слово purchasereturn.
Возвраты поставщикамАтрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


agent
Meta
= !=
Метаданные контрагентаОбязательное при ответе Expand Необходимо при создании


agentAccount
Meta

Метаданные счета контрагентаExpand


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта


code
String(255)
= != ~ ~= =~
Код Возврата поставщику


contract
Meta
= !=
Метаданные договораExpand


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления Возврата поставщикуТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Возврата поставщику


externalCode
String(255)
= != ~ ~= =~
Внешний код Возврата поставщикуОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID Возврата поставщикуОбязательное при ответе Только для чтения


meta
Meta

Метаданные Возврата поставщикуОбязательное при ответе


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование Возврата поставщикуОбязательное при ответе


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand


organizationAccount
Meta

Метаданные счета юрлицаExpand


owner
Meta
= !=
Владелец (Сотрудник)Expand


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


project
Meta
= !=
Метаданные проектаExpand


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


rate
Object

Валюта. Подробнее тутОбязательное при ответе


shared
Boolean
= !=
Общий доступОбязательное при ответе


state
Meta
= !=
Метаданные статуса Возврата поставщикуExpand


store
Meta
= !=
Метаданные складаОбязательное при ответе Expand Необходимо при создании


sum
Int
= != < > <= >=
Сумма Возврата поставщику в копейкахОбязательное при ответе Только для чтения


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


updated
DateTime
= != < > <= >=
Момент последнего обновления Возврата поставщикуОбязательное при ответе Только для чтения


vatEnabled
Boolean

Учитывается ли НДСОбязательное при ответе


vatIncluded
Boolean

Включен ли НДС в цену


vatSum
Float

Сумма НДСОбязательное при ответе


Связи с другими документами


Название
Описание



positions
Ссылка на позиции Возврата поставщику в формате Метаданных


supply
Ссылка на приемку, по которой произошел возврат в формате Метаданных Поле является необходимым для возврата с основанием.


factureOut
Ссылка на Счет-фактуру выданный в формате Метаданных


factureIn
Ссылка на Счет-фактуру полученный в формате Метаданных


payedSum
Сумма входящих платежей по возврату поставщику


payments
Массив ссылок на связанные платежи в формате Метаданных


Позиции Возврата поставщику
Позиции Возврата поставщику - это список товаров/услуг/модификаций/серий.
Объект позиции Возврата поставщику содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияОбязательное при ответе Expand


discount
Float
Процент скидки или наценки. Наценка указывается отрицательным числом, т.е. -10 создаст наценку в 10%Обязательное при ответе


id
UUID
ID позицииОбязательное при ответе Только для чтения


pack
Object
Упаковка Товара. Подробнее тут


price
Float
Цена товара/услуги в копейкахОбязательное при ответе


quantity
Float
Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.Обязательное при ответе


slot
Meta
Ячейка на складе. Подробнее тутExpand


things
Array(String)
Серийные номера. Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете. В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута.


vat
Int
НДС, которым облагается текущая позицияОбязательное при ответе


vatEnabled
Boolean
Включен ли НДС для позиции. С помощью этого флага для позиции можно выставлять НДС = 0 или НДС = "без НДС". (vat = 0, vatEnabled = false) -> vat = "без НДС", (vat = 0, vatEnabled = true) -> vat = 0%.Обязательное при ответе


Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете.
В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута.
С позициями можно работать с помощью специальных ресурсов для управления позициями Возврата поставщику,
а также в составе отдельного Возврата поставщику. При работе в составе отдельного Возврата поставщику,
вы можете отправлять запросы на создание отдельного Возврата поставщику с включенным в тело запроса
массивом позиций Возврата поставщику. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Возврата поставщику".
Также, при работе в составе отдельного Возврата поставщику, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Возврата поставщику. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Возврата поставщику" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
О работе с доп. полями Возвратов поставщикамых возвратов можно прочитать здесь
Получить Возвраты поставщикам
Запрос всех Возвратов поставщикам на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Возвраты поставщикам.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить Возвраты поставщикам
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Возвратов поставщикам.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata",
    "type": "purchasereturn",
    "mediaType": "application/json",
    "size": 4,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/b875cc8f-313f-11e6-8a84-bae500000093",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata",
        "type": "purchasereturn",
        "mediaType": "application/json"
      },
      "id": "b875cc8f-313f-11e6-8a84-bae500000093",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-06-13 11:20:55",
      "name": "00001",
      "externalCode": "E4l6sMtVixklOjgfK6VQt3",
      "moment": "2016-06-13 11:20:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 0,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/faf44002-2e58-11e6-8a84-bae500000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "vatEnabled": true,
      "vatIncluded": true,
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/b875cc8f-313f-11e6-8a84-bae500000093/positions",
          "type": "purchasereturnposition",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      },
      "supply": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/b1008773-313f-11e6-8a84-bae500000089",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
          "type": "supply",
          "mediaType": "application/json"
        }
      },
      "payedSum": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/d43161ea-3140-11e6-8a84-bae5000000c6",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata",
        "type": "purchasereturn",
        "mediaType": "application/json"
      },
      "id": "d43161ea-3140-11e6-8a84-bae5000000c6",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-06-13 11:28:34",
      "name": "00002",
      "externalCode": "-5xto6PjiGhuL8RAky-9c3",
      "moment": "2016-06-13 11:22:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 273000,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/faf44002-2e58-11e6-8a84-bae500000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "vatEnabled": true,
      "vatIncluded": true,
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/d43161ea-3140-11e6-8a84-bae5000000c6/positions",
          "type": "purchasereturnposition",
          "mediaType": "application/json",
          "size": 2,
          "limit": 1000,
          "offset": 0
        }
      },
      "supply": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/f39a60f5-313f-11e6-8a84-bae5000000b4",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
          "type": "supply",
          "mediaType": "application/json"
        }
      },
      "payedSum": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/dc194230-41bd-11e6-8a84-bae5000000a9",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata",
        "type": "purchasereturn",
        "mediaType": "application/json"
      },
      "id": "dc194230-41bd-11e6-8a84-bae5000000a9",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-07-04 11:03:57",
      "name": "00003",
      "externalCode": "-SmYzmhBjSFQBveIJQ6uV0",
      "moment": "2016-07-04 11:03:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 28000,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "contract": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/2b34d43f-3f52-11e6-8a84-bae500000066",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
          "type": "contract",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/722e39f0-313e-11e6-8a84-bae500000008",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1489a08d-32ca-11e6-8a84-bae50000000d",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "agentAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1489a08d-32ca-11e6-8a84-bae50000000d/accounts/1489ad8d-32ca-11e6-8a84-bae50000000e",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "vatEnabled": true,
      "vatIncluded": true,
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/dc194230-41bd-11e6-8a84-bae5000000a9/positions",
          "type": "purchasereturnposition",
          "mediaType": "application/json",
          "size": 7,
          "limit": 1000,
          "offset": 0
        }
      },
      "supply": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/ceec2ca6-41bd-11e6-8a84-bae500000097",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
          "type": "supply",
          "mediaType": "application/json"
        }
      },
      "payedSum": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/e699b298-41bd-11e6-8a84-bae5000000ba",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata",
        "type": "purchasereturn",
        "mediaType": "application/json"
      },
      "id": "e699b298-41bd-11e6-8a84-bae5000000ba",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-07-04 11:04:15",
      "name": "00004",
      "externalCode": "tBSZzXSgggWNL5MZ7IrYE2",
      "moment": "2016-07-04 11:04:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 43156000,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "contract": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/91287d9a-41bc-11e6-8a84-bae500000082",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
          "type": "contract",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/722e39f0-313e-11e6-8a84-bae500000008",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/14bfc067-32ca-11e6-8a84-bae50000003f",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "vatEnabled": true,
      "vatIncluded": true,
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/e699b298-41bd-11e6-8a84-bae5000000ba/positions",
          "type": "purchasereturnposition",
          "mediaType": "application/json",
          "size": 7,
          "limit": 1000,
          "offset": 0
        }
      },
      "supply": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/80d04ebc-41bd-11e6-8a84-bae500000085",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
          "type": "supply",
          "mediaType": "application/json"
        }
      },
      "payedSum": 0
    }
  ]
}
Создать Возврат поставщику
Обязательные поля при создании нового Возврата поставщику:
+ organization - Ссылка на ваше юрлицо в формате Метаданных
+ store - Ссылка на склад в формате Метаданных
+ supply - Ссылка на приемку, по которой произошел возврат в формате Метаданных, обязательное поле только для возврата по основанию
+ agent - Ссылка на контрагента в формате Метаданных
Контрагент, указанный в запросе на создание возврата, должен совпадать с контрагентом, указанном в документе,
по которому создается возврат.
При создании возврата:
+ При создании возврата без основания поле supply указывать не нужно
+ Контрагент в возврате и в документе, по которому он создается, должны совпадать
+ Валюта и юрлицо в возврате и в документе так же должны совпадать
+ При передаче коллекции positions в теле запроса на создание возврата, передаваемые позиции
должны соответствовать позициям в документе. Различие может быть только в количестве товара в позиции
(меньшее либо равное количеству в документе). Нельзя передать позиции, которых нет в документе.
Пример создания нового Возврата поставщику на основании приемки.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "77887",
            "owner": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                "type": "employee",
                "mediaType": "application/json"
              }
            },
            "shared": false,
            "group": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                "type": "group",
                "mediaType": "application/json"
              }
            },
            "description": "Возврат поставщику созданный через API",
            "code": "8865255398",
            "externalCode": "fruitsareawesome124",
            "moment": "2016-11-21 14:37:00",
            "applicable": true,
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/4fc7e124-41be-11e6-8a84-bae5000000cb",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "деталь"
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/4fc7e7e7-41be-11e6-8a84-bae5000000cc",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": false
              }
            ],
            "positions": [
              {
                "quantity": 1,
                "price": 1241200.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e6447ee7-3303-11e6-8a84-bae5000149c2",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 1,
                "price": 24100.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e8517bc4-3303-11e6-8a84-bae500014de1",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 1,
                "price": 421000.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/service/6767bc73-3d19-11e6-8a84-bae500000002",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "service",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 1,
                "price": 2421000.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e8563cc5-3303-11e6-8a84-bae500014df0",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              }
            ],
            "supply": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/7585391b-41c0-11e6-8a84-bae5000000de",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
                "type": "supply",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Возврата поставщику.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/6d5371fc-41c1-11e6-8a84-bae50000001c",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata",
    "type": "purchasereturn",
    "mediaType": "application/json"
  },
  "id": "6d5371fc-41c1-11e6-8a84-bae50000001c",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-04 11:29:29",
  "name": "77887",
  "description": "Возврат поставщику созданный через API",
  "code": "8865255398",
  "externalCode": "fruitsareawesome124",
  "moment": "2016-11-21 14:37:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 4107300,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/4fc7e124-41be-11e6-8a84-bae5000000cb",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "4fc7e124-41be-11e6-8a84-bae5000000cb",
      "name": "AttributeName1",
      "type": "boolean",
      "value": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/4fc7e7e7-41be-11e6-8a84-bae5000000cc",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "4fc7e7e7-41be-11e6-8a84-bae5000000cc",
      "name": "AttributeName2",
      "type": "text",
      "value": "деталь"
    }
  ],
  "vatEnabled": true,
  "vatIncluded": true,
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/6d5371fc-41c1-11e6-8a84-bae50000001c/positions",
      "type": "purchasereturnposition",
      "mediaType": "application/json",
      "size": 4,
      "limit": 1000,
      "offset": 0
    }
  },
  "supply": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/7585391b-41c0-11e6-8a84-bae5000000de",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
      "type": "supply",
      "mediaType": "application/json"
    }
  },
  "payedSum": 0
}

Пример создания нового Возврата поставщику без основания.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "77887",
            "owner": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                "type": "employee",
                "mediaType": "application/json"
              }
            },
            "shared": false,
            "group": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                "type": "group",
                "mediaType": "application/json"
              }
            },
            "description": "Возврат поставщику созданный через API",
            "code": "8865255398",
            "externalCode": "fruitsareawesome124",
            "moment": "2016-11-21 14:37:00",
            "applicable": true,
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/4fc7e124-41be-11e6-8a84-bae5000000cb",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "деталь"
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/4fc7e7e7-41be-11e6-8a84-bae5000000cc",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": false
              }
            ],
            "positions": [
              {
                "quantity": 1,
                "price": 1241200.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e6447ee7-3303-11e6-8a84-bae5000149c2",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 1,
                "price": 24100.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e8517bc4-3303-11e6-8a84-bae500014de1",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 1,
                "price": 421000.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/service/6767bc73-3d19-11e6-8a84-bae500000002",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "service",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 1,
                "price": 2421000.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e8563cc5-3303-11e6-8a84-bae500014df0",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Возврата поставщику.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/6d5371fc-41c1-11e6-8a84-bae50000001c",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata",
    "type": "purchasereturn",
    "mediaType": "application/json"
  },
  "id": "6d5371fc-41c1-11e6-8a84-bae50000001c",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-04 11:29:29",
  "name": "77887",
  "description": "Возврат поставщику созданный через API",
  "code": "8865255398",
  "externalCode": "fruitsareawesome124",
  "moment": "2016-11-21 14:37:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 4107300,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/4fc7e124-41be-11e6-8a84-bae5000000cb",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "4fc7e124-41be-11e6-8a84-bae5000000cb",
      "name": "AttributeName1",
      "type": "boolean",
      "value": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/4fc7e7e7-41be-11e6-8a84-bae5000000cc",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "4fc7e7e7-41be-11e6-8a84-bae5000000cc",
      "name": "AttributeName2",
      "type": "text",
      "value": "деталь"
    }
  ],
  "vatEnabled": true,
  "vatIncluded": true,
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/6d5371fc-41c1-11e6-8a84-bae50000001c/positions",
      "type": "purchasereturnposition",
      "mediaType": "application/json",
      "size": 4,
      "limit": 100,
      "offset": 0
    }
  },
  "payedSum": 0
}
Массовое создание и обновление Возвратов поставщику
Массовое создание и обновление Возвратов поставщику.
В теле запроса нужно передать массив, содержащий JSON представления Возвратов поставщику, которые вы хотите создать или обновить.
Обновляемые Возвраты поставщику должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Возвратов поставщику
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "name": "77887",
              "owner": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                  "type": "employee",
                  "mediaType": "application/json"
                }
              },
              "shared": false,
              "group": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                  "type": "group",
                  "mediaType": "application/json"
                }
              },
              "description": "Возврат поставщику созданный через API",
              "code": "8865255398",
              "externalCode": "fruitsareawesome124",
              "moment": "2016-11-21 14:37:00",
              "applicable": true,
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                  "type": "counterparty",
                  "mediaType": "application/json"
                }
              },
              "store": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                  "type": "store",
                  "mediaType": "application/json"
                }
              },
              "attributes": [
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/4fc7e124-41be-11e6-8a84-bae5000000cb",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": "деталь"
                },
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/4fc7e7e7-41be-11e6-8a84-bae5000000cc",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": false
                }
              ],
              "positions": [
                {
                  "quantity": 1,
                  "price": 1241200.0,
                  "discount": 0,
                  "vat": 0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e6447ee7-3303-11e6-8a84-bae5000149c2",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  }
                },
                {
                  "quantity": 1,
                  "price": 24100.0,
                  "discount": 0,
                  "vat": 0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e8517bc4-3303-11e6-8a84-bae500014de1",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  }
                },
                {
                  "quantity": 1,
                  "price": 421000.0,
                  "discount": 0,
                  "vat": 0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/service/6767bc73-3d19-11e6-8a84-bae500000002",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "service",
                      "mediaType": "application/json"
                    }
                  }
                },
                {
                  "quantity": 1,
                  "price": 2421000.0,
                  "discount": 0,
                  "vat": 0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e8563cc5-3303-11e6-8a84-bae500014df0",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  }
                }
              ],
              "supply": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/7585391b-41c0-11e6-8a84-bae5000000de",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
                  "type": "supply",
                  "mediaType": "application/json"
                }
              }
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/6d5371fc-41c1-11e6-8a84-bae50000001c",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata",
                "type": "purchasereturn",
                "mediaType": "application/json"
              },
              "name": "763457",
              "owner": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/1205364b-7f01-455a-a1b5-4ba0988c8308",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                  "type": "employee",
                  "mediaType": "application/json"
                }
              },
              "shared": true,
              "group": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/348d910b-6dc0-483f-b916-2237bc54a04e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                  "type": "group",
                  "mediaType": "application/json"
                }
              },
              "description": "Возврат поставщику созданный и обновленный через API",
              "code": "8865255398",
              "externalCode": "fruitsareawesome!!!",
              "moment": "2016-11-21 14:27:00",
              "applicable": false,
              "state": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/states/69e39d04-41be-11e6-8a84-bae5000000d2",
                  "type": "state",
                  "mediaType": "application/json"
                }
              },
              "attributes": [
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/4fc7e124-41be-11e6-8a84-bae5000000cb",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": true
                }
              ],
              "positions": [
                {
                  "quantity": 1,
                  "price": 1241200.0,
                  "discount": 0,
                  "vat": 0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e6447ee7-3303-11e6-8a84-bae5000149c2",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  }
                },
                {
                  "quantity": 1,
                  "price": 24100.0,
                  "discount": 0,
                  "vat": 0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e8517bc4-3303-11e6-8a84-bae500014de1",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  }
                },
                {
                  "quantity": 1,
                  "price": 421000.0,
                  "discount": 0,
                  "vat": 0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/service/6767bc73-3d19-11e6-8a84-bae500000002",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "service",
                      "mediaType": "application/json"
                    }
                  }
                },
                {
                  "quantity": 1,
                  "price": 2421000.0,
                  "discount": 0,
                  "vat": 0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e8563cc5-3303-11e6-8a84-bae500014df0",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  }
                },
                {
                  "quantity": 1,
                  "price": 263000.0,
                  "discount": 0,
                  "vat": 0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/20485cfd-2e62-11e6-8a84-bae500000112",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  }
                }
              ]
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Возвратов поставщику.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/6d5371fc-41c1-11e6-8a84-bae50000001c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata",
      "type": "purchasereturn",
      "mediaType": "application/json"
    },
    "id": "6d5371fc-41c1-11e6-8a84-bae50000001c",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-07-04 11:29:29",
    "name": "77887",
    "description": "Возврат поставщику созданный через API",
    "code": "8865255398",
    "externalCode": "fruitsareawesome124",
    "moment": "2016-11-21 14:37:00",
    "applicable": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 4107300,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "agentAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "attributes": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/4fc7e124-41be-11e6-8a84-bae5000000cb",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "4fc7e124-41be-11e6-8a84-bae5000000cb",
        "name": "AttributeName1",
        "type": "boolean",
        "value": false
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/4fc7e7e7-41be-11e6-8a84-bae5000000cc",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "4fc7e7e7-41be-11e6-8a84-bae5000000cc",
        "name": "AttributeName2",
        "type": "text",
        "value": "деталь"
      }
    ],
    "vatEnabled": true,
    "vatIncluded": true,
    "created": "2007-02-07 17:16:41",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/6d5371fc-41c1-11e6-8a84-bae50000001c/positions",
        "type": "purchasereturnposition",
        "mediaType": "application/json",
        "size": 4,
        "limit": 1000,
        "offset": 0
      }
    },
    "supply": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/7585391b-41c0-11e6-8a84-bae5000000de",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
        "type": "supply",
        "mediaType": "application/json"
      }
    },
    "payedSum": 0
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/6d5371fc-41c1-11e6-8a84-bae50000001c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata",
      "type": "purchasereturn",
      "mediaType": "application/json"
    },
    "id": "6d5371fc-41c1-11e6-8a84-bae50000001c",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/1205364b-7f01-455a-a1b5-4ba0988c8308",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": true,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/348d910b-6dc0-483f-b916-2237bc54a04e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-07-04 11:35:26",
    "name": "763457",
    "description": "Возврат поставщику созданный и обновленный через API",
    "code": "8865255398",
    "externalCode": "fruitsareawesome!!!",
    "moment": "2016-11-21 14:27:00",
    "applicable": false,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 4370300,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "state": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/states/69e39d04-41be-11e6-8a84-bae5000000d2",
        "type": "state",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "agentAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "attributes": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/4fc7e124-41be-11e6-8a84-bae5000000cb",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "4fc7e124-41be-11e6-8a84-bae5000000cb",
        "name": "AttributeName1",
        "type": "boolean",
        "value": true
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/4fc7e7e7-41be-11e6-8a84-bae5000000cc",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "4fc7e7e7-41be-11e6-8a84-bae5000000cc",
        "name": "AttributeName2",
        "type": "text",
        "value": "деталь"
      }
    ],
    "vatEnabled": true,
    "vatIncluded": true,
    "created": "2007-02-07 17:16:41",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/6d5371fc-41c1-11e6-8a84-bae50000001c/positions",
        "type": "purchasereturnposition",
        "mediaType": "application/json",
        "size": 5,
        "limit": 1000,
        "offset": 0
      }
    },
    "supply": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/7585391b-41c0-11e6-8a84-bae5000000de",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
        "type": "supply",
        "mediaType": "application/json"
      }
    },
    "payedSum": 0
  }
]
Удалить Возврат поставщику
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Возврата поставщику.


Запрос на удаление Возврата поставщику с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Возврата поставщику.

Массовое удаление Возвратов поставщикам
В теле запроса нужно передать массив, содержащий JSON метаданных Возвратов поставщикам, которые вы хотите удалить.
Запрос на массовое удаление Возвратов поставщикам. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata",
                "type": "purchasereturn",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata",
                "type": "purchasereturn",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Возвратов поставщикам.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'purchasereturn' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'purchasereturn' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные Возвратов поставщикамМетаданные Возвратов поставщикам
Запрос на получение метаданных Возвратов поставщикам. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Возвратов поставщикам


attributes
Массив объектов доп. полей Возвратов поставщикам в формате Метаданных


states
Массив статусов Возвратов поставщикам


createShared
создавать новые Возвраты поставщикам с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Возвратов поставщикам
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Возвратов поставщикам.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/4fc7e124-41be-11e6-8a84-bae5000000cb",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "4fc7e124-41be-11e6-8a84-bae5000000cb",
      "name": "AttributeName1",
      "type": "boolean",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/4fc7e7e7-41be-11e6-8a84-bae5000000cc",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "4fc7e7e7-41be-11e6-8a84-bae5000000cc",
      "name": "AttributeName2",
      "type": "text",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/states/69e394ff-41be-11e6-8a84-bae5000000d0",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "69e394ff-41be-11e6-8a84-bae5000000d0",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Оформлен",
      "color": 9245744,
      "stateType": "Regular",
      "entityType": "purchasereturn"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/states/69e39958-41be-11e6-8a84-bae5000000d1",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "69e39958-41be-11e6-8a84-bae5000000d1",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Произведен частично",
      "color": 4354177,
      "stateType": "Regular",
      "entityType": "purchasereturn"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/states/69e39d04-41be-11e6-8a84-bae5000000d2",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "69e39d04-41be-11e6-8a84-bae5000000d2",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Произведен",
      "color": 8825440,
      "stateType": "Regular",
      "entityType": "purchasereturn"
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/4fc7e7e7-41be-11e6-8a84-bae5000000cc",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "4fc7e7e7-41be-11e6-8a84-bae5000000cc",
  "name": "AttributeName1",
  "type": "text",
  "required": false
}
Шаблон Возврата поставщикуШаблон Возврата поставщику
Запрос на получение предзаполненого стандартными значениями шаблона возврата поставщику без связи с каким-либо документом.
Создание шаблона возврата поставщику с пустым телом запроса
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d ''  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного Возврата поставщику.
ПоказатьСвернуть
{
  "applicable": false,
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2",
      "type": "purchasereturnposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    },
    "rows": []
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "payedSum": 0
}
Шаблон Возврата поставщику на основе
Запрос на получение предзаполненного шаблона возврата поставщику на основе переданной приемки.
В ответ на запрос вернется предзаполненный шаблон возврата поставщику, который
затем можно будет использовать для создания нового возврата с помощью POST запроса.
Пример запроса на создание шаблона возврата поставщику на основе приемки.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "supply": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/373d2925-4a98-11e6-8a84-bae500000069",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
                "type": "supply",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного Возврата поставщику.
ПоказатьСвернуть
{
  "applicable": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1485d676-32ca-11e6-8a84-bae500000009",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1485d676-32ca-11e6-8a84-bae500000009/accounts/1485e43e-32ca-11e6-8a84-bae50000000a",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2",
      "type": "purchasereturnposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    },
    "rows": []
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "supply": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/373d2925-4a98-11e6-8a84-bae500000069",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
      "type": "supply",
      "mediaType": "application/json"
    }
  },
  "payedSum": 0
}
Возврат поставщикуПолучить Возврат поставщику
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Возврата поставщику.


Запрос на получение отдельного Возврата поставщику с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Возврата поставщику с указанным id.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/e699b298-41bd-11e6-8a84-bae5000000ba",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata",
    "type": "purchasereturn",
    "mediaType": "application/json"
  },
  "id": "e699b298-41bd-11e6-8a84-bae5000000ba",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-04 11:04:15",
  "name": "00004",
  "externalCode": "tBSZzXSgggWNL5MZ7IrYE2",
  "moment": "2016-07-04 11:04:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 43156000,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/91287d9a-41bc-11e6-8a84-bae500000082",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/722e39f0-313e-11e6-8a84-bae500000008",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/14bfc067-32ca-11e6-8a84-bae50000003f",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/e699b298-41bd-11e6-8a84-bae5000000ba/positions",
      "type": "purchasereturnposition",
      "mediaType": "application/json",
      "size": 7,
      "limit": 1000,
      "offset": 0
    }
  },
  "supply": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/80d04ebc-41bd-11e6-8a84-bae500000085",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
      "type": "supply",
      "mediaType": "application/json"
    }
  },
  "payedSum": 0
}
Изменить Возврат поставщику
Запрос на обновление Возврата поставщику с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Возврата поставщику, кроме тех, что
помечены Только для чтения в описании атрибутов Возврата поставщику.
При обновлении полей organization и agent нужно также обновить поля organizationAccount и
agentAccount соответственно, иначе произойдет ошибка.
Контрагент должен совпадать с контрагентом, указанным в документе, по которому создается возврат.
При обновлении возврата:

Нельзя изменять следующие поля: agentAccount, agent, supply
Нельзя выставить валюту отличную от валюты в документе
Нельзя добавить позиции, отсутствующие среди позиций документа.

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Возврата поставщику.


Пример запроса на обновление Возврата поставщику.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "763457",
            "owner": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/1205364b-7f01-455a-a1b5-4ba0988c8308",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                "type": "employee",
                "mediaType": "application/json"
              }
            },
            "shared": true,
            "group": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/348d910b-6dc0-483f-b916-2237bc54a04e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                "type": "group",
                "mediaType": "application/json"
              }
            },
            "description": "Возврат поставщику созданный и обновленный через API",
            "code": "8865255398",
            "externalCode": "fruitsareawesome!!!",
            "moment": "2016-11-21 14:27:00",
            "applicable": false,
            "state": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/states/69e39d04-41be-11e6-8a84-bae5000000d2",
                "type": "state",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/4fc7e124-41be-11e6-8a84-bae5000000cb",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": true
              }
            ],
            "positions": [
              {
                "quantity": 1,
                "price": 1241200.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e6447ee7-3303-11e6-8a84-bae5000149c2",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 1,
                "price": 24100.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e8517bc4-3303-11e6-8a84-bae500014de1",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 1,
                "price": 421000.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/service/6767bc73-3d19-11e6-8a84-bae500000002",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "service",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 1,
                "price": 2421000.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e8563cc5-3303-11e6-8a84-bae500014df0",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 1,
                "price": 263000.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/20485cfd-2e62-11e6-8a84-bae500000112",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Возврата поставщику.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/6d5371fc-41c1-11e6-8a84-bae50000001c",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata",
    "type": "purchasereturn",
    "mediaType": "application/json"
  },
  "id": "6d5371fc-41c1-11e6-8a84-bae50000001c",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/1205364b-7f01-455a-a1b5-4ba0988c8308",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": true,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/348d910b-6dc0-483f-b916-2237bc54a04e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-04 11:35:26",
  "name": "763457",
  "description": "Возврат поставщику созданный и обновленный через API",
  "code": "8865255398",
  "externalCode": "fruitsareawesome!!!",
  "moment": "2016-11-21 14:27:00",
  "applicable": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 4370300,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/states/69e39d04-41be-11e6-8a84-bae5000000d2",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/4fc7e124-41be-11e6-8a84-bae5000000cb",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "4fc7e124-41be-11e6-8a84-bae5000000cb",
      "name": "AttributeName1",
      "type": "boolean",
      "value": true
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata/attributes/4fc7e7e7-41be-11e6-8a84-bae5000000cc",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "4fc7e7e7-41be-11e6-8a84-bae5000000cc",
      "name": "AttributeName1",
      "type": "text",
      "value": "деталь"
    }
  ],
  "vatEnabled": true,
  "vatIncluded": true,
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/6d5371fc-41c1-11e6-8a84-bae50000001c/positions",
      "type": "purchasereturnposition",
      "mediaType": "application/json",
      "size": 5,
      "limit": 1000,
      "offset": 0
    }
  },
  "supply": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/7585391b-41c0-11e6-8a84-bae5000000de",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
      "type": "supply",
      "mediaType": "application/json"
    }
  },
  "payedSum": 0
}
Позиции Возврата поставщику
Отдельный ресурс для управления позициями Возврата поставщику. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить Позиции
Запрос на получение списка всех позиций данной Возврата поставщику.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой позиции Возврата поставщику.


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Возврата поставщику.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить Позиции
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b19/positions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций Возврата поставщику.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b19/positions",
    "type": "purchasereturnposition",
    "mediaType": "application/json",
    "size": 7,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b19/positions/e699bc75-41bd-11e6-8a84-bae5000000bb",
        "type": "purchasereturnposition",
        "mediaType": "application/json"
      },
      "id": "e699bc75-41bd-11e6-8a84-bae5000000bb",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 40,
      "price": 34400.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/a69fe5c3-3303-11e6-8a84-bae50000dfab",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b19/positions/e699c2b5-41bd-11e6-8a84-bae5000000bc",
        "type": "purchasereturnposition",
        "mediaType": "application/json"
      },
      "id": "e699c2b5-41bd-11e6-8a84-bae5000000bc",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 52,
      "price": 556000.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0464a192-3304-11e6-8a84-bae500017f51",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b19/positions/e699c804-41bd-11e6-8a84-bae5000000bd",
        "type": "purchasereturnposition",
        "mediaType": "application/json"
      },
      "id": "e699c804-41bd-11e6-8a84-bae5000000bd",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 32,
      "price": 200000.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/044e812a-3304-11e6-8a84-bae500017f34",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=392c045c-2842-11e9-ac12-000a00000002"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b19/positions/e699cd72-41bd-11e6-8a84-bae5000000be",
        "type": "purchasereturnposition",
        "mediaType": "application/json"
      },
      "id": "e699cd72-41bd-11e6-8a84-bae5000000be",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 112,
      "price": 34000.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/048b1a8b-3304-11e6-8a84-bae500017f84",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b19/positions/e699d288-41bd-11e6-8a84-bae5000000bf",
        "type": "purchasereturnposition",
        "mediaType": "application/json"
      },
      "id": "e699d288-41bd-11e6-8a84-bae5000000bf",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 76,
      "price": 35000.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/27eba7b5-3303-11e6-8a84-bae500002b72",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bad99f1-2842-11e9-ac12-000c0000005c"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b19/positions/e699d76d-41bd-11e6-8a84-bae5000000c0",
        "type": "purchasereturnposition",
        "mediaType": "application/json"
      },
      "id": "e699d76d-41bd-11e6-8a84-bae5000000c0",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 6000,
      "price": 0.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/130a02d7-3303-11e6-8a84-bae500001887",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3c3c1618-2842-11e9-ac12-000c0000006f"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b19/positions/e699dcb4-41bd-11e6-8a84-bae5000000c1",
        "type": "purchasereturnposition",
        "mediaType": "application/json"
      },
      "id": "e699dcb4-41bd-11e6-8a84-bae5000000c1",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 75,
      "price": 0.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/3b9a7d0c-2842-11e9-ac12-000c0000005a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=0475cacb-3303-11e6-8a84-bae500000765"
        }
      }
    }
  ]
}

Создать Позицию
Запрос на создание новой позиции в Возврате поставщику.
Для успешного создания необходимо в теле запроса указать следующие поля:

assortment - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем service, consignment, variant в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании позиции Возврата поставщику.
quantity - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций Возврата поставщику. Все созданные данным запросом позиции
будут добавлены к уже существующим.
Нельзя создавать позиции, отличные от позиций в документе, по которому создается возврат. Допустимо только
отличие в quantity позиций (количество в позиции в возврате м.б. меньше или равно количеству в позиции в документе).

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Возврата поставщику.


Пример запроса на создание позиций в Возврате поставщику.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "quantity": 1,
              "price": 263000.0,
              "discount": 0,
              "vat": 0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/20485cfd-2e62-11e6-8a84-bae500000112",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                  "type": "product",
                  "mediaType": "application/json"
                }
              }
            },
            {
              "quantity": 1,
              "price": 10000.0,
              "discount": 0,
              "vat": 0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0744d71b-2e59-11e6-8a84-bae50000007f",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                  "type": "product",
                  "mediaType": "application/json"
                }
              }
            }
          ]
'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданных позиций.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b19/positions/9cfa8b56-41bf-11e6-8a84-bae500000014",
      "type": "purchasereturnposition",
      "mediaType": "application/json"
    },
    "id": "9cfa8b56-41bf-11e6-8a84-bae500000014",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 1,
    "price": 263000.0,
    "discount": 0,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/20485cfd-2e62-11e6-8a84-bae500000112",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
      }
    }
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b19/positions/9cfa9b0e-41bf-11e6-8a84-bae500000015",
      "type": "purchasereturnposition",
      "mediaType": "application/json"
    },
    "id": "9cfa9b0e-41bf-11e6-8a84-bae500000015",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 1,
    "price": 10000.0,
    "discount": 0,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0744d71b-2e59-11e6-8a84-bae50000007f",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
      }
    }
  }
]

Позиция Возврата поставщикуПолучить Позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Возврата поставщику.


positionIDv
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Возврата поставщику.


Запрос на получение отдельной позиции Возврата поставщику с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Возврата поставщику.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "purchasereturnposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "quantity": 76,
  "price": 35000.0,
  "discount": 0,
  "vat": 0,
  "vatEnabled": false,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/27eba7b5-3303-11e6-8a84-bae500002b72",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
    }
  }
}

Изменить Позицию
Запрос на обновление отдельной позиции Возврата поставщику.
При обновлении отдельной позиции в возврате можно только изменить количество данной позиции.
Причем это количество должно быть в пределах , где n - кол-во данной позиции в документе, по которому создан возврат.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Возврата поставщику.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Возврата поставщику.


Пример запроса на обновление отдельной позиции в Возврате поставщику.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 6754
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной позиции Возврата поставщику.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "purchasereturnposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "quantity": 6754,
  "price": 0.0,
  "discount": 0,
  "vat": 0,
  "vatEnabled": false,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/130a02d7-3303-11e6-8a84-bae500001887",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
    }
  }
}
Удалить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Возврата поставщику.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Возврата поставщику.


Запрос на удаление отдельной позиции Возврата поставщику с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление позиции Возврата поставщику.

Массовое удаление позиций
Параметры


Параметр
Описание



id
string (required) Example: 3e1c03bb-684f-11ee-ac12-000c000000b0 id Возврата поставщика


Запрос на массовое удаление позиций Возврата поставщика.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "purchasereturnposition",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "purchasereturnposition",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление позиций Возврата поставщика.

Возврат предоплатыВозврата предоплаты
Средствами JSON API можно запрашивать списки Возвратов предоплат и сведения по отдельным Возвратам предоплат. Кодом сущности для Возврата предоплаты в составе JSON API является ключевое слово prepaymentreturn.
По данной сущности можно осуществлять контекстный поиск с помощью специального параметра search. Подробнее можно узнать по ссылке. Поиск с параметром search отличается от других тем, что поиск не префиксный, без токенизации и идет только по одному полю одновременно. Ищет такие строки, в которые входит значение строки поиска.
Поиск среди объектов предоплат на соответствие поисковой строке будет осуществлён по следующим полям:

по наименованию предоплаты name

Атрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


agent
Meta
= !=
Метаданные контрагентаОбязательное при ответе Expand Необходимо при создании


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта


cashSum
Float

Оплачено наличнымиОбязательное при ответе


code
String(255)
= != ~ ~= =~
Код Возврата предоплаты


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления Возврата предоплатыТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Возврата предоплаты


externalCode
String(255)
= != ~ ~= =~
Внешний код Возврата предоплатыОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID Возврата предоплатыОбязательное при ответе Только для чтения


meta
Meta

Метаданные Возврата предоплатыОбязательное при ответе


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование Возврата предоплатыОбязательное при ответе


noCashSum
Float

Оплачено картойОбязательное при ответе


organization
Meta
= !=
Метаданные юрлицаExpand


owner
Meta
= !=
Владелец (Сотрудник)Expand


positions
MetaArray

Метаданные позиций Возврата предоплатыОбязательное при ответе Expand


prepayment
Meta

Метаданные ПредоплатыОбязательное при ответе Expand


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


qrSum
Float

Оплачено по QR-кодуОбязательное при ответе


rate
Object

Валюта. Подробнее тутОбязательное при ответе


retailShift
Meta
= !=
Метаданные Розничной сменыОбязательное при ответе Expand Необходимо при создании


retailStore
Meta
= !=
Метаданные Точки продажОбязательное при ответе Expand


shared
Boolean
= !=
Общий доступОбязательное при ответе


state
Meta
= !=
Метаданные статуса Возврата предоплатыExpand


sum
Int
= != < > <= >=
Сумма Возврата предоплаты в копейкахОбязательное при ответе Только для чтения


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


taxSystem
Enum

Код системы налогообложения. Подробнее тут


updated
DateTime
= != < > <= >=
Момент последнего обновления Возврата предоплатыОбязательное при ответе Только для чтения


vatEnabled
Boolean

Учитывается ли НДСОбязательное при ответе


vatIncluded
Boolean

Включен ли НДС в цену


vatSum
Float

Сумма НДСОбязательное при ответе


Код системы налогообложения
Значения поля taxSystem.


Значение
Описание



GENERAL_TAX_SYSTEM
ОСН


SIMPLIFIED_TAX_SYSTEM_INCOME
УСН. Доход


SIMPLIFIED_TAX_SYSTEM_INCOME_OUTCOME
УСН. Доход-Расход


UNIFIED_AGRICULTURAL_TAX
ЕСХН


PRESUMPTIVE_TAX_SYSTEM
ЕНВД


PATENT_BASED
Патент


Позиции Возврата предоплаты
Позиции Возврата предоплаты - это список товаров/услуг/модификаций/серий.
Объект позиции Возврата предоплаты содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияОбязательное при ответе Expand


discount
Int
Процент скидки или наценки. Наценка указывается отрицательным числом, т.е. -10 создаст наценку в 10%Обязательное при ответе


id
UUID
ID позицииОбязательное при ответе Только для чтения


pack
Object
Упаковка Товара. Подробнее тут


price
Float
Цена товара/услуги в копейкахОбязательное при ответе


quantity
Int
Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.Обязательное при ответе


vat
Int
НДС, которым облагается текущая позицияОбязательное при ответе


vatEnabled
Boolean
Включен ли НДС для позиции. С помощью этого флага для позиции можно выставлять НДС = 0 или НДС = "без НДС". (vat = 0, vatEnabled = false) -> vat = "без НДС", (vat = 0, vatEnabled = true) -> vat = 0%.Обязательное при ответе


Атрибуты доступные для фильтрации


Значение
Описание



agent
Ссылка на контрагента


applicable
Отметка о проведении


created
Дата создания


deleted
Момент последнего удаления сущности


description
Комментарий Предоплаты


externalCode
Внешний код Предоплаты


group
Отдел сотрудника


id
ID в формате UUID


isDeleted
Удалена ли Предоплата


moment
Дата Предоплаты


name
номер Предоплаты


organization
Ссылка на ваше юрлицо


owner
Ссылка на Владельца (Сотрудника)


shared
Общий доступ


state
Статус Предоплаты


sum
Сумма Предоплаты в установленной валюте


syncId
ID синхронизации


updated
Момент последнего обновления сущности


updatedBy
Автор последнего обновления сущности в формате uid (admin@admin)


Атрибуты доступные для сортировки


Значение
Описание



applicable
Отметка о проведении


created
Дата создания


description
Комментарий Предоплаты


externalCode
Внешний код Предоплаты


id
ID в формате UUID


moment
Дата Предоплаты


name
номер Предоплаты


sum
Сумма Предоплаты в установленной валюте


syncId
ID синхронизации


updated
Момент последнего обновления сущности


Получить список Возвратов предоплаты [GET]
Запрос всех Возвратов предоплат на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Возвраты предоплат.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить список Предоплат
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Предоплат.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn",
    "type": "prepaymentreturn",
    "mediaType": "application/json",
    "size": 1,
    "limit": 25,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/bdf4e318-38df-11e9-ac12-000c0000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/metadata",
        "type": "prepaymentreturn",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#prepaymentreturn/edit?id=bdf4e318-38df-11e9-ac12-000c0000004e"
      },
      "id": "bdf4e318-38df-11e9-ac12-000c0000004e",
      "accountId": "783e70de-2e92-11e9-ac12-000b00000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/78d0453c-2e92-11e9-ac12-000e0000002f",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=78d0453c-2e92-11e9-ac12-000e0000002f"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/783fd0fd-2e92-11e9-ac12-000b00000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "version": 0,
      "updated": "2019-02-25 12:28:42",
      "name": "00002",
      "description": "Комментарий",
      "externalCode": "Avamj0cIjGYE6P500XlBD1",
      "moment": "2019-02-25 12:28:00",
      "applicable": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/790def39-2e92-11e9-ac12-000e00000061",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#currency/edit?id=790def39-2e92-11e9-ac12-000e00000061"
          }
        }
      },
      "sum": 30000,
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/790cd2d0-2e92-11e9-ac12-000e0000005f",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=790cd2d0-2e92-11e9-ac12-000e0000005f"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/7906d621-2e92-11e9-ac12-000e0000005a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=7906d621-2e92-11e9-ac12-000e0000005a"
        }
      },
      "documents": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/bdf4e318-38df-11e9-ac12-000c0000004e/documents",
          "mediaType": "application/json",
          "size": 0,
          "limit": 100,
          "offset": 0
        }
      },
      "created": "2016-08-25 19:55:00",
      "printed": true,
      "published": true,
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/bdf4e318-38df-11e9-ac12-000c0000004e/positions",
          "type": "prepaymentreturnposition",
          "mediaType": "application/json",
          "size": 1,
          "limit": 100,
          "offset": 0
        }
      },
      "vatEnabled": true,
      "vatIncluded": true,
      "vatSum": 5000,
      "retailStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/79749705-2e92-11e9-ac12-000e00000071",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
          "type": "retailstore",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#retailstore/edit?id=79749705-2e92-11e9-ac12-000e00000071"
        }
      },
      "retailShift": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/f1e3aa91-366b-11e9-ac12-000b0000007e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
          "type": "retailshift",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#retailshift/edit?id=f1e3aa91-366b-11e9-ac12-000b0000007e"
        }
      },
      "prepayment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/857c7a16-366b-11e9-ac12-000b00000070",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/metadata",
          "type": "prepayment",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#prepayment/edit?id=857c7a16-366b-11e9-ac12-000b00000070"
        }
      },
      "cashSum": 15000,
      "noCashSum": 15000,
      "qrSum": 0,
      "taxSystem": "GENERAL_TAX_SYSTEM"
    }
  ]
}
Метаданные Возвратов предоплатМетаданные Возвратов предоплат
Запрос на получение метаданных Возвратов предоплат. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Возвратов предоплат


attributes
Массив объектов доп. полей Возвратов предоплат в формате Метаданных


states
Массив статусов Возвратов предоплат


createShared
создавать новые Возвраты предоплат с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Возвратов предоплат
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление метаданных Возвратов предоплат.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/metadata/attributes/e606ab19-38df-11e9-ac12-000c00000058",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "e606ab19-38df-11e9-ac12-000c00000058",
      "name": "Label",
      "type": "string",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/metadata/states/dfd2e697-38df-11e9-ac12-000c00000054",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/metadata",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "dfd2e697-38df-11e9-ac12-000c00000054",
      "accountId": "783e70de-2e92-11e9-ac12-000b00000001",
      "name": "Новый",
      "color": 10066329,
      "stateType": "Regular",
      "entityType": "prepaymentreturn"
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Отдельное доп. поле
Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "7944ef04-f831-11e5-7a69-971500188b19",
  "name": "Label",
  "type": "string",
  "required": false
}
Возврат предоплатыПолучить Возврат предоплаты [GET]
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Возврата предоплаты.


Запрос на получение отдельной Предоплаты с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Предоплаты.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/7944ef04-f831-11e5-7a69-971500188b19",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/metadata",
    "type": "prepaymentreturn",
    "mediaType": "application/json",
    "uuidHref": "https://online.moysklad.ru/app/#prepaymentreturn/edit?id=7944ef04-f831-11e5-7a69-971500188b19"
  },
  "id": "7944ef04-f831-11e5-7a69-971500188b19",
  "accountId": "783e70de-2e92-11e9-ac12-000b00000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/78d0453c-2e92-11e9-ac12-000e0000002f",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=78d0453c-2e92-11e9-ac12-000e0000002f"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/783fd0fd-2e92-11e9-ac12-000b00000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "version": 0,
  "updated": "2019-02-25 12:28:42",
  "name": "00002",
  "description": "Комментарий",
  "externalCode": "Avamj0cIjGYE6P500XlBD1",
  "moment": "2019-02-25 12:28:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/790def39-2e92-11e9-ac12-000e00000061",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#currency/edit?id=790def39-2e92-11e9-ac12-000e00000061"
      }
    }
  },
  "sum": 30000,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/790cd2d0-2e92-11e9-ac12-000e0000005f",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=790cd2d0-2e92-11e9-ac12-000e0000005f"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/7906d621-2e92-11e9-ac12-000e0000005a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=7906d621-2e92-11e9-ac12-000e0000005a"
    }
  },
  "documents": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/7944ef04-f831-11e5-7a69-971500188b19/documents",
      "mediaType": "application/json",
      "size": 0,
      "limit": 100,
      "offset": 0
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/7944ef04-f831-11e5-7a69-971500188b19/positions",
      "type": "prepaymentreturnposition",
      "mediaType": "application/json",
      "size": 1,
      "limit": 100,
      "offset": 0
    }
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "vatSum": 5000,
  "retailStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/79749705-2e92-11e9-ac12-000e00000071",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
      "type": "retailstore",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#retailstore/edit?id=79749705-2e92-11e9-ac12-000e00000071"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/f1e3aa91-366b-11e9-ac12-000b0000007e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#retailshift/edit?id=f1e3aa91-366b-11e9-ac12-000b0000007e"
    }
  },
  "prepayment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/857c7a16-366b-11e9-ac12-000b00000070",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/metadata",
      "type": "prepayment",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#prepayment/edit?id=857c7a16-366b-11e9-ac12-000b00000070"
    }
  },
  "cashSum": 15000,
  "noCashSum": 15000,
  "qrSum": 0
}
Удалить Возврат предоплаты
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Возврата предоплаты.


Запрос на удаление Возврата предоплаты с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Возврата предоплаты.

Позиции Возврата предоплаты
Отдельный ресурс для управления позициями Возврата предоплаты. С его помощью вы можете запросить позиции большого документа, количество строк в котором превышает лимит на количество строк в выдаче документа. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить позиции Возврата предоплаты
Запрос на получение списка всех позиций данного Возврата предоплаты.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой позиции Возврата предоплаты.


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Возврата предоплаты.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Запрос на получение списка всех позиций данного Возврата предоплаты.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/7944ef04-f831-11e5-7a69-971500188b19/positions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного Возврата предоплаты.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/7944ef04-f831-11e5-7a69-971500188b19/positions",
    "type": "prepaymentreturnposition",
    "mediaType": "application/json",
    "size": 1,
    "limit": 25,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
        "type": "prepaymentreturnposition",
        "mediaType": "application/json"
      },
      "id": "34f6344f-015e-11e6-9464-e4de0000006c",
      "accountId": "783e70de-2e92-11e9-ac12-000b00000001",
      "quantity": 2,
      "price": 15000.0,
      "discount": 0,
      "vat": 20,
      "vatEnabled": true,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/58e50cd3-366a-11e9-ac12-000b00000036",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=58e4982f-366a-11e9-ac12-000b00000034"
        }
      }
    }
  ]
}
Позиция Возврата предоплаты
Отдельная позиция Возврата предоплаты с указанным id позиции.
Получить позицию Возврата предоплаты
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Возврата предоплаты.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Возврата предоплаты.


Запрос на получение отдельной позиции Возврата предоплаты с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Возврата предоплаты.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepaymentreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "prepaymentreturnposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "783e70de-2e92-11e9-ac12-000b00000001",
  "quantity": 2,
  "price": 15000.0,
  "discount": 0,
  "vat": 20,
  "vatEnabled": true,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/58e50cd3-366a-11e9-ac12-000b00000036",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=58e4982f-366a-11e9-ac12-000b00000034"
    }
  }
}
Входящий платежВходящие платежи
Средствами JSON API можно создавать и обновлять сведения о платеже , запрашивать списки Входящих платежей и сведения по отдельным Входящим платежам. Кодом сущности для Входящего платежа в составе JSON API является ключевое слово paymentin. Больше о платежах  и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по этой ссылке.
Атрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


agent
Meta
= !=
Метаданные контрагентаОбязательное при ответе Expand Необходимо при создании


agentAccount
Meta

Метаданные счета контрагентаExpand


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта


code
String(255)
= != ~ ~= =~
Код Входящего платежа


contract
Meta
= !=
Метаданные договораExpand


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления Входящего платежааТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Входящего платежа


externalCode
String(255)
= != ~ ~= =~
Внешний код Входящего платежаОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID Входящего платежаОбязательное при ответе Только для чтения


incomingDate
DateTime
= != < > <= >=
Входящая дата


incomingNumber
Int
= != ~ ~= =~
Входящий номер


meta
Meta

Метаданные Входящего платежаОбязательное при ответе


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование Входящего платежаОбязательное при ответе


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании


organizationAccount
Meta

Метаданные счета юрлицаExpand


owner
Meta
= !=
Владелец (Сотрудник)Expand


paymentPurpose
String(255)
= != ~ ~= =~
Назначение платежаОбязательное при ответе


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


project
Meta
= !=
Метаданные проектаExpand


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


rate
Object

Валюта. Подробнее тутОбязательное при ответе


shared
Boolean
= !=
Общий доступОбязательное при ответе


salesChannel
Meta
= !=
Метаданные канала продажExpand


state
Meta
= !=
Метаданные статуса Входящего платежаExpand


sum
Int
= != < > <= >=
Сумма Входящего платежа в установленной валютеОбязательное при ответе


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


updated
DateTime
= != < > <= >=
Момент последнего обновления Входящего платежаОбязательное при ответе Только для чтения


vatSum
Float

Сумма НДСОбязательное при ответе


Связи с другими документами


Название
Описание



factureOut
Ссылка на Счет-фактуру выданный, с которым связан этот платеж в формате Метаданных


operations
Массив ссылок на связанные операции в формате Метаданных


Разрешенные типы связанных операций:

Заказ покупателя (customerorder)
Возврат поставщику (purchasereturn)
Отгрузка (demand)
Счет покупателю (invoiceout)
Полученный отчет комиссионера (commissionreportin)
Смена (retailShift)

О работе с доп. полями Входящих платежей можно прочитать здесь
Получить Входящие платежи
Запрос всех Входящих платежей на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Входящие платежи.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить Входящие платежи
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/paymentin"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Входящих платежей.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata",
    "type": "paymentin",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/ad1ffc02-3f8e-11e6-8a84-bae5000000fa",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata",
        "type": "paymentin",
        "mediaType": "application/json"
      },
      "id": "ad1ffc02-3f8e-11e6-8a84-bae5000000fa",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-07-01 16:21:10",
      "name": "00001",
      "description": "Платеж за красивые глаза",
      "externalCode": "8hBoVBUMiDeumkozzjwX83",
      "moment": "2016-07-01 16:19:00",
      "applicable": true,
      "created": "2016-08-25 19:55:00",
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/faf45b9a-2e58-11e6-8a84-bae500000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 124124100,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "contract": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/2b34d43f-3f52-11e6-8a84-bae500000066",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
          "type": "contract",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/722e39f0-313e-11e6-8a84-bae500000008",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1489a08d-32ca-11e6-8a84-bae50000000d",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "state": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata/states/ab8f5213-3f8e-11e6-8a84-bae5000000f5",
          "type": "state",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "agentAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1489a08d-32ca-11e6-8a84-bae50000000d/accounts/1489ad8d-32ca-11e6-8a84-bae50000000e",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "paymentPurpose": "За красивые глаза",
      "incomingNumber": "12412569",
      "incomingDate": "2016-07-22 00:00:00",
      "operations": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/90ba347d-6b8b-11e6-8a84-bae5000000bd",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
            "type": "retailshift",
            "mediaType": "application/json"
          },
          "linkedSum": 80000
        }
      ]
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/d57389cb-3d3e-11e6-8a84-bae500000001",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata",
        "type": "paymentin",
        "mediaType": "application/json"
      },
      "id": "d57389cb-3d3e-11e6-8a84-bae500000001",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-06-28 17:44:35",
      "name": "00001",
      "externalCode": "221dSpiQiVQuVfCbRun623",
      "moment": "2015-06-22 00:00:00",
      "applicable": true,
      "created": "2016-08-25 19:55:00",
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 440000,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/c4a418a7-3d2d-11e6-8a84-bae500000003",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "agentAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/c4a418a7-3d2d-11e6-8a84-bae500000003/accounts/c4a423fd-3d2d-11e6-8a84-bae500000004",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "paymentPurpose": "Оплата по счету №19111167 от 19.06.2015 за предоставление услуги \"МойСклад\" по договору оферты на сайте www.moysklad.ru/subscription В том числе НДС (18%), 671.29 руб.",
      "incomingNumber": "408",
      "incomingDate": "2015-06-19 00:00:00",
      "operations": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/90ba347d-6b8b-11e6-8a84-bae5000000bd",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
            "type": "retailshift",
            "mediaType": "application/json"
          },
          "linkedSum": 80000
        }
      ]
    }
  ]
}
Создать Входящий платеж
Запрос на создание нового Входящего платежа.
Обязательные для создания поля:


Параметр
Описание



organization
Ссылка на ваше юрлицо в формате Метаданных


agent
Ссылка на контрагента в формате Метаданных


Пример создания нового Входящего платежа с телом запроса, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/paymentin"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Входящего платежа.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/85cf9c48-3f92-11e6-8a84-bae500000096",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata",
    "type": "paymentin",
    "mediaType": "application/json"
  },
  "id": "85cf9c48-3f92-11e6-8a84-bae500000096",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 16:48:42",
  "name": "333222",
  "moment": "2016-06-27 17:52:24",
  "applicable": false,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
      "type": "account",
      "mediaType": "application/json"
    }
  }
}
Массовое создание и обновление Входящих платежей
Массовое создание и обновление Входящих платежей.
В теле запроса нужно передать массив, содержащий JSON представления Входящих платежей, которые вы хотите создать или обновить.
Обновляемые Входящие платежи должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Входящих платежей
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/paymentin"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "name": "333222",
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                  "type": "counterparty",
                  "mediaType": "application/json"
                }
              }
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/85cf9c48-3f92-11e6-8a84-bae500000096",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata",
                "type": "paymentin",
                "mediaType": "application/json"
              },
              "name": "333444",
              "description": "Не совсем Новый Входящий платеж",
              "code": "101010001",
              "externalCode": "2213sfkksbajf214812slkanf",
              "moment": "2012-06-27 17:52:24",
              "applicable": true,
              "sum": 40020,
              "incomingNumber": "3",
              "incomingDate": "2016-03-17 10:52:24"
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Входящих платежей.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/85cf9c48-3f92-11e6-8a84-bae500000096",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata",
      "type": "paymentin",
      "mediaType": "application/json"
    },
    "id": "85cf9c48-3f92-11e6-8a84-bae500000096",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-07-01 16:48:42",
    "name": "333222",
    "moment": "2016-06-27 17:52:24",
    "applicable": false,
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 0,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "agentAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
        "type": "account",
        "mediaType": "application/json"
      }
    }
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/85cf9c48-3f92-11e6-8a84-bae500000096",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata",
      "type": "paymentin",
      "mediaType": "application/json"
    },
    "id": "85cf9c48-3f92-11e6-8a84-bae500000096",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-07-01 16:50:51",
    "name": "333444",
    "description": "Не совсем Новый Входящий платеж",
    "code": "101010001",
    "externalCode": "2213sfkksbajf214812slkanf",
    "moment": "2012-06-27 16:52:24",
    "applicable": true,
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 40020,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "agentAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "incomingNumber": "3",
    "incomingDate": "2016-03-17 10:52:24"
  }
]
Удалить Входящий платеж
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Входящего платежа.


Запрос на удаление Входящего платежа с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Входящего платежа.

Массовое удаление Входящих платежей
В теле запроса нужно передать массив, содержащий JSON метаданных Входящих платежей, которые вы хотите удалить.
Запрос на массовое удаление Входящих платежей. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata",
                "type": "paymentin",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata",
                "type": "paymentin",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Входящих платежей.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'paymentin' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'paymentin' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные Входящих платежейМетаданные Входящих платежей
Запрос на получение метаданных Входящих платежей. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Входящих платежей


attributes
Массив объектов доп. полей Входящих платежей в формате Метаданных


states
Массив статусов Входящих платежей


createShared
создавать новые Входящие платежи с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Входящих платежей 
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Входящих платежей.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata/attributes/fd6114e2-3f91-11e6-8a84-bae500000107",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "fd6114e2-3f91-11e6-8a84-bae500000107",
      "name": "Доля",
      "type": "long",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata/attributes/fd611bc1-3f91-11e6-8a84-bae500000108",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "fd611bc1-3f91-11e6-8a84-bae500000108",
      "name": "Попытки",
      "type": "long",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata/attributes/fd612138-3f91-11e6-8a84-bae500000109",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "fd612138-3f91-11e6-8a84-bae500000109",
      "name": "Поступил",
      "type": "boolean",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata/states/ab8f5213-3f8e-11e6-8a84-bae5000000f5",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "ab8f5213-3f8e-11e6-8a84-bae5000000f5",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Оформлен",
      "color": 10066329,
      "stateType": "Regular",
      "entityType": "paymentin"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata/states/ab8f5a56-3f8e-11e6-8a84-bae5000000f6",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "ab8f5a56-3f8e-11e6-8a84-bae5000000f6",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Переведен",
      "color": 10066329,
      "stateType": "Regular",
      "entityType": "paymentin"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata/states/ab8f612b-3f8e-11e6-8a84-bae5000000f7",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "ab8f612b-3f8e-11e6-8a84-bae5000000f7",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Получен",
      "color": 10066329,
      "stateType": "Regular",
      "entityType": "paymentin"
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata/attributes/04d7d27c-558b-11e6-8a84-bae500000075",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "04d7d27c-558b-11e6-8a84-bae500000075",
  "name": "Импорировано из банка",
  "type": "boolean",
  "required": false
}
Шаблон Входящего платежаШаблон Входящего платежа
Запрос на получение предзаполненого стандартными значениями шаблона входящего платежа без связи с каким-либо документом.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d ''  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного входящего платежа.
ПоказатьСвернуть
{
  "applicable": true,
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  }
}
Шаблон Входящего платежа на основе
Запрос на получение предзаполненного входящего платежа на основе другого документа.
В результате запроса, будет создан предзаполненный шаблон входящего платежа на основе переданного документа.
Запрос на получение шаблона входящего платежа на основе заказа покупателя.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/559adab5-915c-11e6-8a84-bae500000014",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
                  "type": "customerorder",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного входящего платежа.
ПоказатьСвернуть
{
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "paymentPurpose": "Оплата по заказу № 0302201 от 2016-10-13 12:38:00. Сумма: 0,00 без НДС",
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/559adab5-915c-11e6-8a84-bae500000014",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
        "type": "customerorder",
        "mediaType": "application/json"
      },
      "linkedSum": 0
    }
  ]
}

Запрос на получение шаблона входящего платежа на основе возврата поставщику.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/4f5e259b-961a-11e6-8a84-bae500000066",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata",
                  "type": "purchasereturn",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного входящего платежа.
ПоказатьСвернуть
{
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "paymentPurpose": "Оплата по возврату поставщику № 00001 от 2016-10-19 19:37:00. Сумма: 0,00 без НДС",
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/4f5e259b-961a-11e6-8a84-bae500000066",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata",
        "type": "purchasereturn",
        "mediaType": "application/json"
      },
      "linkedSum": 0
    }
  ]
}

Запрос на получение шаблона входящего платежа на основе отгрузки.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/06406b97-9138-11e6-8a84-bae500000000",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
                  "type": "demand",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного входящего платежа.
ПоказатьСвернуть
{
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "paymentPurpose": "Оплата по отгрузке № 000201 от 2016-10-13 12:38:00. Сумма: 0,00 без НДС",
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/06406b97-9138-11e6-8a84-bae500000000",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
        "type": "demand",
        "mediaType": "application/json"
      },
      "linkedSum": 0
    }
  ]
}

Запрос на получение шаблона входящего платежа на основе счета покупателя.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/6cb87758-95f4-11e6-8a84-bae500000067",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
                  "type": "invoiceout",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного входящего платежа.
ПоказатьСвернуть
{
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/2b0f10e4-9169-11e6-8a84-bae500000000",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "paymentPurpose": "Оплата по счету № 53252 от 2016-10-19 15:06:00. Сумма: 0,00 без НДС",
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/6cb87758-95f4-11e6-8a84-bae500000067",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
        "type": "invoiceout",
        "mediaType": "application/json"
      },
      "linkedSum": 0
    }
  ]
}

Запрос на получение шаблона входящего платежа на основе полученного отчета комиссионера.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/fe44fe4f-b320-11e6-8a84-bae500000092",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata",
                  "type": "commissionreportin",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного входящего платежа.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-11-25 18:13:31",
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 10350000,
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/c3057574-ab01-11e6-8a84-bae500000070",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "paymentPurpose": "Оплата по полученному отчету комиссионера № 0000000000000001 от 2016-11-25 18:07:00. Сумма: 103 500,00 без НДС",
  "vatSum": 0,
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/fe44fe4f-b320-11e6-8a84-bae500000092",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata",
        "type": "commissionreportin",
        "mediaType": "application/json"
      },
      "linkedSum": 10350000
    }
  ]
}
Входящий платежПолучить Входящий платеж
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Входящего платежа.


Запрос на получение отдельного Входящего платежа с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Входящего платежа.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/ad1ffc02-3f8e-11e6-8a84-bae5000000fa",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata",
    "type": "paymentin",
    "mediaType": "application/json"
  },
  "id": "ad1ffc02-3f8e-11e6-8a84-bae5000000fa",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 16:21:10",
  "name": "00001",
  "description": "Платеж за красивые глаза",
  "externalCode": "8hBoVBUMiDeumkozzjwX83",
  "moment": "2016-07-01 16:19:00",
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/faf45b9a-2e58-11e6-8a84-bae500000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 124124100,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/2b34d43f-3f52-11e6-8a84-bae500000066",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/722e39f0-313e-11e6-8a84-bae500000008",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1489a08d-32ca-11e6-8a84-bae50000000d",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata/states/ab8f5213-3f8e-11e6-8a84-bae5000000f5",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1489a08d-32ca-11e6-8a84-bae50000000d/accounts/1489ad8d-32ca-11e6-8a84-bae50000000e",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "paymentPurpose": "За красивые глаза",
  "incomingNumber": "12412569",
  "incomingDate": "2016-07-22 00:00:00"
}
Изменить Входящий платеж
Запрос на обновление Входящего платежа  с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Входящего платежа, кроме тех, что
помечены Только для чтения в описании атрибутов Входящего платежа.
При обновлении полей organization и agent нужно также обновить поля organizationAccount и
agentAccount соответственно, иначе произойдет ошибка. 
Для привязки входящего платежа к другим документам
нужно положить в поле под именем operations все meta тех документов, к которым вы хотите привязать финансовую операцию.
Также для каждого документа можно указать cумму, оплаченную по данному документу из этого платежа linkedSum.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Входящего платежа.


Пример запроса на обновление отдельного Входящего платежа.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "333444",
            "description": "Не совсем Новый Входящий платеж",
            "code": "101010001",
            "externalCode": "2213sfkksbajf214812slkanf",
            "moment": "2012-06-27 17:52:24",
            "applicable": true,
            "sum": 40020,
            "incomingNumber": "3",
            "incomingDate": "2016-03-17 10:52:24"
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Входящего платежа.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/85cf9c48-3f92-11e6-8a84-bae500000096",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata",
    "type": "paymentin",
    "mediaType": "application/json"
  },
  "id": "85cf9c48-3f92-11e6-8a84-bae500000096",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 16:50:51",
  "name": "333444",
  "description": "Не совсем Новый Входящий платеж",
  "code": "101010001",
  "externalCode": "2213sfkksbajf214812slkanf",
  "moment": "2012-06-27 16:52:24",
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 40020,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "incomingNumber": "3",
  "incomingDate": "2016-03-17 10:52:24"
}
Выданный отчет комиссионера
Средствами JSON API можно создавать и обновлять сведения о Выданных отчетах комиссионера, запрашивать списки Выданных отчетов комиссионера и сведения по отдельным Выданным отчетам комиссионера. Позициями отчетов комиссионера можно управлять как в составе отдельного отчета, так и с помощью специальных ресурсов для управления позициями. Кодом сущности для Выданного отчета комиссионера в составе JSON API является ключевое слово commissionreportout. Больше об отчетах комиссионера и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по  этой ссылке.
Выданные отчеты комиссионераАтрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


agent
Meta
= !=
Метаданные контрагентаОбязательное при ответе Expand Необходимо при создании


agentAccount
Meta

Метаданные счета контрагентаExpand


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объектаТолько для чтения


code
String(255)
= != ~ ~= =~
Код Выданного отчета комиссионера


commissionPeriodEnd
DateTime

Конец периодаОбязательное при ответе Необходимо при создании


commissionPeriodStart
DateTime

Начало периодаОбязательное при ответе Необходимо при создании


commitentSum
Float

Сумма коммитента в установленной валютеТолько для чтения


contract
Meta
= !=
Метаданные договораОбязательное при ответе Expand Необходимо при создании


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления Выданного отчета комиссионераТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Выданного отчета комиссионера


externalCode
String(255)
= != ~ ~= =~
Внешний код Выданного отчета комиссионераОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID Выданного отчета комиссионераыОбязательное при ответе Только для чтения


meta
Meta

Метаданные Выданного отчета комиссионераОбязательное при ответе Только для чтения


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование Выданного отчета комиссионераОбязательное при ответе Необходимо при создании


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании


organizationAccount
Meta

Метаданные счета юрлицаExpand


owner
Meta
= !=
Владелец (Сотрудник)Expand


payedSum
Float

Оплаченная суммаОбязательное при ответе Только для чтения


positions
MetaArray

Метаданные позиций Выданного отчетаОбязательное при ответе Только для чтения Expand


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


project
Meta
= !=
Метаданные проектаExpand


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


rate
Object

Валюта. Подробнее тутОбязательное при ответе


rewardPercent
Int

Процент вознаграждения (всегда 0 если вознаграждение не рассчитывается)


rewardType
String(255)

Тип вознаграждения


shared
Boolean
= !=
Общий доступОбязательное при ответе Только для чтения


salesChannel
Meta
= !=
Метаданные канала продажExpand


state
Meta
= !=
Метаданные статуса Выданного отчета комиссионераExpand


sum
Int
= != < > <= >=
Сумма Выданного отчета комиссионера в копейкахОбязательное при ответе Только для чтения


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для измененияТолько для чтения


updated
DateTime
= != < > <= >=
Момент последнего обновления Выданного отчета комиссионераОбязательное при ответе Только для чтения


vatEnabled
Boolean

Учитывается ли НДСОбязательное при ответе


vatIncluded
Boolean

Включен ли НДС в цену


vatSum
Float

Сумма НДСОбязательное при ответе Только для чтения


Связи с другими документами


Название
Описание



payments
Массив ссылок на связанные платежи в формате Метаданных


Позиции Выданного отчета комиссионера
Позиции Выданного отчета комиссионера - это список товаров/модификаций/серий.
Объект позиции Выданного отчета комиссионера содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияОбязательное при ответе Expand


id
UUID
ID позицииОбязательное при ответе Только для чтения


pack
Object
Упаковка Товара. Подробнее тут


price
Float
Цена товара/услуги в копейкахОбязательное при ответе


quantity
Float
Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.Обязательное при ответе


reward
Float
Вознаграждение


vat
Int
НДС, которым облагается текущая позицияОбязательное при ответе


vatEnabled
Boolean
Включен ли НДС для позиции. С помощью этого флага для позиции можно выставлять НДС = 0 или НДС = "без НДС". (vat = 0, vatEnabled = false) -> vat = "без НДС", (vat = 0, vatEnabled = true) -> vat = 0%.Обязательное при ответе


С позициями можно работать с помощью специальных ресурсов для управления позициями Выданного отчета комиссионера,
а также в составе отдельного Выданного отчета комиссионера. При работе в составе отдельного Выданного отчета комиссионера,
вы можете отправлять запросы на создание Выданного отчета комиссионера с включенным в тело запроса
массивом позиций Выданного отчета комиссионера. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции отчета комиссионера".
Также, при работе в составе отдельного Выданного отчета комиссионера, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Выданного отчета комиссионера. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Выданного отчета комиссионера" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
Получить Выданные отчеты комиссионера
Запрос всех Выданных отчетов комиссионера на учетной записи.
Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить Выданные отчеты комиссионера
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Выданных отчетов комиссионера.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata",
    "type": "commissionreportout",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/392fb7a9-ab02-11e6-8a84-bae500000073",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata",
        "type": "commissionreportout",
        "mediaType": "application/json"
      },
      "id": "392fb7a9-ab02-11e6-8a84-bae500000073",
      "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-15 10:11:35",
      "name": "00001",
      "externalCode": "DfZi0N0mggqmVRt2hVf8t2",
      "moment": "2016-11-15 10:04:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 0,
      "contract": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
          "type": "contract",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/392fb7a9-ab02-11e6-8a84-bae500000073/positions",
          "type": "commissionreportoutposition",
          "mediaType": "application/json",
          "size": 0,
          "limit": 1000,
          "offset": 0
        }
      },
      "vatEnabled": true,
      "vatIncluded": true,
      "vatSum": 0,
      "commissionPeriodStart": "2016-11-09 10:07:00",
      "commissionPeriodEnd": "2016-11-09 10:07:00",
      "rewardType": "PercentOfSales",
      "rewardPercent": 0,
      "commitentSum": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/6348c14c-ab39-11e6-8a84-bae500000064",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata",
        "type": "commissionreportout",
        "mediaType": "application/json"
      },
      "id": "6348c14c-ab39-11e6-8a84-bae500000064",
      "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-17 17:10:23",
      "name": "00002",
      "externalCode": "ec21rBixjdrEm0CVkCiOJ0",
      "moment": "2016-11-15 14:19:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "sum": 0,
      "contract": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
          "type": "contract",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/6348c14c-ab39-11e6-8a84-bae500000064/positions",
          "type": "commissionreportoutposition",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      },
      "vatEnabled": true,
      "vatIncluded": true,
      "vatSum": 0,
      "commissionPeriodStart": "2016-11-15 14:19:00",
      "commissionPeriodEnd": "2016-11-15 14:22:00",
      "rewardType": "None",
      "rewardPercent": 0,
      "commitentSum": 0,
      "payments": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/e39851ec-ab43-11e6-8a84-bae50000007a",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata",
            "type": "paymentin",
            "mediaType": "application/json"
          },
          "linkedSum": 0
        }
      ]
    }
  ]
}
Создать Выданный отчет комиссионера
Запрос на создание нового Выданного отчета комиссионера.
Обязательные для создания поля:

agent - контрагент
contract - договор
organization - юрлицо
commissionPeriodStart - начало периода
commissionPeriodEnd - конец периода
organizationAccount - счет юрлица (если у юрлица несколько счетов)
agentAccount - счет контрагента (если у контрагента несколько счетов)

При указании поля contract важно:

Чтобы договор был заключен с указанным в поле agent контрагентом
Договор имел тип "Договор комиссии"

Пример создания нового Выданного отчета комиссионера.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "owner": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                "type": "employee",
                "mediaType": "application/json"
              }
            },
            "shared": false,
            "group": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                "type": "group",
                "mediaType": "application/json"
              }
            },
            "name": "3335551",
            "externalCode": "extCod1",
            "moment": "2016-12-16 11:22:33",
            "applicable": true,
            "sum": 0,
            "contract": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
                "type": "contract",
                "mediaType": "application/json"
              }
            },
            "project": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
                "type": "project",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "organizationAccount": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
                "type": "account",
                "mediaType": "application/json"
              }
            },
            "positions": [
              {
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36eb1628-912b-11e6-8a84-bae500000124",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                },
                "quantity": 2,
                "price": 132.05,
                "vat": 10,
                "reward": 123
              },
              {
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                },
                "quantity": 15,
                "price": 99.99,
                "vat": 0,
                "reward": 100
              }
            ],
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata/attributes/4930a123-acda-11e6-8a84-bae50000006d",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "value"
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata/attributes/4930a9c5-acda-11e6-8a84-bae50000006e",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "values"
              }
            ],
            "vatEnabled": true,
            "vatIncluded": true,
            "vatSum": 0,
            "commissionPeriodStart": "2016-11-01 10:07:00",
            "commissionPeriodEnd": "2016-11-29 10:07:00",
            "rewardType": "PercentOfSales",
            "rewardPercent": 15
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Выданного отчета комиссионера.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/cc5beac8-acdb-11e6-8a84-bae500000000",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata",
    "type": "commissionreportout",
    "mediaType": "application/json"
  },
  "id": "cc5beac8-acdb-11e6-8a84-bae500000000",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-17 18:37:50",
  "name": "3335551",
  "externalCode": "extCod1",
  "moment": "2016-12-16 11:22:33",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 1764,
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata/attributes/4930a123-acda-11e6-8a84-bae50000006d",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "4930a123-acda-11e6-8a84-bae50000006d",
      "name": "AttributeName1",
      "type": "string",
      "value": "value"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata/attributes/4930a9c5-acda-11e6-8a84-bae50000006e",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "4930a9c5-acda-11e6-8a84-bae50000006e",
      "name": "AttributeName2",
      "type": "string",
      "value": "values"
    }
  ],
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/cc5beac8-acdb-11e6-8a84-bae500000000/positions",
      "type": "commissionreportoutposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "vatSum": 24,
  "commissionPeriodStart": "2016-11-01 10:07:00",
  "commissionPeriodEnd": "2016-11-29 10:07:00",
  "rewardType": "PercentOfSales",
  "rewardPercent": 15,
  "commitentSum": 1499
}
Удалить Выданный отчет комиссионера
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Выданного отчета комиссионера.


Запрос на удаление Выданного отчета комиссионера с указанным id.
ПоказатьСвернуть
  curl -X DELETE
    "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Выданного отчета комиссионера.

Массовое создание и обновление Выданных отчетов комиссионера
Массовое создание и обновление Выданных отчетов комиссионера.
В теле запроса нужно передать массив, содержащий JSON представления Выданных отчетов комиссионера, которые вы хотите создать или обновить.
Обновляемые Выданные отчеты комиссионера должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Выданных отчетов комиссионера
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "owner": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                  "type": "employee",
                  "mediaType": "application/json"
                }
              },
              "shared": false,
              "group": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                  "type": "group",
                  "mediaType": "application/json"
                }
              },
              "name": "3335551",
              "externalCode": "extCod1",
              "moment": "2016-12-16 11:22:33",
              "applicable": true,
              "sum": 0,
              "contract": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
                  "type": "contract",
                  "mediaType": "application/json"
                }
              },
              "project": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
                  "type": "project",
                  "mediaType": "application/json"
                }
              },
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                  "type": "counterparty",
                  "mediaType": "application/json"
                }
              },
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "organizationAccount": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
                  "type": "account",
                  "mediaType": "application/json"
                }
              },
              "positions": [
                {
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36eb1628-912b-11e6-8a84-bae500000124",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                      "type": "variant",
                      "mediaType": "application/json"
                    }
                  },
                  "quantity": 2,
                  "price": 132.05,
                  "vat": 10,
                  "reward": 123
                },
                {
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                      "type": "variant",
                      "mediaType": "application/json"
                    }
                  },
                  "quantity": 15,
                  "price": 99.99,
                  "vat": 0,
                  "reward": 100
                }
              ],
              "attributes": [
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata/attributes/4930a123-acda-11e6-8a84-bae50000006d",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": "value"
                },
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata/attributes/4930a9c5-acda-11e6-8a84-bae50000006e",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": "values"
                }
              ],
              "vatEnabled": true,
              "vatIncluded": true,
              "vatSum": 0,
              "commissionPeriodStart": "2016-11-01 10:07:00",
              "commissionPeriodEnd": "2016-11-29 10:07:00",
              "rewardType": "PercentOfSales",
              "rewardPercent": 15
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/cc5beac8-acdb-11e6-8a84-bae500000000",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata",
                "type": "commissionreportout",
                "mediaType": "application/json"
              },
              "externalCode": "extCod1",
              "moment": "2016-12-16 11:22:33",
              "applicable": true,
              "sum": 0,
              "contract": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
                  "type": "contract",
                  "mediaType": "application/json"
                }
              },
              "project": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
                  "type": "project",
                  "mediaType": "application/json"
                }
              },
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                  "type": "counterparty",
                  "mediaType": "application/json"
                }
              },
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "organizationAccount": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
                  "type": "account",
                  "mediaType": "application/json"
                }
              },
              "positions": [
                {
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36eb1628-912b-11e6-8a84-bae500000124",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                      "type": "variant",
                      "mediaType": "application/json"
                    }
                  },
                  "quantity": 12,
                  "price": 132.05,
                  "vat": 10,
                  "reward": 123
                },
                {
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                      "type": "variant",
                      "mediaType": "application/json"
                    }
                  },
                  "quantity": 15,
                  "price": 99.399,
                  "vat": 0,
                  "reward": 100
                }
              ],
              "attributes": [
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata/attributes/4930a123-acda-11e6-8a84-bae50000006d",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": "Newvalue"
                }
              ],
              "vatEnabled": true,
              "vatIncluded": true,
              "vatSum": 0,
              "commissionPeriodStart": "2016-11-01 10:07:00",
              "commissionPeriodEnd": "2016-12-29 10:07:00",
              "rewardType": "PercentOfSales",
              "rewardPercent": 12
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Выданных отчетов комиссионера.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/cc5beac8-acdb-11e6-8a84-bae500000000",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata",
      "type": "commissionreportout",
      "mediaType": "application/json"
    },
    "id": "cc5beac8-acdb-11e6-8a84-bae500000000",
    "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-11-17 18:37:50",
    "name": "3335551",
    "externalCode": "extCod1",
    "moment": "2016-12-16 11:22:33",
    "applicable": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 1764,
    "contract": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
        "type": "contract",
        "mediaType": "application/json"
      }
    },
    "project": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
        "type": "project",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "attributes": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata/attributes/4930a123-acda-11e6-8a84-bae50000006d",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "4930a123-acda-11e6-8a84-bae50000006d",
        "name": "AttributeName1",
        "type": "string",
        "value": "value"
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata/attributes/4930a9c5-acda-11e6-8a84-bae50000006e",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "4930a9c5-acda-11e6-8a84-bae50000006e",
        "name": "AttributeName2",
        "type": "string",
        "value": "values"
      }
    ],
    "created": "2007-02-07 17:16:41",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/cc5beac8-acdb-11e6-8a84-bae500000000/positions",
        "type": "commissionreportoutposition",
        "mediaType": "application/json",
        "size": 2,
        "limit": 1000,
        "offset": 0
      }
    },
    "vatEnabled": true,
    "vatIncluded": true,
    "vatSum": 24,
    "commissionPeriodStart": "2016-11-01 10:07:00",
    "commissionPeriodEnd": "2016-11-29 10:07:00",
    "rewardType": "PercentOfSales",
    "rewardPercent": 15,
    "commitentSum": 1499
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/cc5beac8-acdb-11e6-8a84-bae500000000",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata",
      "type": "commissionreportout",
      "mediaType": "application/json"
    },
    "id": "cc5beac8-acdb-11e6-8a84-bae500000000",
    "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-11-17 20:11:40",
    "name": "3335551",
    "externalCode": "extCod1",
    "moment": "2016-12-16 11:22:33",
    "applicable": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 3069,
    "contract": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
        "type": "contract",
        "mediaType": "application/json"
      }
    },
    "project": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
        "type": "project",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "state": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata/states/40ca02eb-acda-11e6-8a84-bae500000069",
        "type": "state",
        "mediaType": "application/json"
      }
    },
    "attributes": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata/attributes/4930a123-acda-11e6-8a84-bae50000006d",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "4930a123-acda-11e6-8a84-bae50000006d",
        "name": "AttributeName3",
        "type": "string",
        "value": "Newvalue"
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata/attributes/4930a9c5-acda-11e6-8a84-bae50000006e",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "4930a9c5-acda-11e6-8a84-bae50000006e",
        "name": "AttributeName2",
        "type": "string",
        "value": "values"
      }
    ],
    "created": "2007-02-07 17:16:41",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/cc5beac8-acdb-11e6-8a84-bae500000000/positions",
        "type": "commissionreportoutposition",
        "mediaType": "application/json",
        "size": 2,
        "limit": 1000,
        "offset": 0
      }
    },
    "vatEnabled": true,
    "vatIncluded": true,
    "vatSum": 144,
    "commissionPeriodStart": "2016-11-01 10:07:00",
    "commissionPeriodEnd": "2016-12-29 10:07:00",
    "rewardType": "PercentOfSales",
    "rewardPercent": 12,
    "commitentSum": 2701
  }
]
Массовое удаление Выданных отчетов комиссионера
В теле запроса нужно передать массив, содержащий JSON метаданных Выданных отчетов комиссионера, которые вы хотите удалить.
Запрос на массовое удаление Выданных отчетов комиссионера. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata",
                "type": "commissionreportout",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata",
                "type": "commissionreportout",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Выданных отчетов комиссионера.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'commissionreportout' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'commissionreportout' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные Выданного отчетаМетаданные Выданного отчета
Запрос на получение метаданных отчетов комиссионера. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные отчетов комиссионера


attributes
Массив объектов доп. полей отчетов комиссионера формате Метаданных


states
Массив статусов отчетов комиссионера


createShared
создавать новые отчеты комиссионера с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Выданного отчета
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление метаданных Выданного отчета комиссионера.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata/attributes/4930a123-acda-11e6-8a84-bae50000006d",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "4930a123-acda-11e6-8a84-bae50000006d",
      "name": "AttributeName1",
      "type": "string",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata/attributes/4930a9c5-acda-11e6-8a84-bae50000006e",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "4930a9c5-acda-11e6-8a84-bae50000006e",
      "name": "AttributeName2",
      "type": "string",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata/states/40ca02eb-acda-11e6-8a84-bae500000069",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "40ca02eb-acda-11e6-8a84-bae500000069",
      "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
      "name": "Статус",
      "color": 10066329,
      "stateType": "Regular",
      "entityType": "commissionreportout"
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata/attributes/4930a123-acda-11e6-8a84-bae50000006d",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "4930a123-acda-11e6-8a84-bae50000006d",
  "name": "AttributeName1",
  "type": "string",
  "required": false
}
Выданный отчет комиссионераПолучить Выданный отчет комиссионера
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Выданного отчета комиссионера.


Запрос на получение отдельного отчета комиссионера с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Выданного отчета комиссионера.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/392fb7a9-ab02-11e6-8a84-bae500000073",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata",
    "type": "commissionreportout",
    "mediaType": "application/json"
  },
  "id": "392fb7a9-ab02-11e6-8a84-bae500000073",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-15 10:11:35",
  "name": "00001",
  "externalCode": "DfZi0N0mggqmVRt2hVf8t2",
  "moment": "2016-11-15 10:04:00",
  "applicable": true,
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/392fb7a9-ab02-11e6-8a84-bae500000073/positions",
      "type": "commissionreportoutposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "vatSum": 0,
  "commissionPeriodStart": "2016-11-09 10:07:00",
  "commissionPeriodEnd": "2016-11-09 10:07:00",
  "rewardType": "PercentOfSales",
  "rewardPercent": 0,
  "commitentSum": 0
}
Изменить Выданный отчет комиссионера
Запрос на обновление Выданного отчета комиссионера с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Выданного отчета комиссионера, кроме тех, что
помечены Только для чтения в описании атрибутов Выданного отчета комиссионера.
При обновлении полей organization и agent нужно также обновить поля organizationAccount и
agentAccount соответственно, иначе произойдет ошибка.
При указании поля contract важно:

Чтобы договор был заключен с указанным в поле agent контрагентом
Договор имел тип "Договор комиссии"

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Выданного отчета комиссионера.


Пример запроса на обновление отдельного отчета комиссионера.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/7944ef04-f831-11e5-7a69-971500188b19
"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "externalCode": "extCod1",
            "moment": "2016-12-16 11:22:33",
            "applicable": true,
            "sum": 0,
            "contract": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
                "type": "contract",
                "mediaType": "application/json"
              }
            },
            "project": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
                "type": "project",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "organizationAccount": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
                "type": "account",
                "mediaType": "application/json"
              }
            },
            "positions": [
              {
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36eb1628-912b-11e6-8a84-bae500000124",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                },
                "quantity": 12,
                "price": 132.05,
                "vat": 10,
                "reward": 123
              },
              {
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                },
                "quantity": 15,
                "price": 99.399,
                "vat": 0,
                "reward": 100
              }
            ],
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata/attributes/4930a123-acda-11e6-8a84-bae50000006d",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "Newvalue"
              }
            ],
            "vatEnabled": true,
            "vatIncluded": true,
            "vatSum": 0,
            "commissionPeriodStart": "2016-11-01 10:07:00",
            "commissionPeriodEnd": "2016-12-29 10:07:00",
            "rewardType": "PercentOfSales",
            "rewardPercent": 12
          }
'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного отчета комиссионера.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/cc5beac8-acdb-11e6-8a84-bae500000000",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata",
    "type": "commissionreportout",
    "mediaType": "application/json"
  },
  "id": "cc5beac8-acdb-11e6-8a84-bae500000000",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-17 20:11:40",
  "name": "3335551",
  "externalCode": "extCod1",
  "moment": "2016-12-16 11:22:33",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 3069,
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata/states/40ca02eb-acda-11e6-8a84-bae500000069",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata/attributes/4930a123-acda-11e6-8a84-bae50000006d",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "4930a123-acda-11e6-8a84-bae50000006d",
      "name": "AttributeName1",
      "type": "string",
      "value": "Newvalue"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata/attributes/4930a9c5-acda-11e6-8a84-bae50000006e",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "4930a9c5-acda-11e6-8a84-bae50000006e",
      "name": "AttributeName2",
      "type": "string",
      "value": "values"
    }
  ],
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/cc5beac8-acdb-11e6-8a84-bae500000000/positions",
      "type": "commissionreportoutposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "vatSum": 144,
  "commissionPeriodStart": "2016-11-01 10:07:00",
  "commissionPeriodEnd": "2016-12-29 10:07:00",
  "rewardType": "PercentOfSales",
  "rewardPercent": 12,
  "commitentSum": 2701
}
Позиции Выданного отчета комиссионера
Отдельный ресурс для управления позициями Выданного отчета комиссионера. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить позиции
Запрос на получение списка всех позиций данного Выданного отчета комиссионера.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Выданного отчета комиссионера.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить позиции
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/7944ef04-f831-11e5-7a69-971500188b19/positions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного отчета комиссионера.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/7944ef04-f831-11e5-7a69-971500188b19/positions",
    "type": "commissionreportoutposition",
    "mediaType": "application/json",
    "size": 1,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/7944ef04-f831-11e5-7a69-971500188b19/positions/94aef79a-accf-11e6-8a84-bae500000064",
        "type": "commissionreportoutposition",
        "mediaType": "application/json"
      },
      "id": "94aef79a-accf-11e6-8a84-bae500000064",
      "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 0.0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/ca976541-96d1-11e6-8a84-bae50000002e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3c6dc9b8-2842-11e9-ac12-000c00000071"
        }
      },
      "reward": 0
    }
  ]
}
Получить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Выданного отчета комиссионера.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Выданного отчета комиссионера.


Запрос на получение отдельной позиции Выданного отчета комиссионера с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Выданного отчета комиссионера.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "commissionreportoutposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "quantity": 1,
  "price": 0.0,
  "vat": 0,
  "vatEnabled": false,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/ca976541-96d1-11e6-8a84-bae50000002e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=392c045c-2842-11e9-ac12-000a00000002"
    }
  },
  "reward": 0
}
Создать позицию
Запрос на создание новой позиции в отчете комиссионера.
Для успешного создания необходимо в теле запроса указать следующие поля:

assortment - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем service, consignment, variant в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании позиции отчета комиссионера
quantity - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций отчета комиссионера. Все созданные данным запросом позиции
будут добавлены к уже существующим.

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Выданного отчета комиссионера.


Пример создания одной позиции в Выданном отчете комиссионера.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "quantity": 15,
              "price": 1300.0,
              "vat": 0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                  "type": "variant",
                  "mediaType": "application/json"
                }
              },
              "reward": 225
            },
            {
              "quantity": 15,
              "price": 1020.0,
              "vat": 0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                  "type": "variant",
                  "mediaType": "application/json"
                }
              },
              "reward": 225
            },
            {
              "quantity": 15,
              "price": 101.0,
              "vat": 0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                  "type": "variant",
                  "mediaType": "application/json"
                }
              },
              "reward": 225
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного отчета комиссионера.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/7944ef04-f831-11e5-7a69-971500188b19/positions/a7a61c8b-acdd-11e6-8a84-bae500000000",
      "type": "commissionreportoutposition",
      "mediaType": "application/json"
    },
    "id": "a7a61c8b-acdd-11e6-8a84-bae500000000",
    "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
    "quantity": 15,
    "price": 1300.0,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3c6dc9b8-2842-11e9-ac12-000c00000071"
      }
    },
    "reward": 2925
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/7944ef04-f831-11e5-7a69-971500188b19/positions/a7a6c749-acdd-11e6-8a84-bae500000001",
      "type": "commissionreportoutposition",
      "mediaType": "application/json"
    },
    "id": "a7a6c749-acdd-11e6-8a84-bae500000001",
    "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
    "quantity": 15,
    "price": 1020.0,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3c6dc9b8-2842-11e9-ac12-000c00000071"
      }
    },
    "reward": 2295
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/7944ef04-f831-11e5-7a69-971500188b19/positions/a7a6d9cc-acdd-11e6-8a84-bae500000002",
      "type": "commissionreportoutposition",
      "mediaType": "application/json"
    },
    "id": "a7a6d9cc-acdd-11e6-8a84-bae500000002",
    "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
    "quantity": 15,
    "price": 101.0,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=e639e90c-2a99-11e9-ac12-000c0000003e"
      }
    },
    "reward": 227
  }
]
Изменить позицию
Запрос на обновление отдельной позиции Выданного отчета комиссионера. Для обновления позиции нет каких-либо
обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Выданного отчета комиссионера.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Выданного отчета комиссионера.


Пример запроса на обновление отдельной позиции в Выданном отчете комиссионера.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 14,
            "price": 1301.0,
            "vat": 10,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                "type": "variant",
                "mediaType": "application/json"
              }
            },
            "reward": 0
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной позиции Выданного отчета комиссионера.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "commissionreportoutposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "quantity": 14,
  "price": 1301.0,
  "vat": 10,
  "vatEnabled": true,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
      "type": "variant",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=e639e90c-2a99-11e9-ac12-000c0000003e"
    }
  },
  "reward": 0
}
Удалить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Выданного отчета комиссионера.


positionID
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b20 id позиции Выданного отчета комиссионера.


Запрос на удаление позиции Выданного отчета комиссионера с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление позиции Выданного отчета комиссионера.

Массовое удаление позиций
Параметры


Параметр
Описание



id
string (required) Example: 3e1c03bb-684f-11ee-ac12-000c000000b0 id Выданного отчета комиссионера.


Запрос на массовое удаление позиций Выданного отчета комиссионера.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "commissionreportoutposition",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "commissionreportoutposition",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление позиций Выданного отчета комиссионера. 

Выплата денег
Средствами JSON API можно создавать и обновлять сведения о Выплатах денег, запрашивать списки Выплат денег и сведения по отдельным Выплатам денег. Кодом сущности для внесения денег в составе JSON API является ключевое слово retaildrawercashout. Больше о Выплатах денег и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по  этой ссылке
Выплаты денегАтрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


agent
Meta
= !=
Метаданные контрагентаОбязательное при ответе Expand Необходимо при создании


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта


code
String(255)
= != ~ ~= =~
Код Выплаты денег


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления Выплаты денегТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Выплаты денег


externalCode
String(255)
= != ~ ~= =~
Внешний код Выплаты денегОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID Выплаты денегОбязательное при ответе Только для чтения


meta
Meta

Метаданные Выплаты денегОбязательное при ответе


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование Выплаты денегОбязательное при ответе


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании


owner
Meta
= !=
Владелец (Сотрудник)Expand


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


rate
Object

Валюта. Подробнее тутОбязательное при ответе


shared
Boolean
= !=
Общий доступОбязательное при ответе


state
Meta
= !=
Метаданные статуса Выплаты денегExpand


sum
Int
= != < > <= >=
Сумма Выплаты денег установленной валютеОбязательное при ответе Только для чтения


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


updated
DateTime
= != < > <= >=
Момент последнего обновления Выплаты денегОбязательное при ответе Только для чтения


Связи с другими документами


Название
Описание



retailShift
Ссылка на розничную смену, в рамках которой было выполнено Внесение денег в формате Метаданных. По данному полю можно фильтровать используя операторы = и !=. Необходимое


Получить Выплаты денег
Запрос на получение всех Выплат денег на данной учетной записи.
Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить Выплаты денег
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Выплат денег.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/metadata",
    "type": "retaildrawercashout",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/1c5afb86-9603-11e6-8a84-bae500000079",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/metadata",
        "type": "retaildrawercashout",
        "mediaType": "application/json"
      },
      "id": "1c5afb86-9603-11e6-8a84-bae500000079",
      "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-10-19 16:51:18",
      "name": "00001",
      "description": "Выплата",
      "externalCode": "BYeqnCMUgjNIhODoqt5C52",
      "syncId": "ece1344a-5a68-4d32-ac70-a56b943717b5",
      "moment": "2016-10-19 16:51:00",
      "applicable": true,
      "created": "2016-08-25 19:55:00",
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 12441200,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "retailShift": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/131aaeb6-9603-11e6-8a84-bae500000072",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
          "type": "retailshift",
          "mediaType": "application/json"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/1e24533f-9603-11e6-8a84-bae50000007c",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/metadata",
        "type": "retaildrawercashout",
        "mediaType": "application/json"
      },
      "id": "1e24533f-9603-11e6-8a84-bae50000007c",
      "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-10-19 16:51:21",
      "name": "00002",
      "externalCode": "ohO0hmq7jioNXhM5xuTVe3",
      "moment": "2016-10-19 16:51:00",
      "applicable": true,
      "created": "2016-08-25 19:55:00",
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 111800200,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "retailShift": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/131aaeb6-9603-11e6-8a84-bae500000072",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
          "type": "retailshift",
          "mediaType": "application/json"
        }
      }
    }
  ]
}
Создать Выплату денег
Запрос на создание Выплаты денег.
Обязательные для создания поля:

organization - Ссылка на ваше юрлицо в формате Метаданных
agent - Ссылка на сотрудника, которому была совершена Выплата, в формате Метаданных
retailShift - Ссылка на розничную смену в формате Метаданных

Пример создания новой Выплаты денег.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                "type": "employee",
                "mediaType": "application/json"
              }
            },
            "retailShift": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/131aaeb6-9603-11e6-8a84-bae500000072",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
                "type": "retailshift",
                "mediaType": "application/json"
              }
            },
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "sum": 100500,
            "description": "Новая выплата через API"
          }'  

Response 200
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/c05a6fb8-960c-11e6-8a84-bae50000000c",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/metadata",
    "type": "retaildrawercashout",
    "mediaType": "application/json"
  },
  "id": "c05a6fb8-960c-11e6-8a84-bae50000000c",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-10-19 18:00:19",
  "name": "00003",
  "description": "Новое внесение через API",
  "externalCode": "n19Ol5mFidHzBBojcTzvo3",
  "moment": "2016-10-19 18:00:19",
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 100500,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/131aaeb6-9603-11e6-8a84-bae500000072",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json"
    }
  }
}
Массовое создание и обновление Выплат денег
Массовое создание и обновление Выплат денег.
В теле запроса нужно передать массив, содержащий JSON представления Выплат денег, которые вы хотите создать или обновить.
Обновляемые Выплаты денег должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Выплат денег
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                  "type": "employee",
                  "mediaType": "application/json"
                }
              },
              "retailShift": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/131aaeb6-9603-11e6-8a84-bae500000072",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
                  "type": "retailshift",
                  "mediaType": "application/json"
                }
              },
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "sum": 100500,
              "description": "Новая выплата через API"
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/c05a6fb8-960c-11e6-8a84-bae50000000c",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/metadata",
                "type": "retaildrawercashout",
                "mediaType": "application/json"
              },
              "name": "0000004",
              "sum": 700,
              "applicable": false
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Выплат денег.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/c05a6fb8-960c-11e6-8a84-bae50000000c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/metadata",
      "type": "retaildrawercashout",
      "mediaType": "application/json"
    },
    "id": "c05a6fb8-960c-11e6-8a84-bae50000000c",
    "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-10-19 18:00:19",
    "name": "00003",
    "description": "Новое внесение через API",
    "externalCode": "n19Ol5mFidHzBBojcTzvo3",
    "moment": "2016-10-19 18:00:19",
    "applicable": true,
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 100500,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "retailShift": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/131aaeb6-9603-11e6-8a84-bae500000072",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
        "type": "retailshift",
        "mediaType": "application/json"
      }
    }
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/c05a6fb8-960c-11e6-8a84-bae50000000c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/metadata",
      "type": "retaildrawercashout",
      "mediaType": "application/json"
    },
    "id": "c05a6fb8-960c-11e6-8a84-bae50000000c",
    "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-10-19 18:01:38",
    "name": "0000004",
    "description": "Новое внесение через API",
    "externalCode": "n19Ol5mFidHzBBojcTzvo3",
    "moment": "2016-10-19 18:00:19",
    "applicable": false,
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 700,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "retailShift": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/131aaeb6-9603-11e6-8a84-bae500000072",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
        "type": "retailshift",
        "mediaType": "application/json"
      }
    }
  }
]

Удалить Выплату денег
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Выплаты денег.


Запрос на удаление Выплаты денег с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешный запрос. 

Массовое удаление Выплат денег
В теле запроса нужно передать массив, содержащий JSON метаданных Выплат денег, которые вы хотите удалить.
Запрос на массовое удаление Выплат денег. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/metadata",
                "type": "retaildrawercashout",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/metadata",
                "type": "retaildrawercashout",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Выплат денег.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'retaildrawercashout' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'retaildrawercashout' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные Выплат денегМетаданные Выплат денег
Запрос на получение метаданных Выплат денег. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Выплат денег


attributes
Массив объектов доп. полей Выплат денег в формате Метаданных


states
Массив статусов Выплат денег


createShared
создавать новые Выплаты денег с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Выплат денег
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Выплат денег.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/metadata/attributes/5290a290-0313-11e6-9464-e4de00000020",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "5290a290-0313-11e6-9464-e4de00000020",
      "name": "AttributeName1",
      "type": "boolean",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56c504-2e58-11e6-8a84-bae500000069",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Новый",
      "color": 15106326,
      "stateType": "Regular",
      "entityType": "retaildrawercashout"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/metadata/states/fb56cae3-2e58-11e6-8a84-bae50000006a",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56cae3-2e58-11e6-8a84-bae50000006a",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Подтвержден",
      "color": 40931,
      "stateType": "Regular",
      "entityType": "retaildrawercashout"
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 5290a290-0313-11e6-9464-e4de00000020 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/metadata/attributes/5290a290-0313-11e6-9464-e4de00000020"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/metadata/attributes/5290a290-0313-11e6-9464-e4de00000020",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "5290a290-0313-11e6-9464-e4de00000020",
  "name": "AttributeName1",
  "type": "boolean",
  "required": false
}
Шаблон Выплаты денегШаблон Выплаты денег
Запрос на получение предзаполненого стандартными значениями шаблона Выплаты денег без связи с каким-либо документом.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d ''  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной Выплаты денег.
ПоказатьСвернуть
{
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  }
}
Шаблон Выплаты денег на основе
Запрос на получение предзаполненной Выплаты денег на основе розничной смены.
В результате запроса, будет создан предзаполненный шаблон Выплаты денег на основе переданной
розничной смены.
Запрос на создание Выплаты денег на основе розничной смены.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "retailShift": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/131aaeb6-9603-11e6-8a84-bae500000072",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
                "type": "retailshift",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной Выплаты денег.
ПоказатьСвернуть
{
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  }
}
Выплата денегПолучить Выплату денег
Запрос на получение отдельной Выплаты денег с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Выплаты денег с указанным id.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/1c5afb86-9603-11e6-8a84-bae500000079",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/metadata",
    "type": "retaildrawercashout",
    "mediaType": "application/json"
  },
  "id": "1c5afb86-9603-11e6-8a84-bae500000079",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-10-19 16:51:18",
  "name": "00001",
  "description": "Выплата",
  "externalCode": "BYeqnCMUgjNIhODoqt5C52",
  "syncId": "ece1344a-5a68-4d32-ac70-a56b943717b5",
  "moment": "2016-10-19 16:51:00",
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 12441200,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/131aaeb6-9603-11e6-8a84-bae500000072",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json"
    }
  }
}
Изменить Выплату денег
Запрос на обновление Выплаты денег.
Пример обновления Выплаты денег.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "0000004",
            "sum": 700,
            "applicable": false
          }'  

Response 200
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/c05a6fb8-960c-11e6-8a84-bae50000000c",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/metadata",
    "type": "retaildrawercashout",
    "mediaType": "application/json"
  },
  "id": "c05a6fb8-960c-11e6-8a84-bae50000000c",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-10-19 18:01:38",
  "name": "0000004",
  "description": "Новое внесение через API",
  "externalCode": "n19Ol5mFidHzBBojcTzvo3",
  "moment": "2016-10-19 18:00:19",
  "applicable": false,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 700,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/131aaeb6-9603-11e6-8a84-bae500000072",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json"
    }
  }
}
Выполнение этапа производства
Средствами JSON API можно создавать, обновлять и удалять сведения о Выполнениях этапов производства,
запрашивать списки Выполнений этапов производства и сведения по отдельным Выполнениям этапов производства.
Если производство не начато по Производственному заданию, то попытки создать Выполненный этап на это Производственное задание будут завершаться ошибкой.
Выполнения этапов производстваАтрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID

ID учетной записиОбязательное при ответе Только для чтения


created
DateTime

Дата созданияОбязательное при ответе Только для чтения


enableHourAccounting
Boolean

Признак активности учета по нормо-часамОбязательное при ответе


externalCode
String(255)

Внешний код Выполнения этапа производстваОбязательное при ответе


group
Meta

Отдел сотрудникаОбязательное при ответе Expand


id
UUID

ID Выполнения этапа производстваОбязательное при ответе Только для чтения


labourUnitCost
Double

Оплата труда за единицу объема производстваОбязательное при ответе


standardHourUnit
Double

Нормо-часы единицы объема производстваОбязательное при ответе


materials
MetaArray

Метаданные Материалов выполнения этапа производства. Подробнее тутExpand


meta
Meta

Метаданные Выполнения этапа производстваОбязательное при ответе Только для чтения


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)

Наименование Выполнения этапа производстваОбязательное при ответе


owner
Meta

Владелец (Сотрудник)Expand


performer
Meta

Исполнитель (Сотрудник)Expand


processingUnitCost
Double

Затраты на единицу объема производстваОбязательное при ответе


productionStage
Meta

Производственный этапExpand После создания изменить нельзя


productionVolume
Double

Объем производстваОбязательное при ответе


products
MetaArray

Метаданные Продуктов выполнения этапа производства. Есть только у последнего этапа. Подробнее тутExpand


service
Meta

Услуга, выполняемая контрагентом


shared
Boolean

Общий доступОбязательное при ответе


standardHourCost
Double

Стоимость нормо-часаОбязательное при ответе


updated
DateTime

Момент последнего обновления Выполнения этапа производстваОбязательное при ответе Только для чтения


Особенности:
Для сущности действуют ограничения на expand: для поля productionStage.productionRow недоступен expand вложенных полей.
Для создания Выполнения этапа с контрагентом в качестве исполнителя может быть передана услуга. 
Иначе будет сохранена та услуга, которая выбрана для данного контрагента в Этапе производства. 
Контрагент может отсутствовать в списке возможных исполнителей Этапа производства, тогда услугу требуется передать обязательно.
В случае отсутствия исполнителя или если исполнитель - это сотрудник, то задавать услугу нельзя.
Изменение типа расчета оплаты труда доступно только в том случае, если в Производственном этапе был ранее установлен признак расчета по нормо-часам (флаг enableHourAccounting=true). 
Выполнение этапа будет по умолчанию создано с этим типом расчета и оплата труда будет вычисляться автоматически (по формуле labourUnitCost = standardHourCost * standardHourUnit). 
Изменение значения оплаты труда при включенном флаге недопустимо - для передачи фиксированного значения требуется деактивировать флаг.
Получить список Выполнений этапов производства
Запрос Выполнений этапов производства на аккаунте.
При получении списка Выполнений этапов можно передать фильтр на конкретное производственное задание:
filter=productionTask=https://api.moysklad.ru/api/remap/1.2/entity/productionTask/<id>.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Выполнения этапов.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить список Выполнений этапов производства
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Выполнений этапов производства.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion",
    "type": "productionstagecompletion",
    "mediaType": "application/json",
    "size": 5,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000136",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/metadata",
        "type": "productionstagecompletion",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#productionstagecompletion/edit?id=01ff6808-95de-11ee-0a81-072300000136"
      },
      "id": "01ff6808-95de-11ee-0a81-072300000136",
      "accountId": "a67c68a3-95dd-11ee-0a83-071a00000002",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/a7354b1a-95dd-11ee-0a81-07230000004d",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=a7354b1a-95dd-11ee-0a81-07230000004d"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/a67ef296-95dd-11ee-0a83-071a00000003",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2023-12-08 18:25:24.325",
      "name": "00001",
      "externalCode": "EnuNEmG2jyUF4t9tgPQk72",
      "moment": "2023-12-08 18:25:00.000",
      "created": "2023-12-08 18:25:24.386",
      "performer": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/50f4a244-9a95-11ee-0a83-05c8000005af",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=50f4a244-9a95-11ee-0a83-05c8000005af"
        }
      },
      "productionStage": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/d15ec2e9-95dd-11ee-0a81-07230000011c",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/metadata",
          "type": "productionstage",
          "mediaType": "application/json"
        }
      },
      "standardHourCost": 0.0,
      "enableHourAccounting": false,
      "materials": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000136/materials",
          "type": "productionstagecompletionmaterial",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      },
      "products": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000136/products",
          "type": "productionstagecompletionresult",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      },
      "productionVolume": 100000,
      "processingUnitCost": 0.0,
      "labourUnitCost": 0.0,
      "standardHour": 0.0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/19b3bb62-9807-11ee-0a81-07230000030e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/metadata",
        "type": "productionstagecompletion",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#productionstagecompletion/edit?id=19b3bb62-9807-11ee-0a81-07230000030e"
      },
      "id": "19b3bb62-9807-11ee-0a81-07230000030e",
      "accountId": "a67c68a3-95dd-11ee-0a83-071a00000002",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/a7354b1a-95dd-11ee-0a81-07230000004d",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=a7354b1a-95dd-11ee-0a81-07230000004d"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/a67ef296-95dd-11ee-0a83-071a00000003",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2023-12-11 12:26:28.767",
      "name": "00003",
      "externalCode": "zjyrF00vg0Ogjpl0Uk0XP0",
      "moment": "2023-12-11 12:24:00.000",
      "created": "2023-12-11 12:24:35.847",
      "productionStage": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/1812ddaf-9807-11ee-0a81-072300000306",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/metadata",
          "type": "productionstage",
          "mediaType": "application/json"
        }
      },
      "standardHourCost": 0.0,
      "enableHourAccounting": false,
      "materials": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/19b3bb62-9807-11ee-0a81-07230000030e/materials",
          "type": "productionstagecompletionmaterial",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      },
      "products": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/19b3bb62-9807-11ee-0a81-07230000030e/products",
          "type": "productionstagecompletionresult",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      },
      "productionVolume": 1,
      "processingUnitCost": 0.0,
      "labourUnitCost": 0.0,
      "standardHour": 0.0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/4c65602d-97f5-11ee-0a81-0723000001e1",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/metadata",
        "type": "productionstagecompletion",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#productionstagecompletion/edit?id=4c65602d-97f5-11ee-0a81-0723000001e1"
      },
      "id": "4c65602d-97f5-11ee-0a81-0723000001e1",
      "accountId": "a67c68a3-95dd-11ee-0a83-071a00000002",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/a7354b1a-95dd-11ee-0a81-07230000004d",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=a7354b1a-95dd-11ee-0a81-07230000004d"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/a67ef296-95dd-11ee-0a83-071a00000003",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2023-12-11 10:35:54.714",
      "name": "00002",
      "externalCode": "zrkbh5LfjVUXFXfbUunmh3",
      "moment": "2023-12-11 10:17:00.000",
      "created": "2023-12-11 10:17:09.956",
      "productionStage": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/3dc137d1-97f5-11ee-0a81-0723000001dc",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/metadata",
          "type": "productionstage",
          "mediaType": "application/json"
        }
      },
      "standardHourCost": 0.0,
      "enableHourAccounting": false,
      "materials": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/4c65602d-97f5-11ee-0a81-0723000001e1/materials",
          "type": "productionstagecompletionmaterial",
          "mediaType": "application/json",
          "size": 18,
          "limit": 1000,
          "offset": 0
        }
      },
      "products": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/4c65602d-97f5-11ee-0a81-0723000001e1/products",
          "type": "productionstagecompletionresult",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      },
      "productionVolume": 1,
      "processingUnitCost": 0.0,
      "labourUnitCost": 0.0,
      "standardHour": 0.0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/68c6559a-980b-11ee-0a81-072300000358",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/metadata",
        "type": "productionstagecompletion",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#productionstagecompletion/edit?id=68c6559a-980b-11ee-0a81-072300000358"
      },
      "id": "68c6559a-980b-11ee-0a81-072300000358",
      "accountId": "a67c68a3-95dd-11ee-0a83-071a00000002",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/a7354b1a-95dd-11ee-0a81-07230000004d",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=a7354b1a-95dd-11ee-0a81-07230000004d"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/a67ef296-95dd-11ee-0a83-071a00000003",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2023-12-11 12:55:26.438",
      "name": "00006",
      "externalCode": "4vgR7NjlgYrEE1fKxfRVV2",
      "moment": "2023-12-11 12:55:00.000",
      "created": "2023-12-11 12:55:26.496",
      "productionStage": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/36bcdb7a-980b-11ee-0a81-07230000034c",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/metadata",
          "type": "productionstage",
          "mediaType": "application/json"
        }
      },
      "standardHourCost": 0.0,
      "enableHourAccounting": false,
      "materials": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/68c6559a-980b-11ee-0a81-072300000358/materials",
          "type": "productionstagecompletionmaterial",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      },
      "products": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/68c6559a-980b-11ee-0a81-072300000358/products",
          "type": "productionstagecompletionresult",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      },
      "productionVolume": 1.1235,
      "processingUnitCost": 0.0,
      "labourUnitCost": 0.0,
      "standardHourUnit": 0.0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/6d87056d-9809-11ee-0a83-0717000000a2",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/metadata",
        "type": "productionstagecompletion",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#productionstagecompletion/edit?id=6d87056d-9809-11ee-0a83-0717000000a2"
      },
      "id": "6d87056d-9809-11ee-0a83-0717000000a2",
      "accountId": "a67c68a3-95dd-11ee-0a83-071a00000002",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/a7354b1a-95dd-11ee-0a81-07230000004d",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=a7354b1a-95dd-11ee-0a81-07230000004d"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/a67ef296-95dd-11ee-0a83-071a00000003",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2023-12-11 12:51:50.895",
      "name": "00004",
      "externalCode": "Y3qEMw7Qjl0jh5JwFFvrL2",
      "moment": "2023-12-11 12:41:00.000",
      "created": "2023-12-11 12:41:15.372",
      "productionStage": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/e0e2370f-9808-11ee-0a81-072300000327",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/metadata",
          "type": "productionstage",
          "mediaType": "application/json"
        }
      },
      "standardHourCost": 0.0,
      "enableHourAccounting": false,
      "materials": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/6d87056d-9809-11ee-0a83-0717000000a2/materials",
          "type": "productionstagecompletionmaterial",
          "mediaType": "application/json",
          "size": 2,
          "limit": 1000,
          "offset": 0
        }
      },
      "products": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/6d87056d-9809-11ee-0a83-0717000000a2/products",
          "type": "productionstagecompletionresult",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      },
      "productionVolume": 1.6,
      "processingUnitCost": 0.0,
      "labourUnitCost": 0.0,
      "standardHourUnit": 0.0
    }
  ]
}
Создать Выполнение этапа производства
Запрос на создание нового Выполнения этапа производства. 
Условие создания Выполненного этапа - наличие начала производства у Производственного задания для которого создается Выполненный этап. Подробнее можно прочитать тут.
При создании происходит автоматическое изменение даты старта производства, если дата старта производства позже даты выполнения этапа.
Обязательные для создания поля:

productionStage - Ссылка на Производственный этап в формате Метаданных
productionVolume - Объем производства 

Создание Выполнение этапа с серийными номерами на текущий момент не поддерживается.
Пример создания нового Выполнения этапа производства с телом запроса, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "productionStage": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/3130f7df-660f-11ee-c0a8-100c00000139",
                "type": "productionstage",
                "mediaType": "application/json"
              }
            },
            "productionVolume" : 5
          } 
'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Выполнения этапа производства.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000136",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/metadata",
    "type": "productionstagecompletion",
    "mediaType": "application/json",
    "uuidHref": "https://online.moysklad.ru/app/#productionstagecompletion/edit?id=01ff6808-95de-11ee-0a81-072300000136"
  },
  "id": "01ff6808-95de-11ee-0a81-072300000136",
  "accountId": "a67c68a3-95dd-11ee-0a83-071a00000002",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/a7354b1a-95dd-11ee-0a81-07230000004d",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=a7354b1a-95dd-11ee-0a81-07230000004d"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/a67ef296-95dd-11ee-0a83-071a00000003",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2023-12-08 18:25:24.325",
  "name": "00001",
  "externalCode": "EnuNEmG2jyUF4t9tgPQk72",
  "moment": "2023-12-08 18:25:00.000",
  "created": "2023-12-08 18:25:24.386",
  "productionStage": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/3130f7df-660f-11ee-c0a8-100c00000139",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/metadata",
      "type": "productionstage",
      "mediaType": "application/json"
    }
  },
  "standardHourCost": 0.0,
  "enableHourAccounting": false,
  "materials": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000136/materials",
      "type": "productionstagecompletionmaterial",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "products": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000136/products",
      "type": "productionstagecompletionresult",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "productionVolume": 5,
  "processingUnitCost": 10.0,
  "labourUnitCost": 20.0,
  "standardHourUnit": 30.0
}

Пример создания нового Выполнения этапа производства с более насыщенным телом запроса.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "000034",
            "owner": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                "type": "employee",
                "mediaType": "application/json"
              }
            },
            "shared": false,
            "group": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                "type": "group",
                "mediaType": "application/json"
              }
            },
            "performer": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/a7354b1a-95dd-11ee-0a81-07230000004d",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                "type": "employee",
                "mediaType": "application/json",
                "uuidHref": "https://online-api-4.testms-test.lognex.ru/app/#employee/edit?id=a7354b1a-95dd-11ee-0a81-07230000004d"
              }
            },      
            "productionStage": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/3130f7df-660f-11ee-c0a8-100c00000139",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/metadata",
                "type": "productionstage",
                "mediaType": "application/json"
              }
            },
            "productionVolume": 5,
            "processingUnitCost": 10.0,
            "labourUnitCost": 20.0,
            "standardHourUnit": 30.0
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Выполнения этапа производства.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000136",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/metadata",
    "type": "productionstagecompletion",
    "mediaType": "application/json",
    "uuidHref": "https://online.moysklad.ru/app/#productionstagecompletion/edit?id=01ff6808-95de-11ee-0a81-072300000136"
  },
  "id": "01ff6808-95de-11ee-0a81-072300000136",
  "accountId": "a67c68a3-95dd-11ee-0a83-071a00000002",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/a7354b1a-95dd-11ee-0a81-07230000004d",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=a7354b1a-95dd-11ee-0a81-07230000004d"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/a67ef296-95dd-11ee-0a83-071a00000003",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2023-12-08 18:25:24.325",
  "name": "000034",
  "externalCode": "EnuNEmG2jyUF4t9tgPQk72",
  "moment": "2016-04-19 13:50:24",
  "created": "2023-12-08 18:25:24.386",
  "performer": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/a7354b1a-95dd-11ee-0a81-07230000004d",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online-api-4.testms-test.lognex.ru/app/#employee/edit?id=a7354b1a-95dd-11ee-0a81-07230000004d"
    }
  },
  "productionStage": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/3130f7df-660f-11ee-c0a8-100c00000139",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/metadata",
      "type": "productionstage",
      "mediaType": "application/json"
    }
  },
  "standardHourCost": 0.0,
  "enableHourAccounting": false,
  "materials": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000136/materials",
      "type": "productionstagecompletionmaterial",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "products": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000136/products",
      "type": "productionstagecompletionresult",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "productionVolume": 5,
  "processingUnitCost": 10.0,
  "labourUnitCost": 20.0,
  "standardHourUnit": 30.0
}

Пример создания нового Выполнения этапа, где исполнителем указан контрагент и передана услуга.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "productionStage": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/3130f7df-660f-11ee-c0a8-100c00000139",
                "type": "productionstage",
                "mediaType": "application/json"
              }
            },
            "productionVolume" : 5,
            "performer": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/c8c0f0de-b6c6-11ef-ac12-00130000009e",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                    "type": "counterparty",
                    "mediaType": "application/json",
                    "uuidHref": "https://api.moysklad.ru/app/#company/edit?id=c8c0f0de-b6c6-11ef-ac12-00130000009e"
                }
            },
            "service": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/service/18616ba6-b6c7-11ef-ac12-001300000103",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "service",
                    "mediaType": "application/json",
                    "uuidHref": "https://api.moysklad.ru/app/#good/edit?id=18615d1c-b6c7-11ef-ac12-001300000101"
                }
            }
          } 
'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Выполнения этапа производства.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000136",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/metadata",
    "type": "productionstagecompletion",
    "mediaType": "application/json",
    "uuidHref": "https://online.moysklad.ru/app/#productionstagecompletion/edit?id=01ff6808-95de-11ee-0a81-072300000136"
  },
  "id": "01ff6808-95de-11ee-0a81-072300000136",
  "accountId": "a67c68a3-95dd-11ee-0a83-071a00000002",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/a7354b1a-95dd-11ee-0a81-07230000004d",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=a7354b1a-95dd-11ee-0a81-07230000004d"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/a67ef296-95dd-11ee-0a83-071a00000003",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2023-12-08 18:25:24.325",
  "name": "00001",
  "externalCode": "EnuNEmG2jyUF4t9tgPQk72",
  "moment": "2023-12-08 18:25:00.000",
  "created": "2023-12-08 18:25:24.386",
  "performer": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/c8c0f0de-b6c6-11ef-ac12-00130000009e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json",
      "uuidHref": "https://api.moysklad.ru/app/#company/edit?id=c8c0f0de-b6c6-11ef-ac12-00130000009e"
    }
  },
  "productionStage": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/3130f7df-660f-11ee-c0a8-100c00000139",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/metadata",
      "type": "productionstage",
      "mediaType": "application/json"
    }
  },
  "service": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/service/18616ba6-b6c7-11ef-ac12-001300000103",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "service",
      "mediaType": "application/json",
      "uuidHref": "https://api.moysklad.ru/app/#good/edit?id=18615d1c-b6c7-11ef-ac12-001300000101"
    }
  },
  "materials": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000136/materials",
      "type": "productionstagecompletionmaterial",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "products": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000136/products",
      "type": "productionstagecompletionresult",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "productionVolume": 5,
  "processingUnitCost": 10.0,
  "labourUnitCost": 20.0,
  "standardHourUnit": 30.0
}
Массовое создание и обновление Выполнений этапов производства
Массовое создание и обновление Выполнений этапов производства.
В теле запроса нужно передать массив, содержащий JSON представления Выполнений этапов производства, которые вы хотите создать или обновить.
Обновляемые Выполненных этапов производства должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Выполнений этапов производства
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
                "name": "000033",
                "owner": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                    "type": "employee",
                    "mediaType": "application/json"
                  }
                },
                "shared": false,
                "group": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                    "type": "group",
                    "mediaType": "application/json"
                  }
                },
                "productionStage": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/3130f7df-660f-11ee-c0a8-100c00000139",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/metadata",
                    "type": "productionstage",
                    "mediaType": "application/json"
                  }
                },
                "productionVolume": 15,
              ]
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000136",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/metadata",
                "type": "productionstagecompletion",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#productionstagecompletion/edit?id=01ff6808-95de-11ee-0a81-072300000136"
              },
              "name": "000034",
              "productionVolume": 5
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Выполнений этапов производства.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000136",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/metadata",
      "type": "productionstagecompletion",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#productionstagecompletion/edit?id=01ff6808-95de-11ee-0a81-072300000136"
    },
    "id": "01ff6808-95de-11ee-0a81-072300000136",
    "accountId": "a67c68a3-95dd-11ee-0a83-071a00000002",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/a7354b1a-95dd-11ee-0a81-07230000004d",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=a7354b1a-95dd-11ee-0a81-07230000004d"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/a67ef296-95dd-11ee-0a83-071a00000003",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2023-12-08 18:25:24.325",
    "name": "000033",
    "externalCode": "EnuNEmG2jyUF4t9tgPQk72",
    "moment": "2023-12-08 18:25:00.000",
    "created": "2023-12-08 18:25:24.386",
    "productionStage": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/3130f7df-660f-11ee-c0a8-100c00000139",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/metadata",
        "type": "productionstage",
        "mediaType": "application/json"
      }
    },
    "standardHourCost": 0.0,
    "enableHourAccounting": false,
    "materials": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000136/materials",
        "type": "productionstagecompletionmaterial",
        "mediaType": "application/json",
        "size": 1,
        "limit": 1000,
        "offset": 0
      }
    },
    "products": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000136/products",
        "type": "productionstagecompletionresult",
        "mediaType": "application/json",
        "size": 1,
        "limit": 1000,
        "offset": 0
      }
    },
    "productionVolume": 15,
    "processingUnitCost": 0.0,
    "labourUnitCost": 0.0,
    "standardHourUnit": 0.0
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/19b3bb62-9807-11ee-0a81-07230000030e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/metadata",
      "type": "productionstagecompletion",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#productionstagecompletion/edit?id=19b3bb62-9807-11ee-0a81-07230000030e"
    },
    "id": "19b3bb62-9807-11ee-0a81-07230000030e",
    "accountId": "a67c68a3-95dd-11ee-0a83-071a00000002",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/a7354b1a-95dd-11ee-0a81-07230000004d",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=a7354b1a-95dd-11ee-0a81-07230000004d"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/a67ef296-95dd-11ee-0a83-071a00000003",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2023-12-11 12:26:28.767",
    "name": "000034",
    "externalCode": "zjyrF00vg0Ogjpl0Uk0XP0",
    "moment": "2023-12-11 12:24:00.000",
    "created": "2023-12-11 12:24:35.847",
    "productionStage": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/1812ddaf-9807-11ee-0a81-072300000306",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/metadata",
        "type": "productionstage",
        "mediaType": "application/json"
      }
    },
    "standardHourCost": 0.0,
    "enableHourAccounting": false,
    "materials": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/19b3bb62-9807-11ee-0a81-07230000030e/materials",
        "type": "productionstagecompletionmaterial",
        "mediaType": "application/json",
        "size": 1,
        "limit": 1000,
        "offset": 0
      }
    },
    "products": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/19b3bb62-9807-11ee-0a81-07230000030e/products",
        "type": "productionstagecompletionresult",
        "mediaType": "application/json",
        "size": 1,
        "limit": 1000,
        "offset": 0
      }
    },
    "productionVolume": 5,
    "processingUnitCost": 0.0,
    "labourUnitCost": 0.0,
    "standardHourUnit": 0.0
  }
]
Удалить Выполнение этапа производства
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Выполнения этапа производства


Запрос на удаление Выполнения этапа производства с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Выполнения этапа производства.

Массовое удаление Выполнений этапов производства
В теле запроса нужно передать массив, содержащий JSON метаданных Выполнений этапов производства, которые вы хотите удалить.
Удаление происходит в указанном порядке. Поэтому выполнения последнего этапа должно располагаться до выполнений этапов, от которых оно зависит.
Запрос на массовое удаление Выполнений этапов производства.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000136",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/metadata",
                "type": "productionstagecompletion",
                "mediaType": "application/json",
              }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000147",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/metadata",
                "type": "productionstagecompletion",
                "mediaType": "application/json",
              }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Выполнений этапов производства.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'productionstagecompletion' с UUID: 01ff6808-95de-11ee-0a81-072300000136 успешно удалена"
  },
  {
    "info":"Сущность 'productionstagecompletion' с UUID: 01ff6808-95de-11ee-0a81-072300000147 успешно удалена"
  }
]
Получить Выполнение этапа производства
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Выполнения этапа производства.


Запрос на получение отдельного Выполнения этапа производства с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Выполнения этапа производства.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/metadata",
    "type": "productionstagecompletion",
    "mediaType": "application/json",
    "uuidHref": "https://online.moysklad.ru/app/#productionstagecompletion/edit?id=7944ef04-f831-11e5-7a69-971500188b19"
  },
  "id": "7944ef04-f831-11e5-7a69-971500188b19",
  "accountId": "a67c68a3-95dd-11ee-0a83-071a00000002",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/a7354b1a-95dd-11ee-0a81-07230000004d",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=a7354b1a-95dd-11ee-0a81-07230000004d"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/a67ef296-95dd-11ee-0a83-071a00000003",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2023-12-08 18:25:24.325",
  "name": "00001",
  "externalCode": "EnuNEmG2jyUF4t9tgPQk72",
  "moment": "2023-12-08 18:25:00.000",
  "created": "2023-12-08 18:25:24.386",
  "productionStage": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/d15ec2e9-95dd-11ee-0a81-07230000011c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/metadata",
      "type": "productionstage",
      "mediaType": "application/json"
    }
  },
  "standardHourCost": 0.0,
  "enableHourAccounting": false,
  "materials": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000136/materials",
      "type": "productionstagecompletionmaterial",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "products": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000136/products",
      "type": "productionstagecompletionresult",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "productionVolume": 100000,
  "processingUnitCost": 0.0,
  "labourUnitCost": 0.0,
  "standardHourUnit": 0.0
}
Изменить Выполнение этапа производства
Запрос на обновление Выполнения этапа производства с указанным id.
При обновлении происходит автоматическое изменение даты старта производства, если дата старта производства позже даты выполнения этапа.
В теле запроса необходимо указать те поля, которые необходимо изменить у Выполнения этапа производства, кроме тех,
что помечены Только для чтения в описании атрибутов Выполнения этапа производства.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Выполнения этапа производства.


Пример запроса на обновление отдельного Выполнения этапа производства.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "000034",
            "productionVolume": 22,
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Выполнения этапа производства.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/metadata",
    "type": "productionstagecompletion",
    "mediaType": "application/json",
    "uuidHref": "https://online.moysklad.ru/app/#productionstagecompletion/edit?id=7944ef04-f831-11e5-7a69-971500188b19"
  },
  "id": "01ff6808-95de-11ee-0a81-072300000136",
  "accountId": "a67c68a3-95dd-11ee-0a83-071a00000002",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/a7354b1a-95dd-11ee-0a81-07230000004d",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=a7354b1a-95dd-11ee-0a81-07230000004d"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/a67ef296-95dd-11ee-0a83-071a00000003",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2023-12-08 18:25:24.325",
  "name": "000034",
  "externalCode": "EnuNEmG2jyUF4t9tgPQk72",
  "moment": "2023-12-08 18:25:00.000",
  "created": "2023-12-08 18:25:24.386",
  "productionStage": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/d15ec2e9-95dd-11ee-0a81-07230000011c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/metadata",
      "type": "productionstage",
      "mediaType": "application/json"
    }
  },
  "standardHourCost": 0.0,
  "enableHourAccounting": false,
  "materials": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000136/materials",
      "type": "productionstagecompletionmaterial",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "products": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/01ff6808-95de-11ee-0a81-072300000136/products",
      "type": "productionstagecompletionresult",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "productionVolume": 22,
  "processingUnitCost": 0.0,
  "labourUnitCost": 0.0,
  "standardHourUnit": 0.0
}
Материалы Выполнения этапа производства
Материалы Выполнения этапа производства - это товары, модификации и серии, затраченные при выполнении этапа производства.
Объект материала Выполнения этапа производства содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения


assortment
Meta
Метаданные товара/модификации/серии, которую представляет собой позицияОбязательное при ответе Expand


consumedQuantity
Float
Количество товаров/модификаций данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документеОбязательное при ответе


id
UUID
ID позицииОбязательное при ответе Только для чтения


things
Array(String)
Серийные номера. Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете. В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута


Продукты Выполнения этапа производства
Продукты Выполнения этапа производства - это товары, модификации и серии, созданные при выполнении этапа производства.
Объект продукта Выполнения этапа производства содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения


assortment
Meta
Метаданные товара/модификации/серии, которую представляет собой позицияОбязательное при ответе Expand


id
UUID
ID позицииОбязательное при ответе Только для чтения


producedQuantity
Float
Количество товаров/модификаций данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документеОбязательное при ответе


things
Array(String)
Серийные номера. Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете. В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута


Материалы выполнения этапа производства
Отдельный ресурс для управления Материалами выполнения этапа производства.
Получить Материалы выполнения этапа производства
Запрос на получение списка всех Материалов выполнения этапа производства.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче


context
Meta
Метаданные о сотруднике, выполнившем запрос


rows
Array(Object)
Массив JSON объектов, представляющих собой Материалы выполнения этапа производства


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Выполнения этапа производства


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей


Запрос на получение списка всех Материалов данного Выполнения этапа производства
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19/materials"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка продуктов Выполнения этапа производства.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19/materials/",
    "type": "productionstagecompletionmaterial",
    "mediaType": "application/json",
    "size": 1,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19/materials/34f6344f-015e-11e6-9464-e4de0000006c",
        "type": "productionstagecompletionmaterial",
        "mediaType": "application/json"
      },
      "id": "34f6344f-015e-11e6-9464-e4de0000006c",
      "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
      "consumedQuantity": 5.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/9656117b-b717-11ec-0с80-0bba0006dcde",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=96568199-b716-11ec-0a80-0bba0006dcdc"
        }
      }
    }
  ]
}
Добавить Материал выполнения этапа производства
Запрос на добавление Материала к выполненному этапу производства.
Для товаров с серийным учётом, поле consumedQuantity автоматически изменяется на количество переданных в поле things серийных номеров.
Для успешного создания необходимо в теле запроса указать следующие поля:

assortment - Ссылка на товар/модификацию/серию, которую представляет собой материал.
consumedQuantity - количество товара (игнорируется, если передано поле things)
things - серийные номера (только для товаров с серийным учетом)

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Выполнения этапа производства


Пример запроса на добавление Материала Выполнения этапа производства.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19/materials"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "consumedQuantity": 2,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/9656117b-b717-11ec-0с80-0bba0006dcde",
              }
            }
          }
      '  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление добавленного материала
ПоказатьСвернуть
    {
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19/materials/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "productionstagecompletionmaterial",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
  "consumedQuantity": 2.0,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/9656117b-b717-11ec-0с80-0bba0006dcde",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=96568199-b716-11ec-0a80-0bba0006dcdc"
    }
  }
}

Пример запроса на добавление материала Выполнения этапа производства с учётом серийных номеров.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19/materials"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/9656117b-b717-11ec-0с80-0bba0006dcde",
              }
            },
            "things": ["F564X056", "F564X057"]
          }
      '  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление добавленного материала
ПоказатьСвернуть
    {
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19/materials/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "productionstagecompletionmaterial",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
  "consumedQuantity": 2.0,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/9656117b-b717-11ec-0с80-0bba0006dcde",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=96568199-b716-11ec-0a80-0bba0006dcdc"
    },
    "things": ["F564X056", "F564X057"]
  }
}
Изменить Материал выполнения этапа производства
Запрос на обновление отдельного Материала выполнения этапа производства.
Для товаров с серийным учётом, поле consumedQuantity автоматически изменяется на количество переданных в поле things серийных номеров.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Выполнения этапа производства


materialID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id Материала выполнения этапа производства


Пример запроса на обновление количества отдельного Материала выполнения этапа производства.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19/materials/34f6344f-015e-11e6-9464-e4de0000006c"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "consumedQuantity": 3,
          }
      '  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного материала.
ПоказатьСвернуть
    {
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19/materials/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "productionstagecompletionmaterial",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
  "consumedQuantity": 3.0,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/9656117b-b717-11ec-0с80-0bba0006dcde",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=96568199-b716-11ec-0a80-0bba0006dcdc"
    }
  }
}

Пример запроса на обновление серийных номеров отдельного Материала выполнения этапа производства.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19/materials/34f6344f-015e-11e6-9464-e4de0000006c"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "things": ["F564X056", "F564X057"]
          }
      '  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного продукта.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19/products/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "productionstagecompletionresult",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
  "consumedQuantity": 2,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/materials/9656117b-b717-11ec-0с80-0bba0006dcde",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/materials/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=96568199-b716-11ec-0a80-0bba0006dcdc"
    }
  },
  "things": ["F564X056", "F564X057"]
}
Продукты выполнения этапа производства
Отдельный ресурс для управления Продуктами выполнения этапа производства.
Получить Продукты выполнения этапа производства
Запрос на получение списка всех Продуктов выполнения этапа производства.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче


context
Meta
Метаданные о сотруднике, выполнившем запрос


rows
Array(Object)
Массив JSON объектов, представляющих собой Продукты выполнения этапа производства


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Выполнения этапа производства


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей


Запрос на получение списка всех Продуктов данного выполнения этапа производства
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19/products/"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Продуктов выполнения этапа производства.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19/products/",
    "type": "productionstagecompletionresult",
    "mediaType": "application/json",
    "size": 1,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19/products/34f6344f-015e-11e6-9464-e4de0000006c",
        "type": "productionstagecompletionresult",
        "mediaType": "application/json"
      },
      "id": "34f6344f-015e-11e6-9464-e4de0000006c",
      "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
      "producedQuantity": 0.7,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/9656117b-b717-11ec-0с80-0bba0006dcde",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=96568199-b716-11ec-0a80-0bba0006dcdc"
        }
      }
    }
  ]
}
Изменить Продукт выполнения этапа производства
Запрос на обновление отдельного Продукта выполнения этапа производства.
Изменять товар / модификацию нельзя, но можно изменить серию товара.
Для товаров с серийным учётом, поле producedQuantity автоматически изменяется на количество переданных в поле things серийных номеров.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Выполнения этапа производства


productID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id Продукта выполнения этапа производства


Пример запроса на обновление количества отдельного Продукта выполнения этапа производства.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19/products/34f6344f-015e-11e6-9464-e4de0000006c"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "producedQuantity": 2.7,
          }
      '  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Продукта выполнения этапа производства.
ПоказатьСвернуть
    {
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19/products/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "productionstagecompletionresult",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
  "producedQuantity": 2.7,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/9656117b-b717-11ec-0с80-0bba0006dcde",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=96568199-b716-11ec-0a80-0bba0006dcdc"
    }
  }
}

Пример запроса на обновление серийных номеров отдельного Продукта выполнения этапа производства.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19/products/34f6344f-015e-11e6-9464-e4de0000006c"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "things": ["F564X056", "F564X057"]
          }
      '  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Продукта выполнения этапа производства.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstagecompletion/7944ef04-f831-11e5-7a69-971500188b19/products/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "productionstagecompletionresult",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
  "producedQuantity": 2,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/9656117b-b717-11ec-0с80-0bba0006dcde",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=96568199-b716-11ec-0a80-0bba0006dcdc"
    }
  },
  "things": ["F564X056", "F564X057"]
}
Заказ на производствоЗаказы на производство
Средствами JSON API можно создавать и обновлять сведения о Заказах на производство, запрашивать списки Заказов и сведения по отдельным Заказам на производство. Позициями Заказов можно управлять как в составе отдельного Заказа на производство, так и отдельно - с помощью специальных ресурсов для управления позициями Заказа. Кодом сущности для Заказа на производство в составе JSON API является ключевое слово processingorder. Больше о Заказах на производство и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по этой ссылке.
Атрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объектаТолько для чтения


code
String(255)
= != ~ ~= =~
Код Заказа на производство


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления Заказа на производствоТолько для чтения


deliveryPlannedMoment
DateTime
= != < > <= >=
Планируемая дата производства


description
String(4096)
= != ~ ~= =~
Комментарий Заказа на производство


externalCode
String(255)
= != ~ ~= =~
Внешний код Заказа на производствоОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID Заказа на производствоОбязательное при ответе Только для чтения


meta
Meta

Метаданные Заказа на производствоОбязательное при ответе Только для чтения


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование Заказа на производствоОбязательное при ответе Необходимо при создании


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании


owner
Meta
= !=
Владелец (Сотрудник)Expand


positions
MetaArray

Метаданные позиций Заказа на производствоОбязательное при ответе Expand Необходимо при создании


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


processingPlan
Meta

Метаданные ТехкартыОбязательное при ответе Expand Необходимо при создании


project
Meta
= !=
Метаданные проектаExpand


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


quantity
Float
= != < > <= >=
Объем производстваОбязательное при ответе


shared
Boolean
= !=
Общий доступОбязательное при ответе Только для чтения


state
Meta
= !=
Метаданные статуса Заказа на производствоExpand


store
Meta

Метаданные складаОбязательное при ответе Expand Необходимо при создании


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для измененияТолько для чтения


updated
DateTime
= != < > <= >=
Момент последнего обновленияЗаказа на производствоОбязательное при ответе Только для чтения


Связи с другими документами


Название
Описание



processings
Массив ссылок на связанные техоперации в формате Метаданных


Позиции Заказа на производство
Позиции Заказа - это список товаров/модификаций, соответствующих материалам техкарты.
Объект позиции Заказа содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияОбязательное при ответе Expand


id
UUID
ID позицииОбязательное при ответе Только для чтения


pack
Object
Упаковка Товара. Подробнее тут


quantity
Float
Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.Обязательное при ответе


reserve
Float
Резерв данной позицииОбязательное при ответе


С позициями можно работать с помощью специальных ресурсов для управления позициями Заказа,
а также в составе отдельного Заказа на производство. При работе в составе отдельного Заказа на производство,
вы можете отправлять запросы на создание отдельного Заказа на производство с включенным в тело запроса
массивом позиций Заказа.
Также, при работе в составе отдельного Заказа на производство, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Заказа. Позиции с новыми товарами не могут быть добавлены в Заказ.
О работе с доп. полями Заказов на производство можно прочитать здесь
Получить список Заказов на производство
Запрос всех Заказов на производство на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Заказы на производство.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить список Заказов на производство
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/processingorder"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Заказов на производство.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
    "type": "processingorder",
    "mediaType": "application/json",
    "size": 5,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/5fbf79f4-adac-11e6-5bed-427b0000006a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
        "type": "processingorder",
        "mediaType": "application/json"
      },
      "id": "5fbf79f4-adac-11e6-5bed-427b0000006a",
      "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d5ad957e-91f1-11e6-5bed-427b0000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d55da707-91f1-11e6-5bed-427b00000001",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-21 12:17:56.000",
      "name": "da",
      "description": "dsa",
      "externalCode": "Tzn6ewsegfp90BCJ6xgWe2",
      "moment": "2016-11-18 19:30:00.000",
      "applicable": true,
      "printed": true,
      "published": true,
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/7f3a7d7a-97a1-11e6-5bed-427b0000009c",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "deliveryPlannedMoment": "2016-11-22 12:17:00.000",
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/5fbf79f4-adac-11e6-5bed-427b0000006a/positions",
          "type": "processingorderposition",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      },
      "quantity": 1,
      "processingPlan": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/1a18770e-ad9a-11e6-5bed-427b00000064",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
          "type": "processingplan",
          "mediaType": "application/json"
        }
      },
      "processings": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/bcd6e6b5-b002-11e6-5bed-427b0000000b",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
            "type": "processing",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/8450f4de-b002-11e6-5bed-427b00000000",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
            "type": "processing",
            "mediaType": "application/json"
          }
        }
      ]
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/80191fbd-afcf-11e6-5bed-427b00000000",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
        "type": "processingorder",
        "mediaType": "application/json"
      },
      "id": "80191fbd-afcf-11e6-5bed-427b00000000",
      "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d5ad957e-91f1-11e6-5bed-427b0000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d55da707-91f1-11e6-5bed-427b00000001",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-21 12:47:22",
      "name": "11da",
      "description": "dsa",
      "externalCode": "Tzn6ewsegfp90BCJ6xgWe2",
      "moment": "2016-11-18 19:30:00.000",
      "applicable": true,
      "printed": true,
      "published": true,
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/7f3a7d7a-97a1-11e6-5bed-427b0000009c",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "deliveryPlannedMoment": "2016-11-22 12:17:00.000",
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/80191fbd-afcf-11e6-5bed-427b00000000/positions",
          "type": "processingorderposition",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      },
      "quantity": 1,
      "processingPlan": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/1a18770e-ad9a-11e6-5bed-427b00000064",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
          "type": "processingplan",
          "mediaType": "application/json"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/8cbaa297-afc8-11e6-5bed-427b00000064",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
        "type": "processingorder",
        "mediaType": "application/json"
      },
      "id": "8cbaa297-afc8-11e6-5bed-427b00000064",
      "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d5ad957e-91f1-11e6-5bed-427b0000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d55da707-91f1-11e6-5bed-427b00000001",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-21 11:58:36.000",
      "name": "1",
      "externalCode": "JZQBX9gshwrrTRcHkCcaR2",
      "moment": "2016-11-21 11:47:00.000",
      "applicable": true,
      "printed": true,
      "published": true,
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/7f3a7d7a-97a1-11e6-5bed-427b0000009c",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "deliveryPlannedMoment": "2016-11-02 11:57:00.000",
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/8cbaa297-afc8-11e6-5bed-427b00000064/positions",
          "type": "processingorderposition",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      },
      "quantity": 1,
      "processingPlan": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/1a18770e-ad9a-11e6-5bed-427b00000064",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
          "type": "processingplan",
          "mediaType": "application/json"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/b5556153-b164-11e6-5bed-427b0000006f",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
        "type": "processingorder",
        "mediaType": "application/json"
      },
      "id": "b5556153-b164-11e6-5bed-427b0000006f",
      "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d5ad957e-91f1-11e6-5bed-427b0000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d55da707-91f1-11e6-5bed-427b00000001",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-23 13:07:57",
      "name": "Заказ на производство",
      "description": "Комментарий",
      "externalCode": "wWAJXKZFgoOZVKd41Dzzz2",
      "moment": "2016-11-23 13:00:00.000",
      "applicable": true,
      "printed": true,
      "published": true,
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/7f3a7d7a-97a1-11e6-5bed-427b0000009c",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "deliveryPlannedMoment": "2016-11-23 13:07:00",
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/b5556153-b164-11e6-5bed-427b0000006f/positions",
          "type": "processingorderposition",
          "mediaType": "application/json",
          "size": 2,
          "limit": 1000,
          "offset": 0
        }
      },
      "quantity": 5,
      "processingPlan": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
          "type": "processingplan",
          "mediaType": "application/json"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c7201428-afcc-11e6-5bed-427b00000068",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
        "type": "processingorder",
        "mediaType": "application/json"
      },
      "id": "c7201428-afcc-11e6-5bed-427b00000068",
      "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d5ad957e-91f1-11e6-5bed-427b0000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d55da707-91f1-11e6-5bed-427b00000001",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-21 17:46:15.000",
      "name": "2",
      "externalCode": "5nSDOrCfjyxt0W1RbY7XZ3",
      "moment": "2016-11-21 12:27:00.000",
      "applicable": true,
      "printed": true,
      "published": true,
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/7f3a7d7a-97a1-11e6-5bed-427b0000009c",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "deliveryPlannedMoment": "2016-11-02 17:43:00.000",
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c7201428-afcc-11e6-5bed-427b00000068/positions",
          "type": "processingorderposition",
          "mediaType": "application/json",
          "size": 2,
          "limit": 1000,
          "offset": 0
        }
      },
      "quantity": 1,
      "processingPlan": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
          "type": "processingplan",
          "mediaType": "application/json"
        }
      },
      "processings": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
            "type": "processing",
            "mediaType": "application/json"
          }
        }
      ]
    }
  ]
}
Создать Заказ на производство
Запрос на создание нового Заказа на производство.
Обязательные для создания поля:

organization - Ссылка на ваше юрлицо в формате Метаданных
processingPlan - Ссылка на техкарту в формате Метаданных
positions - Ссылка на позиции в Заказе в формате Метаданных

Пример создания нового Заказа с телом запроса, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/processingorder"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "processingPlan": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
                "type": "processingplan",
                "mediaType": "application/json"
              }
            },
            "positions": [
              {
                "quantity": 111,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/eeef177f-f648-11e5-8a84-bae50000007a",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              }
            ]
          }
'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Заказа на производство.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c49e83b3-01af-11e6-9464-e4de00000026",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
    "type": "processingorder",
    "mediaType": "application/json"
  },
  "id": "c49e83b3-01af-11e6-9464-e4de00000026",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-14 13:08:58",
  "name": "000034",
  "externalCode": "DAD9peGij6sDNii49Dkam2",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-19 13:50:24",
  "applicable": false,
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c49e83b3-01af-11e6-9464-e4de00000026/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
      "type": "processingorderposition",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "quantity": 5,
  "processingPlan": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
      "type": "processingplan",
      "mediaType": "application/json"
    }
  }
}

Пример создания нового Заказа с более насыщенным телом запроса.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/processingorder"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "000034",
            "owner": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                "type": "employee",
                "mediaType": "application/json"
              }
            },
            "shared": false,
            "group": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                "type": "group",
                "mediaType": "application/json"
              }
            },
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "moment": "2016-04-19 13:50:24",
            "applicable": false,
            "state": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
                "type": "state",
                "mediaType": "application/json"
              }
            },
            "quantity": 5,
            "processingPlan": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
                "type": "processingplan",
                "mediaType": "application/json"
              }
            },
            "positions": [
              {
                "quantity": 111,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/eeef177f-f648-11e5-8a84-bae50000007a",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Заказа на производство.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c49e83b3-01af-11e6-9464-e4de00000026",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
    "type": "processingorder",
    "mediaType": "application/json"
  },
  "id": "c49e83b3-01af-11e6-9464-e4de00000026",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-14 13:08:58",
  "name": "000034",
  "externalCode": "DAD9peGij6sDNii49Dkam2",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-19 13:50:24",
  "applicable": false,
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c49e83b3-01af-11e6-9464-e4de00000026/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
      "type": "processingorderposition",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "quantity": 5,
  "processingPlan": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
      "type": "processingplan",
      "mediaType": "application/json"
    }
  }
}


Пример запроса на создание Заказа на производство с доп. полями.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/processingorder"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "processingPlan": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
                  "type": "processingplan",
                  "mediaType": "application/json"
                }
            },
            "positions": [
              {
                "quantity": 111,
                "assortment": {
                   "meta": {
                       "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/eeef177f-f648-11e5-8a84-bae50000007a",
                       "type": "product",
                       "mediaType": "application/json"
                   }
                }
              }
            ],
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/attributes/c2ecd338-015e-11e6-9464-e4de0000008f",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "Атрибут заказа",
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Заказа на производство.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c49e83b3-01af-11e6-9464-e4de00000026",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
    "type": "processingorder",
    "mediaType": "application/json"
  },
  "id": "c49e83b3-01af-11e6-9464-e4de00000026",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-14 13:08:58",
  "name": "000034",
  "externalCode": "DAD9peGij6sDNii49Dkam2",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-19 13:50:24",
  "applicable": false,
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c49e83b3-01af-11e6-9464-e4de00000026/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
      "type": "processingorderposition",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "quantity": 5,
  "processingPlan": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
      "type": "processingplan",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/attributes/c2ecd338-015e-11e6-9464-e4de0000008f",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c2ecd338-015e-11e6-9464-e4de0000008f",
      "name": "AttributeName1",
      "type": "string",
      "value": "Атрибут заказа"
    }
  ]
}
Массовое создание и обновление Заказов на производство
Массовое создание и обновление Заказов на производство.
В теле запроса нужно передать массив, содержащий JSON представления Заказов на производство, которые вы хотите создать или обновить.
Обновляемые Заказы на производство должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Заказов на производство
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/processingorder"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "processingPlan": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
                  "type": "processingplan",
                  "mediaType": "application/json"
                }
              },
              "positions": [
                {
                  "quantity": 111,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/eeef177f-f648-11e5-8a84-bae50000007a",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  }
                }
              ]
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c49e83b3-01af-11e6-9464-e4de00000026",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
                "type": "processingorder",
                "mediaType": "application/json"
              },
              "name": "000034",
              "quantity": 5,
              "processingPlan": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
                  "type": "processingplan",
                  "mediaType": "application/json"
                }
              }
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Заказов на производство.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c49e83b3-01af-11e6-9464-e4de00000026",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
      "type": "processingorder",
      "mediaType": "application/json"
    },
    "id": "c49e83b3-01af-11e6-9464-e4de00000026",
    "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
    "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
    "updated": "2016-04-14 13:08:58",
    "name": "000034",
    "externalCode": "DAD9peGij6sDNii49Dkam2",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "moment": "2016-04-19 13:50:24",
    "applicable": false,
    "sum": 0,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "state": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
        "type": "state",
        "mediaType": "application/json"
      }
    },
    "created": "2007-02-07 17:16:41",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c49e83b3-01af-11e6-9464-e4de00000026/positions",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
        "type": "processingorderposition",
        "mediaType": "application/json",
        "size": 1,
        "limit": 1000,
        "offset": 0
      }
    },
    "quantity": 5,
    "processingPlan": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
        "type": "processingplan",
        "mediaType": "application/json"
      }
    }
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c49e83b3-01af-11e6-9464-e4de00000026",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
      "type": "processingorder",
      "mediaType": "application/json"
    },
    "id": "c49e83b3-01af-11e6-9464-e4de00000026",
    "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
    "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
    "updated": "2016-04-14 13:08:58",
    "name": "000034",
    "externalCode": "DAD9peGij6sDNii49Dkam2",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "moment": "2016-04-19 13:50:24",
    "applicable": false,
    "sum": 0,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "state": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
        "type": "state",
        "mediaType": "application/json"
      }
    },
    "created": "2007-02-07 17:16:41",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c49e83b3-01af-11e6-9464-e4de00000026/positions",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
        "type": "processingorderposition",
        "mediaType": "application/json",
        "size": 1,
        "limit": 1000,
        "offset": 0
      }
    },
    "quantity": 5,
    "processingPlan": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
        "type": "processingplan",
        "mediaType": "application/json"
      }
    }
  }
]
Удалить Заказ на производство
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа на производство.


Запрос на удаление Заказа на производство с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Заказа на производство.

Массовое удаление Заказов на производство
В теле запроса нужно передать массив, содержащий JSON метаданных Заказов на производство, которые вы хотите удалить.
Запрос на массовое удаление Заказов на производство. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
                "type": "processingorder",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
                "type": "processingorder",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Заказов на производство.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'processingorder' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'processingorder' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные Заказов на производствоМетаданные Заказов на производство
Запрос на получение метаданных Заказов на производство. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Заказов на производство


attributes
Массив объектов доп. полей Заказов на производство в формате Метаданных


states
Массив статусов Заказов на производство


createShared
создавать новые Заказы на производство с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Заказов на производство
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Заказов на производство.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/attributes/c2ecd338-015e-11e6-9464-e4de0000008f",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c2ecd338-015e-11e6-9464-e4de0000008f",
      "name": "AttributeName1",
      "type": "string",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56c504-2e58-11e6-8a84-bae500000069",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Новый",
      "color": 15106326,
      "stateType": "Regular",
      "entityType": "processingorder"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/states/fb56cae3-2e58-11e6-8a84-bae50000006a",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56cae3-2e58-11e6-8a84-bae50000006a",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Подтвержден",
      "color": 40931,
      "stateType": "Regular",
      "entityType": "processingorder"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/states/fb56cf4f-2e58-11e6-8a84-bae50000006b",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56cf4f-2e58-11e6-8a84-bae50000006b",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Собран",
      "color": 8767198,
      "stateType": "Regular",
      "entityType": "processingorder"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/states/fb56d433-2e58-11e6-8a84-bae50000006c",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56d433-2e58-11e6-8a84-bae50000006c",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Отгружен",
      "color": 10774205,
      "stateType": "Regular",
      "entityType": "processingorder"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/states/fb56d92f-2e58-11e6-8a84-bae50000006d",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56d92f-2e58-11e6-8a84-bae50000006d",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Доставлен",
      "color": 8825440,
      "stateType": "Successful",
      "entityType": "processingorder"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/states/fb56de0a-2e58-11e6-8a84-bae50000006e",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56de0a-2e58-11e6-8a84-bae50000006e",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Возврат",
      "color": 15280409,
      "stateType": "Unsuccessful",
      "entityType": "processingorder"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/states/fb56e2b4-2e58-11e6-8a84-bae50000006f",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56e2b4-2e58-11e6-8a84-bae50000006f",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Отменен",
      "color": 15280409,
      "stateType": "Unsuccessful",
      "entityType": "processingorder"
    }
  ],
  "createShared": false
}

Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/attributes/57ab884e-558b-11e6-8a84-bae500000078",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "57ab884e-558b-11e6-8a84-bae500000078",
  "name": "AttributeName1",
  "type": "productfolder",
  "required": false
}
Шаблон Заказа на производствоШаблон Заказа на производство на основе
Запрос на получение предзаполненного заказа на основе другого документа.
В результате запроса будет создан предзаполненный шаблон заказа на основе переданного документа.
Запрос на получение шаблона заказа на основе техкарты.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "processingPlan": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/5fbf79f4-adac-11e6-5bed-427b0000006a",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
                "type": "processingplan",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного заказа.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d5ad957e-91f1-11e6-5bed-427b0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d55da707-91f1-11e6-5bed-427b00000001",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-12-05 14:35:47",
  "applicable": true,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "quantity": 1,
  "processingPlan": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/1a18770e-ad9a-11e6-5bed-427b00000064",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
      "type": "processingplan",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "rows": [
      {
        "quantity": 1,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0de151c1-acdc-11e6-5bed-427b00000080",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
          }
        }
      }
    ]
  }
}
Заказ на производствоПолучить Заказ на производство
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа на производство.


Запрос на получение отдельного Заказа на производство с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Заказа на производство.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/b5556153-b164-11e6-5bed-427b0000006f",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
    "type": "processingorder",
    "mediaType": "application/json"
  },
  "id": "b5556153-b164-11e6-5bed-427b0000006f",
  "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d5ad957e-91f1-11e6-5bed-427b0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d55da707-91f1-11e6-5bed-427b00000001",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-23 13:07:57",
  "name": "Заказ на производство",
  "description": "Комментарий",
  "externalCode": "wWAJXKZFgoOZVKd41Dzzz2",
  "moment": "2016-11-23 13:00:00",
  "applicable": true,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/7f3a7d7a-97a1-11e6-5bed-427b0000009c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "deliveryPlannedMoment": "2016-11-23 13:07:00",
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/b5556153-b164-11e6-5bed-427b0000006f/positions",
      "type": "processingorderposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "quantity": 5,
  "processingPlan": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
      "type": "processingplan",
      "mediaType": "application/json"
    }
  }
}
Изменить Заказ на производство
Запрос на обновление Заказа на производство с указанным id.
В теле запроса необходимо указать поле meta processingPlan (даже если оно не меняется), а также указать те поля, 
которые необходимо изменить у Заказа на производство, кроме тех, что помечены Только для чтения в описании 
атрибутов Заказа на производство.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа на производство.


Пример запроса на обновление отдельного Заказа на производство.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "000034",
            "processingPlan": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
                "type": "processingplan",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Заказа на производство.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c49e83b3-01af-11e6-9464-e4de00000026",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
    "type": "processingorder",
    "mediaType": "application/json"
  },
  "id": "c49e83b3-01af-11e6-9464-e4de00000026",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-14 13:08:58",
  "name": "000034",
  "externalCode": "DAD9peGij6sDNii49Dkam2",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-19 13:50:24",
  "applicable": false,
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c49e83b3-01af-11e6-9464-e4de00000026/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
      "type": "processingorderposition",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "quantity": 5,
  "processingPlan": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
      "type": "processingplan",
      "mediaType": "application/json"
    }
  }
}

Пример запроса на изменение Заказа на производство с дополнительными полями.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "processingPlan": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
                "type": "processingplan",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/attributes/c2ecd338-015e-11e6-9464-e4de0000008f",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "Обновленный Атрибут заказа",
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Заказа на производство.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c49e83b3-01af-11e6-9464-e4de00000026",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
    "type": "processingorder",
    "mediaType": "application/json"
  },
  "id": "c49e83b3-01af-11e6-9464-e4de00000026",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-14 13:08:58",
  "name": "000034",
  "externalCode": "DAD9peGij6sDNii49Dkam2",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-19 13:50:24",
  "applicable": false,
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c49e83b3-01af-11e6-9464-e4de00000026/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
      "type": "processingorderposition",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "quantity": 5,
  "processingPlan": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
      "type": "processingplan",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/attributes/c2ecd338-015e-11e6-9464-e4de0000008f",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c2ecd338-015e-11e6-9464-e4de0000008f",
      "name": "AttributeName1",
      "type": "string",
      "value": "Обновленный Атрибут заказа"
    }
  ]
}

Пример запроса на обновление Заказа на производство с позициями в теле запроса.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "processingPlan": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
                "type": "processingplan",
                "mediaType": "application/json"
              }
            },
            "positions": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/34efe2ee-015e-11e6-9464-e4de0000006b/positions/34f6344f-015e-11e6-9464-e4de0000006c",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
                  "type": "processingorderposition",
                  "mediaType": "application/json"
                },
                "id": "34f6344f-015e-11e6-9464-e4de0000006c",
                "quantity": 10,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/8b382799-f7d2-11e5-8a84-bae5000003a5",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/34efe2ee-015e-11e6-9464-e4de0000006b/positions/34f6344f-015e-11e6-9464-e4de0000007c",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
                  "type": "processingorderposition",
                  "mediaType": "application/json"
                },
                "id": "34f6344f-015e-11e6-9464-e4de0000007c",
                "quantity": 20,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/be903062-f504-11e5-8a84-bae50000019a",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/34efe2ee-015e-11e6-9464-e4de0000006b/positions/34f6344f-015e-11e6-9464-e4de0000008c",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
                  "type": "processingorderposition",
                  "mediaType": "application/json"
                },
                "id": "34f6344f-015e-11e6-9464-e4de0000008c",
                "quantity": 30,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/c02e3a5c-007e-11e6-9464-e4de00000006",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Заказа на производство.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c49e83b3-01af-11e6-9464-e4de00000026",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
    "type": "processingorder",
    "mediaType": "application/json"
  },
  "id": "c49e83b3-01af-11e6-9464-e4de00000026",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-14 13:08:58",
  "name": "000034",
  "externalCode": "DAD9peGij6sDNii49Dkam2",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-19 13:50:24",
  "applicable": false,
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c49e83b3-01af-11e6-9464-e4de00000026/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
      "type": "processingorderposition",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "quantity": 5,
  "processingPlan": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
      "type": "processingplan",
      "mediaType": "application/json"
    }
  }
}
Позиции Заказа на производство
Отдельный ресурс для управления позициями Заказа на производство. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить позиции Заказа на производство
Запрос на получение списка всех позиций данного Заказа на производство.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой позиции Заказа на производство.


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа на производство.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить позиции Заказа на производство
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/7944ef04-f831-11e5-7a69-971500188b19/positions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного Заказа на производство.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/7944ef04-f831-11e5-7a69-971500188b19/positions",
    "type": "processingorderposition",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/7944ef04-f831-11e5-7a69-971500188b19/positions/c7218ccd-afcc-11e6-5bed-427b00000069",
        "type": "processingorderposition",
        "mediaType": "application/json"
      },
      "id": "c7218ccd-afcc-11e6-5bed-427b00000069",
      "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
      "quantity": 45,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0de151c1-acdc-11e6-5bed-427b00000080",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
        }
      },
      "reserve": 45
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/7944ef04-f831-11e5-7a69-971500188b19/positions/c72196c6-afcc-11e6-5bed-427b0000006a",
        "type": "processingorderposition",
        "mediaType": "application/json"
      },
      "id": "c72196c6-afcc-11e6-5bed-427b0000006a",
      "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
      "quantity": 45,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/1267a23f-acdc-11e6-5bed-427b00000086",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
        }
      },
      "reserve": 45
    }
  ]
}
Позиция Заказа на производство
Отдельная позиция Заказа с указанным id позиции.
Получить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа на производство.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Заказа на производство.


Запрос на получение отдельной позиции Заказа с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Заказа на производство.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "processingorderposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
  "quantity": 45,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0de151c1-acdc-11e6-5bed-427b00000080",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
    }
  },
  "reserve": 45
}

Изменить позицию
Запрос на обновление отдельной позиции Заказа. Для обновления позиции нет каких-либо
обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа на производство.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Заказа на производство.


Пример запроса на обновление отдельной позиции в Заказе на производство.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "meta": {
              "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
              "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
              "type": "processingorderposition",
              "mediaType": "application/json"
            },
            "id": "34f6344f-015e-11e6-9464-e4de0000006c",
            "quantity": 111,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/eeef177f-f648-11e5-8a84-bae50000007a",
                "type": "product",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной позиции Заказа на производство.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
    "type": "processingorderposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "quantity": 111,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/eeef177f-f648-11e5-8a84-bae50000007a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
    }
  },
  "reserve": 0
}
Удалить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа на производство.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Заказа на производство.


Запрос на удаление позиции Заказа на производство с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление позиции Заказа на производство.

Массовое удаление позиций
Параметры


Параметр
Описание



id
string (required) Example: 3e1c03bb-684f-11ee-ac12-000c000000b0 id Заказа на производство.


Запрос на массовое удаление позиций Заказа на производство.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "processingorderposition",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "processingorderposition",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление позиций Заказа на производство.

Заказ покупателяЗаказы покупателей
Средствами JSON API можно создавать и обновлять сведения о Заказах покупателя, запрашивать списки Заказов и сведения по отдельным Заказам покупателей. Позициями Заказов можно управлять как в составе отдельного Заказа покупателя, так и отдельно - с помощью специальных ресурсов для управления позициями Заказа. Кодом сущности для Заказа покупателя в составе JSON API является ключевое слово customerorder. Больше о Заказах покупателей и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по этой ссылке. Также в Заказе покупателя поддерживается протокол оповещения об изменениях виджетов вендоров - change-handler. Подробнее см. в документации для вендоров о виджетах.
Атрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтенияChange-handler


agent
Meta
= !=
Метаданные контрагентаОбязательное при ответе Expand Необходимо при созданииChange-handler Update-provider


agentAccount
Meta

Метаданные счета контрагентаExpandChange-handler Update-provider


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе Change-handler Update-provider


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объектаChange-handler Update-provider


code
String(255)
= != ~ ~= =~
Код Заказа покупателя


contract
Meta
= !=
Метаданные договораExpandChange-handler Update-provider


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтенияChange-handler


deleted
DateTime
= != < > <= >=
Момент последнего удаления Заказа покупателяТолько для чтения


deliveryPlannedMoment
DateTime
= != < > <= >=
Планируемая дата отгрузкиChange-handler Update-provider


description
String(4096)
= != ~ ~= =~
Комментарий Заказа покупателяChange-handler Update-provider


externalCode
String(255)
= != ~ ~= =~
Внешний код Заказа покупателяОбязательное при ответеChange-handler Update-provider


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID Заказа покупателяОбязательное при ответе Только для чтенияChange-handler


invoicedSum
Float

Сумма счетов покупателюОбязательное при ответе Только для чтенияChange-handler


meta
Meta

Метаданные Заказа покупателяОбязательное при ответеChange-handler


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответеChange-handler Update-provider


name
String(255)
= != ~ ~= =~
Наименование Заказа покупателяОбязательное при ответеChange-handler Update-provider


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при созданииChange-handler Update-provider


organizationAccount
Meta

Метаданные счета юрлицаExpandChange-handler Update-provider


owner
Meta
= !=
Владелец (Сотрудник)Expand


payedSum
Float

Сумма входящих платежей по ЗаказуОбязательное при ответе Только для чтенияChange-handler


positions
MetaArray

Метаданные позиций Заказа покупателяОбязательное при ответе ExpandChange-handler Update-provider


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


project
Meta
= !=
Метаданные проектаExpandChange-handler Update-provider


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


rate
Object

Валюта. Подробнее тутОбязательное при ответеChange-handler Update-provider


reservedSum
Float

Сумма товаров в резервеОбязательное при ответе Только для чтенияChange-handler


salesChannel
Meta
= !=
Метаданные канала продажExpand


shared
Boolean
= !=
Общий доступОбязательное при ответе


shipmentAddress
String(255)
= != ~ ~= =~
Адрес доставки Заказа покупателяChange-handler


shipmentAddressFull
Object

Адрес доставки Заказа покупателя с детализацией по отдельным полям. Подробнее тутChange-handler


shippedSum
Float

Сумма отгруженногоОбязательное при ответе Только для чтенияChange-handler


state
Meta
= !=
Метаданные статуса заказаExpandChange-handler Update-provider


store
Meta
= !=
Метаданные складаExpandChange-handler Update-provider


sum
Int
= != < > <= >=
Сумма Заказа в установленной валютеОбязательное при ответе Только для чтенияChange-handler


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


taxSystem
Enum

Код системы налогообложения. Подробнее тутChange-handler


updated
DateTime
= != < > <= >=
Момент последнего обновления Заказа покупателяОбязательное при ответе Только для чтенияChange-handler


vatEnabled
Boolean

Учитывается ли НДСОбязательное при ответеChange-handler Update-provider


vatIncluded
Boolean

Включен ли НДС в ценуChange-handler Update-provider


vatSum
Float

Сумма НДСОбязательное при ответе Только для чтенияChange-handler


Код системы налогообложения
Значения поля taxSystem.


Значение
Описание



GENERAL_TAX_SYSTEM
ОСН


SIMPLIFIED_TAX_SYSTEM_INCOME
УСН. Доход


SIMPLIFIED_TAX_SYSTEM_INCOME_OUTCOME
УСН. Доход-Расход


UNIFIED_AGRICULTURAL_TAX
ЕСХН


PRESUMPTIVE_TAX_SYSTEM
ЕНВД


PATENT_BASED
Патент


Связи с другими документами


Название
Описание



purchaseOrders
Массив ссылок на связанные заказы поставщикам в формате Метаданных


demands
Массив ссылок на связанные отгрузки в формате Метаданных


payments
Массив ссылок на связанные платежи в формате Метаданных


invoicesOut
Массив ссылок на связанные счета покупателям в формате Метаданных


moves
Массив ссылок на связанные перемещения в формате Метаданных


prepayments
Массив ссылок на связанные предоплаты в формате Метаданных


Позиции Заказа покупателя
Позиции Заказа - это список товаров/услуг/модификаций/серий/комплектов.
Объект позиции Заказа содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтенияChange-handler


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияОбязательное при ответе ExpandChange-handler Update-provider


discount
Int
Процент скидки или наценки. Наценка указывается отрицательным числом, т.е. -10 создаст наценку в 10%Обязательное при ответеChange-handler Update-provider


id
UUID
ID позицииОбязательное при ответе Только для чтенияChange-handler Update-provider


pack
Object
Упаковка Товара. Подробнее тутChange-handler Update-provider


price
Float
Цена товара/услуги в копейкахОбязательное при ответеChange-handler Update-provider


quantity
Float
Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.Обязательное при ответеChange-handler Update-provider


reserve
Float
Резерв данной позицииChange-handler Update-provider


shipped
Float
ДоставленоОбязательное при ответе Только для чтения Change-handler


taxSystem
Enum
Код системы налогообложения. Подробнее тут


vat
Int
НДС, которым облагается текущая позицияОбязательное при ответеChange-handler Update-provider


vatEnabled
Boolean
Включен ли НДС для позиции. С помощью этого флага для позиции можно выставлять НДС = 0 или НДС = "без НДС". (vat = 0, vatEnabled = false) -> vat = "без НДС", (vat = 0, vatEnabled = true) -> vat = 0%.Обязательное при ответеChange-handler Update-provider


С позициями можно работать с помощью специальных ресурсов для управления позициями Заказа,
а также в составе отдельного Заказа покупателя. При работе в составе отдельного Заказа покупателя,
вы можете отправлять запросы на создание отдельного Заказа покупателя с включенным в тело запроса
массивом позиций Заказа. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Заказа покупателя".
Также, при работе в составе отдельного Заказа покупателя, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Заказа. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Заказа" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
О работе с доп. полями Заказов покупателей можно прочитать здесь
Атрибуты сущности Адрес доставки


Название
Тип
Описание



addInfo
String(255)
Другое


apartment
String(30)
Квартира


city
String(255)
Город


comment
String(255)
Комментарий


country
Meta
Метаданные страны


house
String(30)
Дом


postalCode
String(6)
Почтовый индекс


region
Meta
Метаданные региона


street
String(255)
Улица


Строка адреса является конкатенацией полей структурированного адреса в следующем порядке: postalCode -> country -> region -> city -> street -> house -> apartment -> addInfo, используя запятую в качестве разделителя.
При передаче в МойСклад сущностей с адресом используйте либо строковый адрес, либо структурированный.
При передаче обоих адресов строковый будет игнорирован.
При передаче только строкового он будет отражаться как в строковом поле так и в addInfo структурированного адреса.
Для адреса не поддерживается значение null. Передача null этому атрибуту не приведет к его удалению.
Для удаления адреса необходимо в строковое поле shipmentAddress передать пустую строку "".
Получить список Заказов покупателей
Запрос всех Заказов покупателей на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Заказы покупателей.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить список Заказов покупателей
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/customerorder"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Заказов покупателей.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder",
    "type": "customerorder",
    "mediaType": "application/json",
    "size": 1,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/34efe2ee-015e-11e6-9464-e4de0000006b",
        "type": "customerorder",
        "mediaType": "application/json"
      },
      "id": "34efe2ee-015e-11e6-9464-e4de0000006b",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
      "updated": "2016-04-14 12:03:05",
      "name": "00001",
      "description": "Это комментарий к заказу покупателя!",
      "externalCode": "CntjFix4hoyZOIhZiULjv2",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "moment": "2016-04-13 12:57:00",
      "applicable": true,
      "created": "2007-02-07 17:16:41",
      "printed": true,
      "published": true,
      "vatEnabled": true,
      "vatIncluded": true,
      "sum": 346453701206,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/bc1b4fde-019a-11e6-9464-e4de00000073",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        },
        "value": 214
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "contract": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/8ce3c179-015e-11e6-9464-e4de0000007a",
          "type": "contract",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "state": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
          "type": "state",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/850c8af2-f504-11e5-8a84-bae50000015f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "agentAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078/accounts/9794f7a0-f689-11e5-8a84-bae500000079",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "salesChannel": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
          "type": "saleschannel",
          "mediaType": "application/json"
        }
      },
      "attributes": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
            "type": "attributemetadata",
            "mediaType": "application/json"
          },
          "id": "c2ecd338-015e-11e6-9464-e4de0000008f",
          "name": "AttributeName1",
          "type": "string",
          "value": "1251252"
        }
      ],
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/34efe2ee-015e-11e6-9464-e4de0000006b/positions",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
          "type": "customerorderposition",
          "mediaType": "application/json",
          "size": 4,
          "limit": 1000,
          "offset": 0
        }
      },
      "reservedSum": 346389501206,
      "deliveryPlannedMoment": "2016-04-15 12:58:00",
      "payedSum": 365939611804,
      "shippedSum": 408739611676,
      "invoicedSum": 408739611676,
      "taxSystem": "GENERAL_TAX_SYSTEM",
      "shipmentAddress":"125009, Россия, г Москва, Москва, ул Тверская, 1, 123, addInfo",
      "shipmentAddressFull":{
        "postalCode":"125009",
        "country":{
          "meta":{
            "href":"https://api.moysklad.ru/api/remap/1.2/entity/country/9df7c2c3-7782-4c5c-a8ed-1102af611608",
            "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
            "type":"country",
            "mediaType":"application/json"
          }
        },
        "region":{
          "meta":{
            "href":"https://api.moysklad.ru/api/remap/1.2/entity/region/00000000-0000-0000-0000-000000000077",
            "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/region/metadata",
            "type":"region",
            "mediaType":"application/json"
          }
        },
        "city":"Москва",
        "street":"ул Тверская",
        "house":"1",
        "apartment":"123",
        "addInfo":"addinfo",
        "comment":"some words about address"
      }
    }
  ]
}
Создать Заказ покупателя
Запрос на создание нового Заказа покупателя.
Обязательные для создания поля:


Параметр
Описание



organization
Ссылка на ваше юрлицо в формате Метаданных


agent
Ссылка на контрагента (покупателя) в формате Метаданных


Пример создания нового Заказа с телом запроса, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/customerorder"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Заказа покупателя.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/d9ceb08f-01ae-11e6-9464-e4de00000020",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
    "type": "customerorder",
    "mediaType": "application/json"
  },
  "id": "d9ceb08f-01ae-11e6-9464-e4de00000020",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-14 13:02:24",
  "name": "00003",
  "externalCode": "08ehdxhRgVIB5-Sa-QNI42",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-14 13:02:24",
  "applicable": true,
  "vatEnabled": true,
  "vatIncluded": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/3a30e844-016f-11e6-9464-e4de00000068",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078/accounts/9794f7a0-f689-11e5-8a84-bae500000079",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/d9ceb08f-01ae-11e6-9464-e4de00000020/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
      "type": "customerorderposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "reservedSum": 0,
  "payedSum": 0,
  "shippedSum": 0,
  "invoicedSum": 0
}

Пример создания нового Заказа с более насыщенным телом запроса.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/customerorder"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "000034",
            "owner": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                "type": "employee",
                "mediaType": "application/json"
              }
            },
            "shared": false,
            "group": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                "type": "group",
                "mediaType": "application/json"
              }
            },
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "code": "1243521",
            "moment": "2016-04-19 13:50:24",
            "applicable": false,
            "vatEnabled": false,
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "state": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
                "type": "state",
                "mediaType": "application/json"
              }
            },
            "shipmentAddressFull":{  
              "postalCode":"125009",
              "country":{  
                "meta":{  
                  "href":"https://api.moysklad.ru/api/remap/1.2/entity/country/9df7c2c3-7782-4c5c-a8ed-1102af611608",
                  "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
                  "type":"country",
                  "mediaType":"application/json"
                }
              },
              "region":{  
                "meta":{  
                  "href":"https://api.moysklad.ru/api/remap/1.2/entity/region/00000000-0000-0000-0000-000000000077",
                  "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/region/metadata",
                  "type":"region",
                  "mediaType":"application/json"
                }
              },
              "city":"Москва",
              "street":"ул Тверская",
              "house":"1",
              "apartment":"123",
              "addInfo":"addinfo",
              "comment":"some words about address"
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Заказа покупателя.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c49e83b3-01af-11e6-9464-e4de00000026",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
    "type": "customerorder",
    "mediaType": "application/json"
  },
  "id": "c49e83b3-01af-11e6-9464-e4de00000026",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-14 13:08:58",
  "name": "000034",
  "code": "1243521",
  "externalCode": "DAD9peGij6sDNii49Dkam2",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-19 13:50:24",
  "applicable": false,
  "vatEnabled": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterperty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/3a30e844-016f-11e6-9464-e4de00000068",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078/accounts/9794f7a0-f689-11e5-8a84-bae500000079",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c49e83b3-01af-11e6-9464-e4de00000026/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
      "type": "customerorderposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "reservedSum": 0,
  "payedSum": 0,
  "shippedSum": 0,
  "invoicedSum": 0,
  "shipmentAddress":"125009, Россия, г Москва, Москва, ул Тверская, 1, 123, addInfo",
  "shipmentAddressFull":{
    "postalCode":"125009",
    "country":{
      "meta":{
        "href":"https://api.moysklad.ru/api/remap/1.2/entity/country/9df7c2c3-7782-4c5c-a8ed-1102af611608",
        "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
        "type":"country",
        "mediaType":"application/json"
      }
    },
    "region":{
      "meta":{
        "href":"https://api.moysklad.ru/api/remap/1.2/entity/region/00000000-0000-0000-0000-000000000077",
        "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/region/metadata",
        "type":"region",
        "mediaType":"application/json"
      }
    },
    "city":"Москва",
    "street":"ул Тверская",
    "house":"1",
    "apartment":"123",
    "addInfo":"addinfo",
    "comment":"some words about address"
  }
}

Пример запроса на создание Заказа покупателя с доп. полями.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/customerorder"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name" : "000034",
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "code" : "1243521",
            "moment": "2016-04-19 13:50:24",
            "applicable": false,
            "vatEnabled": false,
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "state": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
                "type": "state",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "Атрибут заказа",
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Заказа покупателя.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c49e83b3-01af-11e6-9464-e4de00000026",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
    "type": "customerorder",
    "mediaType": "application/json"
  },
  "id": "c49e83b3-01af-11e6-9464-e4de00000026",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-14 13:08:58",
  "name": "000034",
  "code": "1243521",
  "externalCode": "DAD9peGij6sDNii49Dkam2",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-19 13:50:24",
  "applicable": false,
  "vatEnabled": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/3a30e844-016f-11e6-9464-e4de00000068",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078/accounts/9794f7a0-f689-11e5-8a84-bae500000079",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c2ecd338-015e-11e6-9464-e4de0000008f",
      "name": "AttributeName1",
      "type": "string",
      "value": "Атрибут заказа",
    }
  ],
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c49e83b3-01af-11e6-9464-e4de00000026/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
      "type": "customerorderposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "reservedSum": 0,
  "payedSum": 0,
  "shippedSum": 0,
  "invoicedSum": 0
}

Пример запроса на создание Заказа покупателя с позициями в теле запроса.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/customerorder"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "000034",
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "code": "1243521",
            "moment": "2016-04-19 13:50:24",
            "applicable": false,
            "vatEnabled": false,
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "state": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
                "type": "state",
                "mediaType": "application/json"
              }
            },
            "positions": [
              {
                "quantity": 10,
                "price": 100.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/8b382799-f7d2-11e5-8a84-bae5000003a5",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                },
                "reserve": 10
              },
              {
                "quantity": 20,
                "price": 200.0,
                "discount": 0,
                "vat": 21,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/be903062-f504-11e5-8a84-bae50000019a",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                },
                "reserve": 20
              },
              {
                "quantity": 30,
                "price": 300.0,
                "discount": 0,
                "vat": 7,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/c02e3a5c-007e-11e6-9464-e4de00000006",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                },
                "pack": {
                  "id": "1bf22e62-8b47-11e8-56c0-000800000006"
                },
                "reserve": 30
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Заказа покупателя.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c49e83b3-01af-11e6-9464-e4de00000026",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
    "type": "customerorder",
    "mediaType": "application/json"
  },
  "id": "c49e83b3-01af-11e6-9464-e4de00000026",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "version": 0,
  "updated": "2016-04-14 13:08:58",
  "name": "000034",
  "code": "1243521",
  "externalCode": "DAD9peGij6sDNii49Dkam2",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-19 13:50:24",
  "applicable": false,
  "vatEnabled": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterperty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/3a30e844-016f-11e6-9464-e4de00000068",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078/accounts/9794f7a0-f689-11e5-8a84-bae500000079",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "documents": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/06406b97-9138-11e6-8a84-bae500000000/documents",
      "mediaType": "application/json",
      "size": 0,
      "limit": 100,
      "offset": 0
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c49e83b3-01af-11e6-9464-e4de00000026/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
      "type": "customerorderposition",
      "mediaType": "application/json",
      "size": 3,
      "limit": 100,
      "offset": 0
    }
  },
  "reservedSum": 10000,
  "payedSum": 0,
  "shippedSum": 0,
  "invoicedSum": 0
}
Массовое создание и обновление Заказов покупателей
Массовое создание и обновление Заказов покупателей.
В теле запроса нужно передать массив, содержащий JSON представления Заказов покупателей, которые вы хотите создать или обновить.
Обновляемые Заказы покупателей должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Заказов покупателей
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/customerorder"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "name": "00003",
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
                  "type": "counterparty",
                  "mediaType": "application/json"
                }
              }
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c49e83b3-01af-11e6-9464-e4de00000026",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
                "type": "customerorder",
                "mediaType": "application/json"
              },
              "name": "000039",
              "group": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/ee2d9c89-1fea-4791-8c99-722e8f8294d0",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                  "type": "group",
                  "mediaType": "application/json"
                }
              },
              "externalCode": "championCode",
              "code": "codeOfChampion",
              "moment": "2013-04-19 13:50:24",
              "applicable": true,
              "vatEnabled": true,
              "vatIncluded": true,
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/71d48933-fd85-11e5-9464-e4de00000005",
                  "type": "counterparty",
                  "mediaType": "application/json"
                }
              },
              "agentAccount": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/71d48933-fd85-11e5-9464-e4de00000005/accounts/71d4cfdb-fd85-11e5-9464-e4de00000006",
                  "type": "account",
                  "mediaType": "application/json"
                }
              },
              "state": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
                  "type": "state",
                  "mediaType": "application/json"
                }
              }
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Заказов покупателей.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/d9ceb08f-01ae-11e6-9464-e4de00000020",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
      "type": "customerorder",
      "mediaType": "application/json"
    },
    "id": "d9ceb08f-01ae-11e6-9464-e4de00000020",
    "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
    "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
    "updated": "2016-04-14 13:02:24",
    "name": "00003",
    "externalCode": "08ehdxhRgVIB5-Sa-QNI42",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "moment": "2016-04-14 13:02:24",
    "applicable": true,
    "vatEnabled": true,
    "vatIncluded": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 0,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "state": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
        "type": "state",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/3a30e844-016f-11e6-9464-e4de00000068",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "agentAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078/accounts/9794f7a0-f689-11e5-8a84-bae500000079",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "created": "2007-02-07 17:16:41",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/d9ceb08f-01ae-11e6-9464-e4de00000020/positions",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
        "type": "customerorderposition",
        "mediaType": "application/json",
        "size": 0,
        "limit": 1000,
        "offset": 0
      }
    },
    "reservedSum": 0,
    "payedSum": 0,
    "shippedSum": 0,
    "invoicedSum": 0
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c49e83b3-01af-11e6-9464-e4de00000026",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
      "type": "customerorder",
      "mediaType": "application/json"
    },
    "id": "c49e83b3-01af-11e6-9464-e4de00000026",
    "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
    "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
    "updated": "2016-04-14 13:30:05",
    "name": "000039",
    "code": "codeOfChampion",
    "externalCode": "championCode",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/ee2d9c89-1fea-4791-8c99-722e8f8294d0",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "moment": "2013-04-19 12:50:24",
    "applicable": true,
    "vatEnabled": true,
    "vatIncluded": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 0,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/71d48933-fd85-11e5-9464-e4de00000005",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "state": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
        "type": "state",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/3a30e844-016f-11e6-9464-e4de00000068",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "agentAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/71d48933-fd85-11e5-9464-e4de00000005/accounts/71d4cfdb-fd85-11e5-9464-e4de00000006",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "created": "2007-02-07 17:16:41",
    "printed": true,
    "published": true,    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c49e83b3-01af-11e6-9464-e4de00000026/positions",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
        "type": "customerorderposition",
        "mediaType": "application/json",
        "size": 3,
        "limit": 1000,
        "offset": 0
      }
    },
    "reservedSum": 0,
    "payedSum": 0,
    "shippedSum": 0,
    "invoicedSum": 0
  }
]
Удалить Заказ покупателя
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа покупателя.


Запрос на удаление Заказа покупателя с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Заказа покупателя.

Метаданные Заказов покупателейМетаданные Заказов покупателей
Запрос на получение метаданных Заказов покупателей. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Заказов покупателей


attributes
Массив объектов доп. полей Заказов покупателей в формате Метаданных


states
Массив статусов Заказов покупателей


createShared
создавать новые Заказы покупателей с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Массовое удаление Заказов покупателей
В теле запроса нужно передать массив, содержащий JSON метаданных Заказов покупателей, которые вы хотите удалить.
Запрос на массовое удаление Заказов покупателей. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
                "type": "customerorder",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
                "type": "customerorder",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Заказов покупателей.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'customerorder' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'customerorder' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]

Метаданные Заказов покупателей
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Заказов покупателей.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/attributes/c2ecd338-015e-11e6-9464-e4de0000008f",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "name": "AttributeName1",
      "type": "boolean",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56c504-2e58-11e6-8a84-bae500000069",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Новый",
      "color": 15106326,
      "stateType": "Regular",
      "entityType": "customerorder"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56cae3-2e58-11e6-8a84-bae50000006a",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56cae3-2e58-11e6-8a84-bae50000006a",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Подтвержден",
      "color": 40931,
      "stateType": "Regular",
      "entityType": "customerorder"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56cf4f-2e58-11e6-8a84-bae50000006b",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56cf4f-2e58-11e6-8a84-bae50000006b",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Собран",
      "color": 8767198,
      "stateType": "Regular",
      "entityType": "customerorder"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56d433-2e58-11e6-8a84-bae50000006c",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56d433-2e58-11e6-8a84-bae50000006c",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Отгружен",
      "color": 10774205,
      "stateType": "Regular",
      "entityType": "customerorder"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56d92f-2e58-11e6-8a84-bae50000006d",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56d92f-2e58-11e6-8a84-bae50000006d",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Доставлен",
      "color": 8825440,
      "stateType": "Successful",
      "entityType": "customerorder"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56de0a-2e58-11e6-8a84-bae50000006e",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56de0a-2e58-11e6-8a84-bae50000006e",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Возврат",
      "color": 15280409,
      "stateType": "Unsuccessful",
      "entityType": "customerorder"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56e2b4-2e58-11e6-8a84-bae50000006f",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56e2b4-2e58-11e6-8a84-bae50000006f",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Отменен",
      "color": 15280409,
      "stateType": "Unsuccessful",
      "entityType": "customerorder"
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Отдельное доп. поле
Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/attributes/57ab884e-558b-11e6-8a84-bae500000078",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "57ab884e-558b-11e6-8a84-bae500000078",
  "name": "AttributeName1",
  "type": "boolean",
  "required": false
}
Заказ покупателяПолучить Заказ покупателя
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа покупателя.


Запрос на получение отдельного Заказа покупателя с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Заказа покупателя.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/34efe2ee-015e-11e6-9464-e4de0000006b",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
    "type": "customerorder",
    "mediaType": "application/json"
  },
  "id": "34efe2ee-015e-11e6-9464-e4de0000006b",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-14 12:03:05",
  "name": "00001",
  "description": "Это комментарий к заказу покупателя!",
  "externalCode": "CntjFix4hoyZOIhZiULjv2",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-13 12:57:00",
  "applicable": true,
  "vatEnabled": true,
  "vatIncluded": true,
  "printed": true,
  "published": true,
  "sum": 346453701206,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/bc1b4fde-019a-11e6-9464-e4de00000073",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    },
    "value": 214
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/8ce3c179-015e-11e6-9464-e4de0000007a",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/850c8af2-f504-11e5-8a84-bae50000015f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078/accounts/9794f7a0-f689-11e5-8a84-bae500000079",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "salesChannel": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
      "type": "saleschannel",
      "mediaType": "application/json"
    }
  },
  "attributes": [{
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/attributes/c2ecd338-015e-11e6-9464-e4de0000008f",
      "type": "attributemetadata",
      "mediaType": "application/json"
    },
    "id": "c2ecd338-015e-11e6-9464-e4de0000008f",
    "name": "AttributeName1",
    "type": "long",
    "value": "1251252"
  }],
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/34efe2ee-015e-11e6-9464-e4de0000006b/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
      "type": "customerorderposition",
      "mediaType": "application/json",
      "size": 4,
      "limit": 1000,
      "offset": 0
    }
  },
  "reservedSum": 346389501206,
  "deliveryPlannedMoment": "2016-04-15 12:58:00",
  "payedSum": 365939611804,
  "shippedSum": 408739611676,
  "invoicedSum": 408739611676,
  "shipmentAddress":"125009, Россия, г Москва, Москва, ул Тверская, 1, 123, addInfo",
  "shipmentAddressFull":{
    "postalCode":"125009",
    "country":{
      "meta":{
        "href":"https://api.moysklad.ru/api/remap/1.2/entity/country/9df7c2c3-7782-4c5c-a8ed-1102af611608",
        "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
        "type":"country",
        "mediaType":"application/json"
      }
    },
    "region":{
      "meta":{
        "href":"https://api.moysklad.ru/api/remap/1.2/entity/region/00000000-0000-0000-0000-000000000077",
        "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/region/metadata",
        "type":"region",
        "mediaType":"application/json"
      }
    },
    "city":"Москва",
    "street":"ул Тверская",
    "house":"1",
    "apartment":"123",
    "addInfo":"addinfo",
    "comment":"some words about address"
  }
}
Изменить Заказ покупателя
Запрос на обновление Заказа покупателя с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Заказа покупателя, кроме тех, что
помечены Только для чтения в описании атрибутов Заказа покупателя.
При обновлении полей organization и agent нужно также обновить поля organizationAccount и
agentAccount соответственно, иначе произойдет ошибка.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа покупателя.


Пример запроса на обновление отдельного Заказа покупателя.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "000039",
            "group": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/ee2d9c89-1fea-4791-8c99-722e8f8294d0",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                "type": "group",
                "mediaType": "application/json"
              }
            },
            "externalCode": "championCode",
            "code": "codeOfChampion",
            "moment": "2013-04-19 13:50:24",
            "applicable": true,
            "vatEnabled": true,
            "vatIncluded": true,
            "agent": {
              "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/71d48933-fd85-11e5-9464-e4de00000005",
                  "type": "counterparty",
                  "mediaType": "application/json"
              }
            },
            "agentAccount": {
              "meta": {
                          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/71d48933-fd85-11e5-9464-e4de00000005/accounts/71d4cfdb-fd85-11e5-9464-e4de00000006",
                          "type": "account",
                          "mediaType": "application/json"
                      }
            },
            "state": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
                "type": "state",
                "mediaType": "application/json"
              }
            },
           "shipmentAddressFull":{  
              "postalCode":"125009",
              "country":{  
                "meta":{  
                  "href":"https://api.moysklad.ru/api/remap/1.2/entity/country/9df7c2c3-7782-4c5c-a8ed-1102af611608",
                  "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
                  "type":"country",
                  "mediaType":"application/json"
                }
              },
              "region":{  
                "meta":{  
                  "href":"https://api.moysklad.ru/api/remap/1.2/entity/region/00000000-0000-0000-0000-000000000077",
                  "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/region/metadata",
                  "type":"region",
                  "mediaType":"application/json"
                }
              },
              "city":"Москва",
              "street":"ул Тверская",
              "house":"1",
              "apartment":"111",
              "addInfo":"addinfo",
              "comment":"some words about address"
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Заказа покупателя.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c49e83b3-01af-11e6-9464-e4de00000026",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
    "type": "customerorder",
    "mediaType": "application/json"
  },
  "id": "c49e83b3-01af-11e6-9464-e4de00000026",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-14 13:30:05",
  "name": "000039",
  "code": "codeOfChampion",
  "externalCode": "championCode",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/ee2d9c89-1fea-4791-8c99-722e8f8294d0",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2013-04-19 12:50:24",
  "applicable": true,
  "vatEnabled": true,
  "vatIncluded": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/71d48933-fd85-11e5-9464-e4de00000005",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/3a30e844-016f-11e6-9464-e4de00000068",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/71d48933-fd85-11e5-9464-e4de00000005/accounts/71d4cfdb-fd85-11e5-9464-e4de00000006",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c49e83b3-01af-11e6-9464-e4de00000026/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
      "type": "customerorderposition",
      "mediaType": "application/json",
      "size": 3,
      "limit": 1000,
      "offset": 0
    }
  },
  "reservedSum": 0,
  "payedSum": 0,
  "shippedSum": 0,
  "invoicedSum": 0,
  "shipmentAddress":"125009, Россия, г Москва, Москва, ул Тверская, 1, 111, addInfo",
  "shipmentAddressFull":{  
    "postalCode":"125009",
    "country":{  
      "meta":{  
        "href":"https://api.moysklad.ru/api/remap/1.2/entity/country/9df7c2c3-7782-4c5c-a8ed-1102af611608",
        "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
        "type":"country",
        "mediaType":"application/json"
      }
    },
    "region":{  
      "meta":{  
        "href":"https://api.moysklad.ru/api/remap/1.2/entity/region/00000000-0000-0000-0000-000000000077",
        "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/region/metadata",
        "type":"region",
        "mediaType":"application/json"
      }
    },
    "city":"Москва",
    "street":"ул Тверская",
    "house":"1",
    "apartment":"111",
    "addInfo":"addinfo",
    "comment":"some words about address"
  }
}

Пример запроса на изменение Заказа покупателя с дополнительными полями.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "000039",
            "externalCode": "championCode",
            "code": "codeOfChampion",
            "moment": "2013-04-19 13:50:24",
            "applicable": true,
            "vatEnabled": true,
            "vatIncluded": true,
            "agent": {
              "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/71d48933-fd85-11e5-9464-e4de00000005",
                  "type": "counterparty",
                  "mediaType": "application/json"
              }
            },
            "agentAccount": {
              "meta": {
                          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/71d48933-fd85-11e5-9464-e4de00000005/accounts/71d4cfdb-fd85-11e5-9464-e4de00000006",
                          "type": "account",
                          "mediaType": "application/json"
                      }
            },
            "state": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
                "type": "state",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "Обновленный Атрибут заказа",
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Заказа покупателя.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c49e83b3-01af-11e6-9464-e4de00000026",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
    "type": "customerorder",
    "mediaType": "application/json"
  },
  "id": "c49e83b3-01af-11e6-9464-e4de00000026",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-14 13:30:05",
  "name": "000039",
  "code": "codeOfChampion",
  "externalCode": "championCode",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2013-04-19 12:50:24",
  "applicable": true,
  "vatEnabled": true,
  "vatIncluded": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/71d48933-fd85-11e5-9464-e4de00000005",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/3a30e844-016f-11e6-9464-e4de00000068",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/71d48933-fd85-11e5-9464-e4de00000005/accounts/71d4cfdb-fd85-11e5-9464-e4de00000006",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c2ecd338-015e-11e6-9464-e4de0000008f",
      "name": "AttributeName1",
      "type": "string",
      "value": "Обновленный Атрибут заказа"
    }
  ],
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c49e83b3-01af-11e6-9464-e4de00000026/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
      "type": "customerorderposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "reservedSum": 0,
  "payedSum": 0,
  "shippedSum": 0,
  "invoicedSum": 0
}

Пример запроса на обновление Заказа покупателя с позициями в теле запроса.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "000039",
            "externalCode": "championCode",
            "code": "codeOfChampion",
            "moment": "2013-04-19 13:50:24",
            "applicable": true,
            "vatEnabled": true,
            "vatIncluded": true,
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/71d48933-fd85-11e5-9464-e4de00000005",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "agentAccount": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/71d48933-fd85-11e5-9464-e4de00000005/accounts/71d4cfdb-fd85-11e5-9464-e4de00000006",
                "type": "account",
                "mediaType": "application/json"
              }
            },
            "state": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
                "type": "state",
                "mediaType": "application/json"
              }
            },
            "positions": [
              {
                "id": "34f6344f-015e-11e6-9464-e4de0000006c",
                "quantity": 10,
                "price": 100.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/8b382799-f7d2-11e5-8a84-bae5000003a5",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                },
                "reserve": 10
              },
              {
                "id": "34f6344f-015e-11e6-9464-e4de0000006d",
                "quantity": 20,
                "price": 200.0,
                "discount": 0,
                "vat": 21,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/be903062-f504-11e5-8a84-bae50000019a",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                },
                "reserve": 20
              },
              {
                "id": "34f6344f-015e-11e6-9464-e4de0000006e",
                "quantity": 30,
                "price": 300.0,
                "discount": 0,
                "vat": 7,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/c02e3a5c-007e-11e6-9464-e4de00000006",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                },
                "reserve": 30
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Заказа покупателя.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c49e83b3-01af-11e6-9464-e4de00000026",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
    "type": "customerorder",
    "mediaType": "application/json"
  },
  "id": "c49e83b3-01af-11e6-9464-e4de00000026",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-14 13:30:05",
  "name": "000039",
  "code": "codeOfChampion",
  "externalCode": "championCode",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/ee2d9c89-1fea-4791-8c99-722e8f8294d0",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2013-04-19 12:50:24",
  "applicable": true,
  "vatEnabled": true,
  "vatIncluded": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/71d48933-fd85-11e5-9464-e4de00000005",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/3a30e844-016f-11e6-9464-e4de00000068",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/71d48933-fd85-11e5-9464-e4de00000005/accounts/71d4cfdb-fd85-11e5-9464-e4de00000006",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c49e83b3-01af-11e6-9464-e4de00000026/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
      "type": "customerorderposition",
      "mediaType": "application/json",
      "size": 3,
      "limit": 1000,
      "offset": 0
    }
  },
  "reservedSum": 0,
  "payedSum": 0,
  "shippedSum": 0,
  "invoicedSum": 0
}
Позиции Заказа покупателя
Отдельный ресурс для управления позициями Заказа покупателя. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить позиции Заказа покупателя
Запрос на получение списка всех позиций данного Заказа покупателя.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой позиции Заказа покупателя.


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа покупателя.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Запрос на получение списка всех позиций данного Заказа покупателя.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19/positions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного Заказа покупателя.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19/positions",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
    "type": "customerorderposition",
    "mediaType": "application/json",
    "size": 4,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
        "type": "customerorderposition",
        "mediaType": "application/json"
      },
      "id": "34f6344f-015e-11e6-9464-e4de0000006c",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "quantity": 1,
      "price": 123050.0,
      "discount": 0,
      "vat": 18,
      "vatEnabled": true,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/66ccbc9f-f7d2-11e5-8a84-bae500000076",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e639e90c-2a99-11e9-ac12-000c0000003e"
        }
      },
      "reserve": 1
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6451e-015e-11e6-9464-e4de0000006d",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
        "type": "customerorderposition",
        "mediaType": "application/json"
      },
      "id": "34f6451e-015e-11e6-9464-e4de0000006d",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "quantity": 1,
      "price": 64200000.0,
      "discount": 0,
      "vat": 18,
      "vatEnabled": true,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/60fc3826-00d7-11e6-9464-e4de00000097",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e639e90c-2a99-11e9-ac12-000c0000003e"
        }
      },
      "reserve": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6551d-015e-11e6-9464-e4de0000006e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
        "type": "customerorderposition",
        "mediaType": "application/json"
      },
      "id": "34f6551d-015e-11e6-9464-e4de0000006e",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "quantity": 1,
      "price": 346347237062.0,
      "discount": 0,
      "vat": 18,
      "vatEnabled": true,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/56c73633-ffe4-11e5-9464-e4de000000c6",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "variant",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=e639e90c-2a99-11e9-ac12-000c00001222"
        }
      },
      "reserve": 1
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19/positions/34f66948-015e-11e6-9464-e4de0000006f",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
        "type": "customerorderposition",
        "mediaType": "application/json"
      },
      "id": "34f66948-015e-11e6-9464-e4de0000006f",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "quantity": 1,
      "price": 42141094.0,
      "discount": 0,
      "vat": 18,
      "vatEnabled": true,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/66cc36dc-f7d2-11e5-8a84-bae500000074",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
          "type": "variant",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3c6dc9b8-2842-11e9-ac12-000c00000071"
        }
      },
      "reserve": 1
    }
  ]
}
Позиция Заказа покупателя
Отдельная позиция Заказа с указанным id позиции.
Получить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа покупателя.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Заказа покупателя.


Запрос на получение отдельной позиции Заказа с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Заказа покупателя.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
    "type": "customerorderposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "quantity": 1,
  "price": 123050.0,
  "discount": 0,
  "vat": 18,
  "vatEnabled": true,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/66ccbc9f-f7d2-11e5-8a84-bae500000076",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=392c045c-2842-11e9-ac12-000a00000002"
    }
  },
  "reserve": 1
}
Создать позицию
Запрос на создание новой позиции в Заказе покупателя.
Для успешного создания необходимо в теле запроса указать следующие поля:

assortment - Ссылка на товар/услугу/серию/модификацию/комплект, которую представляет собой позиция.

Также можно указать поле с именем product, service, consignment, variant, bundle в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании позиции Заказа

quantity - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа покупателя.


Пример создания одной позиции в Заказе покупателя.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 49,
            "price": 12345.0,
            "discount": 0.0,
            "vat": 18,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/66ccbc9f-f7d2-11e5-8a84-bae500000076",
                "type": "product",
                "mediaType": "application/json"
              }
            },
            "reserve": 19
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного Заказа покупателя.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19/positions/a7a61c8b-acdd-11e6-8a84-bae500000000",
      "type": "customerorderposition",
      "mediaType": "application/json"
    },
    "id": "a7a61c8b-acdd-11e6-8a84-bae500000000",
    "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
    "quantity": 49,
    "price": 12345.0,
    "discount": 0.0,
    "vat": 18,
    "vatEnabled": true,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/66ccbc9f-f7d2-11e5-8a84-bae500000076",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3c6dc9b8-2842-11e9-ac12-000c00000071"
      }
    },
    "reserve": 19
  }
]

Пример создания сразу нескольких позиций в Заказе покупателя.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "quantity": 12,
              "price": 300.0,
              "vat": 0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a81082f-3c64-11e6-8a84-bae50000000e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                  "type": "variant",
                  "mediaType": "application/json"
                }
              },
              "reserve": 11
            },
            {
              "quantity": 3,
              "price": 1000.0,
              "discount": 0,
              "vat": 10,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/7a6f697f-3c64-11e6-8a84-bae500000006",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                  "type": "product",
                  "mediaType": "application/json"
                }
              },
              "reserve": 1
            },
            {
              "quantity": 404,
              "price": 454.0,
              "discount": 200,
              "vat": 21,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a83c422-3c64-11e6-8a84-bae500000012",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                  "type": "variant",
                  "mediaType": "application/json"
                }
              },
              "reserve": 216
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка созданных позиций отдельного Заказа покупателя.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19/positions/f389488d-3f71-11e6-8a84-bae50000005f",
      "type": "customerorderposition",
      "mediaType": "application/json"
    },
    "id": "f389488d-3f71-11e6-8a84-bae50000005f",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 12,
    "price": 300.0,
    "discount": 0,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a81082f-3c64-11e6-8a84-bae50000000e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
      }
    },
    "shipped": 0,
    "reserve": 11
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19/positions/f389521b-3f71-11e6-8a84-bae500000060",
      "type": "customerorderposition",
      "mediaType": "application/json"
    },
    "id": "f389521b-3f71-11e6-8a84-bae500000060",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 3,
    "price": 1000.0,
    "discount": 0,
    "vat": 10,
    "vatEnabled": true,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/7a6f697f-3c64-11e6-8a84-bae500000006",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
      }
    },
    "shipped": 0,
    "reserve": 1
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19/positions/f3895aa1-3f71-11e6-8a84-bae500000061",
      "type": "customerorderposition",
      "mediaType": "application/json"
    },
    "id": "f3895aa1-3f71-11e6-8a84-bae500000061",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 404,
    "price": 454.0,
    "discount": 200,
    "vat": 21,
    "vatEnabled": true,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a83c422-3c64-11e6-8a84-bae500000012",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=392c045c-2842-11e9-ac12-000a00000002"
      }
    },
    "shipped": 0,
    "reserve": 216
  }
]
Изменить позицию
Запрос на обновление отдельной позиции Заказа. Для обновления позиции нет каких-либо
обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа покупателя.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Заказа покупателя.


Пример запроса на обновление отдельной позиции в Заказе покупателя.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 111,
            "price": 26332700.0,
            "discount": 0,
            "vat": 18,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/eeef177f-f648-11e5-8a84-bae50000007a",
                "type": "product",
                "mediaType": "application/json"
              }
            },
            "reserve": 13
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной позиции Заказа покупателя.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
    "type": "customerorderposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "quantity": 111,
  "price": 26332700.0,
  "discount": 0,
  "vat": 18,
  "vatEnabled": true,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/eeef177f-f648-11e5-8a84-bae50000007a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=392c045c-2842-11e9-ac12-000a00000002"
    }
  },
  "reserve": 13
}
Удалить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа покупателя.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Заказа покупателя.


Запрос на удаление отдельной позиции Заказа с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление позиции Заказа.

Массовое удаление позиций
Параметры


Параметр
Описание



id
string (required) Example: 3e1c03bb-684f-11ee-ac12-000c000000b0 id Заказа покупателя.


Запрос на массовое удаление позиций Заказа покупателя.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "customerorderposition",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "customerorderposition",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление позиций Заказа покупателя. 

Заказ поставщикуЗаказы Поставщикам
Средствами JSON API можно создавать и обновлять сведения о Заказах поставщику, запрашивать списки Заказов и сведения по отдельным Заказам Поставщикам. Позициями Заказов можно управлять как в составе отдельного Заказа поставщику, так и отдельно - с помощью специальных ресурсов для управления позициями Заказа. Кодом сущности для Заказа поставщику в составе JSON API является ключевое слово purchaseorder. Больше о Заказах Поставщикам и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по этой ссылке.
Атрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


agent
Meta
= !=
Метаданные контрагентаОбязательное при ответе Expand Необходимо при создании


agentAccount
Meta

Метаданные счета контрагентаExpand


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта


code
String(255)
= != ~ ~= =~
Код Заказа поставщику


contract
Meta
= !=
Метаданные договораExpand


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления Заказа поставщикуТолько для чтения


deliveryPlannedMoment
DateTime
= != < > <= >=
Планируемая дата отгрузки


description
String(4096)
= != ~ ~= =~
Комментарий Заказа поставщику


externalCode
String(255)
= != ~ ~= =~
Внешний код Заказа поставщикуОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID Заказа поставщикуОбязательное при ответе Только для чтения


invoicedSum
Float

Сумма счетов поставщикуТолько для чтения


meta
Meta

Метаданные Заказа поставщикуОбязательное при ответе


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование Заказа поставщикуОбязательное при ответе


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании


organizationAccount
Meta

Метаданные счета юрлицаExpand


owner
Meta
= !=
Владелец (Сотрудник)Expand


payedSum
Float

Сумма входящих платежей по ЗаказуТолько для чтения


positions
MetaArray

Метаданные позиций Заказа поставщикуОбязательное при ответе Expand


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


project
Meta
= !=
Метаданные проектаExpand


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


rate
Object

Валюта. Подробнее тутОбязательное при ответе


shared
Boolean
= !=
Общий доступОбязательное при ответе


shippedSum
Float

Сумма принятогоТолько для чтения


state
Meta
= !=
Метаданные статуса заказаExpand


store
Meta
= !=
Метаданные складаExpand


sum
Int
= != < > <= >=
Сумма Заказа поставщику в установленной валютеТолько для чтения


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


updated
DateTime
= != < > <= >=
Момент последнего обновления Заказа поставщикуОбязательное при ответе Только для чтения


vatEnabled
Boolean

Учитывается ли НДСОбязательное при ответе


vatIncluded
Boolean

Включен ли НДС в цену


vatSum
Float

Сумма НДСТолько для чтения


waitSum
Float

Сумма товаров в пути


Связи с другими документами


Название
Описание



customerOrders
Массив ссылок на связанные заказы покупателей в формате Метаданных


invoicesIn
Массив ссылок на связанные счета поставщиков в формате Метаданных


payments
Массив ссылок на связанные платежи в формате Метаданных


supplies
Массив ссылок на связанные приемки в формате Метаданных


internalOrder
Внутренний заказ, связанный с заказом поставщику, в формате Метаданных


Позиции Заказа поставщику
Позиции Заказа - это список товаров/услуг/модификаций/серий.
Объект позиции Заказа содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияОбязательное при ответе Expand


discount
Float
Процент скидки или наценки. Наценка указывается отрицательным числом, т.е. -10 создаст наценку в 10%Обязательное при ответе


id
UUID
ID позицииОбязательное при ответе Только для чтения


pack
Object
Упаковка Товара. Подробнее тут


price
Float
Цена товара/услуги в копейкахОбязательное при ответе


quantity
Float
Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.Обязательное при ответе


shipped
Float
ПринятоОбязательное при ответе


inTransit
Float
ОжиданиеОбязательное при ответе


vat
Int
НДС, которым облагается текущая позицияОбязательное при ответе


vatEnabled
Boolean
Включен ли НДС для позиции. С помощью этого флага для позиции можно выставлять НДС = 0 или НДС = "без НДС". (vat = 0, vatEnabled = false) -> vat = "без НДС", (vat = 0, vatEnabled = true) -> vat = 0%.Обязательное при ответе


С позициями можно работать с помощью специальных ресурсов для управления позициями Заказа,
а также в составе отдельного Заказа поставщику. При работе в составе отдельного Заказа поставщику,
вы можете отправлять запросы на создание отдельного Заказа поставщику с включенным в тело запроса
массивом позиций Заказа. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Заказа поставщику".
Также, при работе в составе отдельного Заказа поставщику, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Заказа. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Заказа" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
О работе с доп. полями Заказов поставщикам можно прочитать здесь
Получить список Заказов Поставщикам
Запрос всех Заказов Поставщикам на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Заказы Поставщикам.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить список Заказов Поставщикам
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Заказов Поставщикам.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
    "type": "purchaseorder",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/172fb2f6-3f70-11e6-8a84-bae50000008e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
        "type": "purchaseorder",
        "mediaType": "application/json"
      },
      "id": "172fb2f6-3f70-11e6-8a84-bae50000008e",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-07-01 12:42:13",
      "name": "00002",
      "description": "Описание заказа",
      "externalCode": "FfSmVuSKi7h8L-jLADHV80",
      "moment": "2016-07-01 12:40:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/faf45b9a-2e58-11e6-8a84-bae500000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 5900,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "contract": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/e105a2e7-3f6f-11e6-8a84-bae500000087",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
          "type": "contract",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/722e39f0-313e-11e6-8a84-bae500000008",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/14ae5431-32ca-11e6-8a84-bae50000002d",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "state": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/states/11f5becd-3f70-11e6-8a84-bae50000008b",
          "type": "state",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "vatEnabled": true,
      "vatIncluded": true,
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/172fb2f6-3f70-11e6-8a84-bae50000008e/positions",
          "type": "purchaseorderposition",
          "mediaType": "application/json",
          "size": 5,
          "limit": 1000,
          "offset": 0
        }
      },
      "deliveryPlannedMoment": "2016-07-15 12:40:00",
      "payedSum": 0,
      "shippedSum": 0,
      "invoicedSum": 0,
      "waitSum": 5900
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/403e7ea0-2e63-11e6-8a84-bae500000131",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
        "type": "purchaseorder",
        "mediaType": "application/json"
      },
      "id": "403e7ea0-2e63-11e6-8a84-bae500000131",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-06-10 10:06:46",
      "name": "00001",
      "externalCode": "pk6fh0NthbBSgrqI931uA0",
      "moment": "2016-06-10 10:06:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 0,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/faf44002-2e58-11e6-8a84-bae500000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "vatEnabled": true,
      "vatIncluded": true,
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/403e7ea0-2e63-11e6-8a84-bae500000131/positions",
          "type": "purchaseorderposition",
          "mediaType": "application/json",
          "size": 2,
          "limit": 1000,
          "offset": 0
        }
      },
      "deliveryPlannedMoment": "2016-06-11 10:06:00",
      "payedSum": 0,
      "shippedSum": 0,
      "invoicedSum": 0,
      "waitSum": 0
    }
  ]
}
Создать Заказ поставщику
Запрос на создание нового Заказа поставщику.
Обязательные для создания поля:


Параметр
Описание



organization
Ссылка на ваше юрлицо в формате Метаданных


agent
Ссылка на контрагента (поставщику) в формате Метаданных


Пример создания нового Заказа.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "103034",
            "description": "Типичный заказ поставщику",
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "code": "404",
            "moment": "2016-12-05 15:30:14",
            "applicable": true,
            "vatEnabled": true,
            "vatIncluded": true,
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1483952f-32ca-11e6-8a84-bae500000007",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "state": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/states/11f5becd-3f70-11e6-8a84-bae50000008b",
                "type": "state",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "contract": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/e105a2e7-3f6f-11e6-8a84-bae500000087",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
                "type": "contract",
                "mediaType": "application/json"
              }
            },
            "rate": {
              "currency": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/cdbc62de-3f68-11e6-8a84-bae500000050",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
                  "type": "currency",
                  "mediaType": "application/json"
                }
              }
            },
            "deliveryPlannedMoment": "2015-02-15 14:12:19",
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a885b1b-3f70-11e6-8a84-bae50000009d",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "Черный"
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a88619c-3f70-11e6-8a84-bae50000009e",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": 0.4
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a886744-3f70-11e6-8a84-bae50000009f",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": true
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Заказа поставщику.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/22b4caaa-3f74-11e6-8a84-bae500000069",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
    "type": "purchaseorder",
    "mediaType": "application/json"
  },
  "id": "22b4caaa-3f74-11e6-8a84-bae500000069",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 13:11:11",
  "name": "103034",
  "description": "Типичный заказ поставщику",
  "code": "404",
  "externalCode": "s30P0zlwg-1qxSZnRVONF0",
  "moment": "2016-12-05 15:30:14",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/cdbc62de-3f68-11e6-8a84-bae500000050",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    },
    "value": 63
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/e105a2e7-3f6f-11e6-8a84-bae500000087",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1483952f-32ca-11e6-8a84-bae500000007",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/states/11f5becd-3f70-11e6-8a84-bae50000008b",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1483952f-32ca-11e6-8a84-bae500000007/accounts/1483a4fa-32ca-11e6-8a84-bae500000008",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a885b1b-3f70-11e6-8a84-bae50000009d",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "6a885b1b-3f70-11e6-8a84-bae50000009d",
      "name": "AttributeName1",
      "type": "string",
      "value": "Черный"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a88619c-3f70-11e6-8a84-bae50000009e",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "6a88619c-3f70-11e6-8a84-bae50000009e",
      "name": "AttributeName2",
      "type": "double",
      "value": 0.4
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a886744-3f70-11e6-8a84-bae50000009f",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "6a886744-3f70-11e6-8a84-bae50000009f",
      "name": "AttributeName3",
      "type": "boolean",
      "value": true
    }
  ],
  "vatEnabled": true,
  "vatIncluded": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/22b4caaa-3f74-11e6-8a84-bae500000069/positions",
      "type": "purchaseorderposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "deliveryPlannedMoment": "2015-02-15 14:12:19",
  "payedSum": 0,
  "shippedSum": 0,
  "invoicedSum": 0,
  "waitSum": 0
}

Пример запроса на создание Заказа поставщику с позициями в теле запроса.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "777",
            "description": "Типичный заказ поставщику",
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "code": "404",
            "moment": "2016-12-05 15:30:14",
            "applicable": true,
            "vatEnabled": true,
            "vatIncluded": true,
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1483952f-32ca-11e6-8a84-bae500000007",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "state": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/states/11f5becd-3f70-11e6-8a84-bae50000008b",
                "type": "state",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "contract": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/e105a2e7-3f6f-11e6-8a84-bae500000087",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
                "type": "contract",
                "mediaType": "application/json"
              }
            },
            "rate": {
              "currency": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/cdbc62de-3f68-11e6-8a84-bae500000050",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
                  "type": "currency",
                  "mediaType": "application/json"
                }
              }
            },
            "deliveryPlannedMoment": "2015-02-15 14:12:19",
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a885b1b-3f70-11e6-8a84-bae50000009d",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "Черный"
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a88619c-3f70-11e6-8a84-bae50000009e",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": 0.4
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a886744-3f70-11e6-8a84-bae50000009f",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": true
              }
            ],
            "positions": [
              {
                "quantity": 12,
                "price": 300.0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a81082f-3c64-11e6-8a84-bae50000000e",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                },
                "inTransit": 11
              },
              {
                "quantity": 3,
                "price": 1000.0,
                "discount": 0,
                "vat": 10,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/7a6f697f-3c64-11e6-8a84-bae500000006",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                },
                "inTransit": 1
              },
              {
                "quantity": 404,
                "price": 454.0,
                "discount": 200,
                "vat": 21,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a83c422-3c64-11e6-8a84-bae500000012",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                },
                "inTransit": 216
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Заказа поставщику.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/ae7fa9fb-3f74-11e6-8a84-bae500000070",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
    "type": "purchaseorder",
    "mediaType": "application/json"
  },
  "id": "ae7fa9fb-3f74-11e6-8a84-bae500000070",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 13:15:05",
  "name": "777",
  "description": "Типичный заказ поставщику",
  "code": "404",
  "externalCode": "37KNBm71gw7Zm00T5JdAt0",
  "moment": "2016-12-05 15:30:14",
  "applicable": true,
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/cdbc62de-3f68-11e6-8a84-bae500000050",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    },
    "value": 63
  },
  "sum": 176816,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/e105a2e7-3f6f-11e6-8a84-bae500000087",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1483952f-32ca-11e6-8a84-bae500000007",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/states/11f5becd-3f70-11e6-8a84-bae50000008b",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1483952f-32ca-11e6-8a84-bae500000007/accounts/1483a4fa-32ca-11e6-8a84-bae500000008",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a885b1b-3f70-11e6-8a84-bae50000009d",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "6a885b1b-3f70-11e6-8a84-bae50000009d",
      "name": "AttributeName1",
      "type": "string",
      "value": "Черный"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a88619c-3f70-11e6-8a84-bae50000009e",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "6a88619c-3f70-11e6-8a84-bae50000009e",
      "name": "AttributeName2",
      "type": "double",
      "value": 0.4
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a886744-3f70-11e6-8a84-bae50000009f",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "6a886744-3f70-11e6-8a84-bae50000009f",
      "name": "AttributeName3",
      "type": "boolean",
      "value": true
    }
  ],
  "vatEnabled": true,
  "vatIncluded": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/ae7fa9fb-3f74-11e6-8a84-bae500000070/positions",
      "type": "purchaseorderposition",
      "mediaType": "application/json",
      "size": 3,
      "limit": 1000,
      "offset": 0
    }
  },
  "deliveryPlannedMoment": "2015-02-15 14:12:19",
  "payedSum": 0,
  "shippedSum": 0,
  "invoicedSum": 0,
  "waitSum": 5907132
}
Массовое создание и обновление Заказов поставщику
Массовое создание и обновление Заказов поставщику.
В теле запроса нужно передать массив, содержащий JSON представления Заказов поставщику, которые вы хотите создать или обновить.
Обновляемые Заказы поставщику должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Заказов поставщику
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "name": "103034",
              "description": "Типичный заказ поставщику",
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "code": "404",
              "moment": "2016-12-05 15:30:14",
              "applicable": true,
              "vatEnabled": true,
              "vatIncluded": true,
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1483952f-32ca-11e6-8a84-bae500000007",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                  "type": "counterparty",
                  "mediaType": "application/json"
                }
              },
              "state": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/states/11f5becd-3f70-11e6-8a84-bae50000008b",
                  "type": "state",
                  "mediaType": "application/json"
                }
              },
              "store": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                  "type": "store",
                  "mediaType": "application/json"
                }
              },
              "contract": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/e105a2e7-3f6f-11e6-8a84-bae500000087",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
                  "type": "contract",
                  "mediaType": "application/json"
                }
              },
              "rate": {
                "currency": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/cdbc62de-3f68-11e6-8a84-bae500000050",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
                    "type": "currency",
                    "mediaType": "application/json"
                  }
                }
              },
              "deliveryPlannedMoment": "2015-02-15 14:12:19",
              "attributes": [
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a885b1b-3f70-11e6-8a84-bae50000009d",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": "Черный"
                },
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a88619c-3f70-11e6-8a84-bae50000009e",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": 0.4
                },
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a886744-3f70-11e6-8a84-bae50000009f",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": true
                }
              ]
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/ae7fa9fb-3f74-11e6-8a84-bae500000070",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
                "type": "purchaseorder",
                "mediaType": "application/json"
              },
              "updated": "2016-07-01 13:15:05",
              "name": "777",
              "description": "Типичный заказ поставщику, с договором, другой валютой",
              "code": "404",
              "externalCode": "37KNBm7ф1gw7Zm00T5JdAt0",
              "moment": "2016-12-05 15:30:14",
              "applicable": false,
              "rate": {
                "currency": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/faf45b9a-2e58-11e6-8a84-bae500000055",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
                    "type": "currency",
                    "mediaType": "application/json"
                  }
                }
              },
              "contract": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/e105a2e7-3f6f-11e6-8a84-bae500000087",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
                  "type": "contract",
                  "mediaType": "application/json"
                }
              },
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1485d676-32ca-11e6-8a84-bae500000009",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                  "type": "counterparty",
                  "mediaType": "application/json"
                }
              },
              "state": null,
              "organizationAccount": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
                  "type": "account",
                  "mediaType": "application/json"
                }
              },
              "attributes": [
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a885b1b-3f70-11e6-8a84-bae50000009d",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": "AttributeValue1"
                },
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a88619c-3f70-11e6-8a84-bae50000009e",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": 0.99
                },
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a886744-3f70-11e6-8a84-bae50000009f",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": true
                }
              ],
              "vatEnabled": true,
              "vatIncluded": false,
              "positions": [],
              "deliveryPlannedMoment": "2016-02-15 14:12:19"
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Заказов поставщику.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/22b4caaa-3f74-11e6-8a84-bae500000069",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
      "type": "purchaseorder",
      "mediaType": "application/json"
    },
    "id": "22b4caaa-3f74-11e6-8a84-bae500000069",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-07-01 13:11:11",
    "name": "103034",
    "description": "Типичный заказ поставщику",
    "code": "404",
    "externalCode": "s30P0zlwg-1qxSZnRVONF0",
    "moment": "2016-12-05 15:30:14",
    "applicable": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/cdbc62de-3f68-11e6-8a84-bae500000050",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      },
      "value": 63
    },
    "sum": 0,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "contract": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/e105a2e7-3f6f-11e6-8a84-bae500000087",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
        "type": "contract",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1483952f-32ca-11e6-8a84-bae500000007",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "state": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/states/11f5becd-3f70-11e6-8a84-bae50000008b",
        "type": "state",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "agentAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1483952f-32ca-11e6-8a84-bae500000007/accounts/1483a4fa-32ca-11e6-8a84-bae500000008",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "attributes": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a885b1b-3f70-11e6-8a84-bae50000009d",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "6a885b1b-3f70-11e6-8a84-bae50000009d",
        "name": "AttributeName1",
        "type": "string",
        "value": "AttributeValue1"
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a88619c-3f70-11e6-8a84-bae50000009e",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "6a88619c-3f70-11e6-8a84-bae50000009e",
        "name": "AttributeName2",
        "type": "double",
        "value": 0.4
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a886744-3f70-11e6-8a84-bae50000009f",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "6a886744-3f70-11e6-8a84-bae50000009f",
        "name": "AttributeName1",
        "type": "boolean",
        "value": true
      }
    ],
    "vatEnabled": true,
    "vatIncluded": true,
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/22b4caaa-3f74-11e6-8a84-bae500000069/positions",
        "type": "purchaseorderposition",
        "mediaType": "application/json",
        "size": 0,
        "limit": 1000,
        "offset": 0
      }
    },
    "deliveryPlannedMoment": "2015-02-15 14:12:19",
    "payedSum": 0,
    "shippedSum": 0,
    "invoicedSum": 0,
    "waitSum": 0
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/ae7fa9fb-3f74-11e6-8a84-bae500000070",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
      "type": "purchaseorder",
      "mediaType": "application/json"
    },
    "id": "ae7fa9fb-3f74-11e6-8a84-bae500000070",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-07-01 13:23:26",
    "name": "777",
    "description": "Типичный заказ поставщику, с договором, другой валютой",
    "code": "404",
    "externalCode": "37KNBm7ф1gw7Zm00T5JdAt0",
    "moment": "2016-12-05 15:30:14",
    "applicable": false,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/faf45b9a-2e58-11e6-8a84-bae500000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 0,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "contract": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/e105a2e7-3f6f-11e6-8a84-bae500000087",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
        "type": "contract",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1485d676-32ca-11e6-8a84-bae500000009",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "state": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/states/11f5becd-3f70-11e6-8a84-bae50000008b",
        "type": "state",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "agentAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1485d676-32ca-11e6-8a84-bae500000009/accounts/1485e43e-32ca-11e6-8a84-bae50000000a",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "attributes": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a885b1b-3f70-11e6-8a84-bae50000009d",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "6a885b1b-3f70-11e6-8a84-bae50000009d",
        "name": "AttributeName1",
        "type": "string",
        "value": "AttributeValue1"
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a88619c-3f70-11e6-8a84-bae50000009e",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "6a88619c-3f70-11e6-8a84-bae50000009e",
        "name": "AttributeName2",
        "type": "double",
        "value": 0.99
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a886744-3f70-11e6-8a84-bae50000009f",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "6a886744-3f70-11e6-8a84-bae50000009f",
        "name": "AttributeName3",
        "type": "boolean",
        "value": true
      }
    ],
    "vatEnabled": true,
    "vatIncluded": false,
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/ae7fa9fb-3f74-11e6-8a84-bae500000070/positions",
        "type": "purchaseorderposition",
        "mediaType": "application/json",
        "size": 0,
        "limit": 1000,
        "offset": 0
      }
    },
    "deliveryPlannedMoment": "2016-02-15 14:12:19",
    "payedSum": 0,
    "shippedSum": 0,
    "invoicedSum": 0,
    "waitSum": 0
  }
]
Удалить Заказ поставщику
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа поставщику.


Запрос на удаление Заказа поставщику с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Заказа поставщику.

Массовое удаление Заказов Поставщикам
В теле запроса нужно передать массив, содержащий JSON метаданных Заказов Поставщикам, которые вы хотите удалить.
Запрос на массовое удаление Заказов Поставщикам. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
                "type": "purchaseorder",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
                "type": "purchaseorder",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Заказов Поставщикам.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'purchaseorder' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'purchaseorder' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные Заказов ПоставщикамМетаданные Заказов Поставщикам
Запрос на получение метаданных Заказов поставщикам. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Заказов поставщикам


attributes
Массив объектов доп. полей Заказов поставщикам в формате Метаданных


states
Массив статусов Заказов поставщикам


createShared
создавать новые Заказы поставщикам с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Заказов Поставщикам
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Заказов поставщикам.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a885b1b-3f70-11e6-8a84-bae50000009d",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "6a885b1b-3f70-11e6-8a84-bae50000009d",
      "name": "AttributeName1",
      "type": "string",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a88619c-3f70-11e6-8a84-bae50000009e",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "6a88619c-3f70-11e6-8a84-bae50000009e",
      "name": "AttributeName2",
      "type": "double",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a886744-3f70-11e6-8a84-bae50000009f",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "6a886744-3f70-11e6-8a84-bae50000009f",
      "name": "AttributeName3",
      "type": "boolean",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/states/11f5becd-3f70-11e6-8a84-bae50000008b",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "11f5becd-3f70-11e6-8a84-bae50000008b",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Ожидает отправки",
      "color": 10066329,
      "stateType": "Regular",
      "entityType": "purchaseorder"
    }
  ],
  "createShared": false
}
Отдельное доп. полеОтдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a88619c-3f70-11e6-8a84-bae50000009e",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "6a88619c-3f70-11e6-8a84-bae50000009e",
  "name": "AttributeName3",
  "type": "double",
  "required": false
}
Шаблон Заказа поставщикуШаблон Заказа поставщику
Запрос на получение предзаполненого стандартными значениями шаблона заказа поставщику без связи с каким-либо документом.
Шаблон заказа поставщику
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/new
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d ''  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного заказа поставщику.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-11-25 17:33:33",
  "applicable": true,
  "sum": 0,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b942743c-9128-11e6-8a84-bae500000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942953e-9128-11e6-8a84-bae500000054",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "positions": {
    "rows": []
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "printed": true,
  "published": true,
  "payedSum": 0,
  "shippedSum": 0,
  "invoicedSum": 0
}
Шаблон Заказа поставщику на основе
Запрос на получение предзаполненного шаблона заказа поставщику на основе внутреннего заказа или заказа покупателя.
В ответ на запрос вернется предзаполненный шаблон заказа поставщику.
В шаблоне будет отсутствовать поле agent,
т.к. Поставщик товара (agent в шаблоне заказа поставщику) не совпадает с Покупателем (agent в заказе покупателя),
его необходимо заполнить самому.
Затем шаблон можно будет использовать для создания нового заказа с помощью POST запроса.
При создании документа на основании заказа покупателя, содержащего комплекты в позициях,
комплекты будут автоматически разбиты на составляющие компоненты в отдельные позиции.
Если у указанного в качестве основания документа уже есть связанный с ним заказ поставщику, то позиции, указанные в нем,
в созданном шаблоне указаны не будут.
Пример запроса на получение шаблона заказа поставщику на основе внутреннего заказа.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "internalOrder": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/64e426af-b0d8-11e6-8a84-bae500000064",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata",
                "type": "internalorder",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного заказа поставщику.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-11-25 17:34:37",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/b942e6f2-9128-11e6-8a84-bae500000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 9910,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b942743c-9128-11e6-8a84-bae500000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "rows": [
      {
        "quantity": 1,
        "price": 2230.0,
        "discount": 0,
        "vat": 0,
        "vatEnabled": false,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
          }
        },
        "shipped": 0,
        "inTransit": 0
      },
      {
        "quantity": 1,
        "price": 100.0,
        "discount": 10,
        "vat": 10,
        "vatEnabled": true,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
          }
        },
        "shipped": 0,
        "inTransit": 0
      },
      {
        "quantity": 2,
        "price": 500.0,
        "discount": 10,
        "vat": 18,
        "vatEnabled": true,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=392c045c-2842-11e9-ac12-000a00000002"
          }
        },
        "shipped": 0,
        "inTransit": 0
      },
      {
        "quantity": 3,
        "price": 2230.0,
        "discount": 0,
        "vat": 0,
        "vatEnabled": false,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
          }
        },
        "shipped": 0,
        "inTransit": 0
      }
    ]
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "payedSum": 0,
  "shippedSum": 0,
  "invoicedSum": 0,
  "internalOrder": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/64e426af-b0d8-11e6-8a84-bae500000064",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata",
      "type": "internalorder",
      "mediaType": "application/json"
    }
  }
}

Пример запроса на получение шаблона заказа поставщику на основе заказа покупателя.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "customerOrders": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/e9350b05-5751-11e8-9109-f8fc0010fba3",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
                  "type": "customerorder",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного заказа поставщику.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/8187b9ca-5751-11e8-9107-504800110aa3",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/816f2c7e-5751-11e8-9109-f8fc0000534e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "name": "",
  "moment": "2018-05-14 11:39:50",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/819ac910-5751-11e8-9107-504800110ad2",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 10000,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/819ab5e8-5751-11e8-9107-504800110acd",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/81995e7d-5751-11e8-9107-504800110acb",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "positions": {
    "rows": [
      {
        "quantity": 20,
        "price": 500.0,
        "discount": 0,
        "vat": 18,
        "vatEnabled": true,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/cbe0b7bc-5751-11e8-9ff4-31500010c0aa",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
          }
        },
        "shipped": 0,
        "inTransit": 0
      }
    ]
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "printed": true,
  "published": true,
  "payedSum": 0,
  "shippedSum": 0,
  "invoicedSum": 0,
  "waitSum": 0,
  "customerOrders": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/e9350b05-5751-11e8-9109-f8fc0010fba3",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
        "type": "customerorder",
        "mediaType": "application/json"
      }
    }
  ]
}

Заказ поставщикуПолучить Заказ поставщику
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа поставщику.


Запрос на получение отдельного Заказа поставщику с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Заказа поставщику.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/172fb2f6-3f70-11e6-8a84-bae50000008e",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
    "type": "purchaseorder",
    "mediaType": "application/json"
  },
  "id": "172fb2f6-3f70-11e6-8a84-bae50000008e",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 12:42:13",
  "name": "00002",
  "description": "Описание заказа",
  "externalCode": "FfSmVuSKi7h8L-jLADHV80",
  "moment": "2016-07-01 12:40:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/faf45b9a-2e58-11e6-8a84-bae500000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 5900,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/e105a2e7-3f6f-11e6-8a84-bae500000087",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/722e39f0-313e-11e6-8a84-bae500000008",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/14ae5431-32ca-11e6-8a84-bae50000002d",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/states/11f5becd-3f70-11e6-8a84-bae50000008b",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/172fb2f6-3f70-11e6-8a84-bae50000008e/positions",
      "type": "purchaseorderposition",
      "mediaType": "application/json",
      "size": 5,
      "limit": 1000,
      "offset": 0
    }
  },
  "deliveryPlannedMoment": "2016-07-15 12:40:00",
  "payedSum": 0,
  "shippedSum": 0,
  "invoicedSum": 0,
  "waitSum": 5900
}
Изменить Заказ поставщику
Запрос на обновление Заказа поставщику с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Заказа поставщику, кроме тех, что
помечены Только для чтения в описании атрибутов Заказа поставщику.
При обновлении полей organization и agent нужно также обновить поля organizationAccount и
agentAccount соответственно, иначе произойдет ошибка.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа поставщику.


Пример запроса на обновление отдельного Заказа поставщику.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "updated": "2016-07-01 13:15:05",
            "name": "777",
            "description": "Типичный заказ поставщику, с договором, другой валютой",
            "code": "404",
            "externalCode": "37KNBm7ф1gw7Zm00T5JdAt0",
            "moment": "2016-12-05 15:30:14",
            "applicable": false,
            "rate": {
              "currency": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/faf45b9a-2e58-11e6-8a84-bae500000055",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
                  "type": "currency",
                  "mediaType": "application/json"
                }
              }
            },
            "contract": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/e105a2e7-3f6f-11e6-8a84-bae500000087",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
                "type": "contract",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1485d676-32ca-11e6-8a84-bae500000009",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "state": null,
            "organizationAccount": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
                "type": "account",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a885b1b-3f70-11e6-8a84-bae50000009d",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "AttributeValue1"
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a88619c-3f70-11e6-8a84-bae50000009e",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": 0.99
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a886744-3f70-11e6-8a84-bae50000009f",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": true
              }
            ],
            "vatEnabled": true,
            "vatIncluded": false,
            "positions": [],
            "deliveryPlannedMoment": "2016-02-15 14:12:19"
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Заказа поставщику.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/ae7fa9fb-3f74-11e6-8a84-bae500000070",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
    "type": "purchaseorder",
    "mediaType": "application/json"
  },
  "id": "ae7fa9fb-3f74-11e6-8a84-bae500000070",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 13:23:26",
  "name": "777",
  "description": "Типичный заказ поставщику, с договором, другой валютой",
  "code": "404",
  "externalCode": "37KNBm7ф1gw7Zm00T5JdAt0",
  "moment": "2016-12-05 15:30:14",
  "applicable": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/faf45b9a-2e58-11e6-8a84-bae500000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/e105a2e7-3f6f-11e6-8a84-bae500000087",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1485d676-32ca-11e6-8a84-bae500000009",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/states/11f5becd-3f70-11e6-8a84-bae50000008b",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1485d676-32ca-11e6-8a84-bae500000009/accounts/1485e43e-32ca-11e6-8a84-bae50000000a",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a885b1b-3f70-11e6-8a84-bae50000009d",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "6a885b1b-3f70-11e6-8a84-bae50000009d",
      "name": "AttributeName1",
      "type": "string",
      "value": "AttributeValue1"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a88619c-3f70-11e6-8a84-bae50000009e",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "6a88619c-3f70-11e6-8a84-bae50000009e",
      "name": "AttributeName2",
      "type": "double",
      "value": 0.99
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata/attributes/6a886744-3f70-11e6-8a84-bae50000009f",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "6a886744-3f70-11e6-8a84-bae50000009f",
      "name": "AttributeName3",
      "type": "boolean",
      "value": true
    }
  ],
  "vatEnabled": true,
  "vatIncluded": false,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/ae7fa9fb-3f74-11e6-8a84-bae500000070/positions",
      "type": "purchaseorderposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "deliveryPlannedMoment": "2016-02-15 14:12:19",
  "payedSum": 0,
  "shippedSum": 0,
  "invoicedSum": 0,
  "waitSum": 0
}
Позиции Заказа поставщику
Отдельный ресурс для управления позициями Заказа поставщику. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить позиции Заказа поставщику
Запрос на получение списка всех позиций данного Заказа поставщику.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой позиции Заказа поставщику.


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа поставщику.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить позиции Заказа поставщику
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b19/positions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного Заказа поставщику.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b19/positions/",
    "type": "purchaseorderposition",
    "mediaType": "application/json",
    "size": 5,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b19/positions/17307520-3f70-11e6-8a84-bae50000008f",
        "type": "purchaseorderposition",
        "mediaType": "application/json"
      },
      "id": "17307520-3f70-11e6-8a84-bae50000008f",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 4300.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0a89c6f1-3303-11e6-8a84-bae500000cda",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
        }
      },
      "shipped": 0,
      "inTransit": 1
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b19/positions/17308a33-3f70-11e6-8a84-bae500000090",
        "type": "purchaseorderposition",
        "mediaType": "application/json"
      },
      "id": "17308a33-3f70-11e6-8a84-bae500000090",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 600.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0163030c-3303-11e6-8a84-bae5000004de",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=392c045c-2842-11e9-ac12-000a00000002"
        }
      },
      "shipped": 0,
      "inTransit": 1
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b19/positions/17309bf8-3f70-11e6-8a84-bae500000091",
        "type": "purchaseorderposition",
        "mediaType": "application/json"
      },
      "id": "17309bf8-3f70-11e6-8a84-bae500000091",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 0.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/4f918196-3304-11e6-8a84-bae50001c6d2",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
        }
      },
      "shipped": 0,
      "inTransit": 1
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b19/positions/1730ac60-3f70-11e6-8a84-bae500000092",
        "type": "purchaseorderposition",
        "mediaType": "application/json"
      },
      "id": "1730ac60-3f70-11e6-8a84-bae500000092",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 0.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/4f785efd-3304-11e6-8a84-bae50001c6c4",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
        }
      },
      "shipped": 0,
      "inTransit": 1
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b19/positions/1730bb31-3f70-11e6-8a84-bae500000093",
        "type": "purchaseorderposition",
        "mediaType": "application/json"
      },
      "id": "1730bb31-3f70-11e6-8a84-bae500000093",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 1000.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/7b37adef-3303-11e6-8a84-bae50000bbf7",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3c3c1618-2842-11e9-ac12-000c0000006f"
        }
      },
      "shipped": 0,
      "inTransit": 1
    }
  ]
}
Позиция Заказа
Отдельная позиция Заказа с указанным id позиции.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа поставщику.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Заказа поставщику.


Получить позицию
Запрос на получение отдельной позиции Заказа с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Заказа поставщику.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "purchaseorderposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "quantity": 1,
  "price": 1000.0,
  "discount": 0,
  "vat": 0,
  "vatEnabled": false,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/7b37adef-3303-11e6-8a84-bae50000bbf7",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
    }
  },
  "shipped": 0,
  "inTransit": 1
}
Создать позицию
Запрос на создание новой позиции в Заказе поставщику.
Для успешного создания необходимо в теле запроса указать следующие поля:

assortment - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем service, consignment, variant в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании позиции Заказа
quantity - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа поставщику.


Пример создания одной позиции в Заказе поставщику.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 49,
            "price": 451.0,
            "discount": 0,
            "vat": 10,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a7daa6b-3c64-11e6-8a84-bae50000000a",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                "type": "variant",
                "mediaType": "application/json"
              }
            },
            "shipped": 20,
            "inTransit": 19
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного Заказа поставщику.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b19/positions/574b6485-3f71-11e6-8a84-bae50000005b",
      "type": "purchaseorderposition",
      "mediaType": "application/json"
    },
    "id": "574b6485-3f71-11e6-8a84-bae50000005b",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 49,
    "price": 451.0,
    "discount": 0,
    "vat": 10,
    "vatEnabled": true,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a7daa6b-3c64-11e6-8a84-bae50000000a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3c3c1618-2842-11e9-ac12-000c0000006f"
      }
    },
    "shipped": 0,
    "inTransit": 19
  }
]

Пример создания сразу нескольких позиций в Заказе поставщику.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "quantity": 12,
              "price": 300.0,
              "vat": 0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a81082f-3c64-11e6-8a84-bae50000000e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                  "type": "variant",
                  "mediaType": "application/json"
                }
              },
              "inTransit": 11
            },
            {
              "quantity": 3,
              "price": 1000.0,
              "discount": 0,
              "vat": 10,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/7a6f697f-3c64-11e6-8a84-bae500000006",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                  "type": "product",
                  "mediaType": "application/json"
                }
              },
              "inTransit": 1
            },
            {
              "quantity": 404,
              "price": 454.0,
              "discount": 200,
              "vat": 21,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a83c422-3c64-11e6-8a84-bae500000012",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                  "type": "variant",
                  "mediaType": "application/json"
                }
              },
              "inTransit": 216
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка созданных позиций отдельного Заказа поставщику.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b19/positions/f389488d-3f71-11e6-8a84-bae50000005f",
      "type": "purchaseorderposition",
      "mediaType": "application/json"
    },
    "id": "f389488d-3f71-11e6-8a84-bae50000005f",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 12,
    "price": 300.0,
    "discount": 0,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a81082f-3c64-11e6-8a84-bae50000000e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3c3c1618-2842-11e9-ac12-000c0000006f"
      }
    },
    "shipped": 0,
    "inTransit": 11
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b19/positions/f389521b-3f71-11e6-8a84-bae500000060",
      "type": "purchaseorderposition",
      "mediaType": "application/json"
    },
    "id": "f389521b-3f71-11e6-8a84-bae500000060",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 3,
    "price": 1000.0,
    "discount": 0,
    "vat": 10,
    "vatEnabled": true,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/7a6f697f-3c64-11e6-8a84-bae500000006",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
      }
    },
    "shipped": 0,
    "inTransit": 1
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b19/positions/f3895aa1-3f71-11e6-8a84-bae500000061",
      "type": "purchaseorderposition",
      "mediaType": "application/json"
    },
    "id": "f3895aa1-3f71-11e6-8a84-bae500000061",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 404,
    "price": 454.0,
    "discount": 200,
    "vat": 21,
    "vatEnabled": true,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a83c422-3c64-11e6-8a84-bae500000012",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
      }
    },
    "shipped": 0,
    "inTransit": 216
  }
]
Изменить позицию
Запрос на обновление отдельной позиции Заказа. Для обновления позиции нет каких-либо
обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа поставщику.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Заказа поставщику.


Пример запроса на обновление отдельной позиции в Заказе поставщику.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 44,
            "price": 4540.0,
            "discount": 150,
            "vat": 10,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a83c422-3c64-11e6-8a84-bae500000012",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                "type": "variant",
                "mediaType": "application/json"
              }
            },
            "shipped": 10,
            "inTransit": 200
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной позиции Заказа поставщику.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "purchaseorderposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "quantity": 44,
  "price": 4540.0,
  "discount": 150,
  "vat": 10,
  "vatEnabled": true,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a83c422-3c64-11e6-8a84-bae500000012",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
      "type": "variant",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
    }
  },
  "shipped": 0,
  "inTransit": 200
}
Удалить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Заказа поставщику.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Заказа поставщику.


Запрос на удаление отдельной позиции Заказа с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление позиции Заказа.

Массовое удаление позиций
Параметры


Параметр
Описание



id
string (required) Example: 3e1c03bb-684f-11ee-ac12-000c000000b0 id Заказа поставщику.


Запрос на массовое удаление позиций Заказа поставщику.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "purchaseorderposition",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "purchaseorderposition",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление позиций Заказа поставщику. 

Инвентаризация
Средствами JSON API можно создавать и обновлять сведения о Инвентаризации, запрашивать списки Инвентаризаций и сведения по отдельным Инвентаризациям. Позициями Инвентаризации можно управлять как в составе отдельной Инвентаризации, так и отдельно - с помощью специальных ресурсов для управления позициями Инвентаризации. Кодом сущности для Инвентаризации в составе JSON API является ключевое слово inventory. Больше о Инвентаризациях можно прочитать этой ссылке.
ИнвентаризацияАтрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта


code
String(255)
= != ~ ~= =~
Код выданного Инвентаризации


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления ИнвентаризацииТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Входящего платежа


externalCode
String(255)
= != ~ ~= =~
Внешний код выданного ИнвентаризацииОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID ИнвентаризацииОбязательное при ответе Только для чтения


meta
Meta

Метаданные ИнвентаризацииОбязательное при ответе


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование выданного ИнвентаризацииОбязательное при ответе


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании


owner
Meta
= !=
Владелец (Сотрудник)Expand


positions
MetaArray

Метаданные позиций ИнвентаризацииОбязательное при ответе Expand


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


shared
Boolean
= !=
Общий доступОбязательное при ответе


state
Meta
= !=
Метаданные статуса ИнвентаризацииExpand


store
Meta
= !=
Метаданные складаОбязательное при ответе Expand Необходимо при создании


sum
Int
= != < > <= >=
Сумма Инвентаризации в копейкахОбязательное при ответе Только для чтения


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


updated
DateTime
= != < > <= >=
Момент последнего обновления ИнвентаризацииОбязательное при ответе Только для чтения


Связи с другими документами


Название
Описание



enters
Ссылка на связанное с инвентаризацией оприходование в формате Метаданных


losses
Ссылка на связанное с инвентаризацией списание в формате Метаданных


Позиции Инвентаризации
Позиции Инвентаризации - это список товаров/модификаций/серий.
Объект позиции Инвентаризации содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияОбязательное при ответе Expand


calculatedQuantity
Float
расчетный остатокОбязательное при ответе


correctionAmount
Float
разница между расчетным остатком и фактическимхОбязательное при ответе Только для чтения


correctionSum
Float
избыток/недостачаОбязательное при ответе Только для чтения


id
UUID
ID позицииОбязательное при ответе Только для чтения


pack
Object
Упаковка Товара. Подробнее тут


price
Float
Цена товара/услуги в копейкахОбязательное при ответе


quantity
Float
Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.Обязательное при ответе


С позициями можно работать с помощью специальных ресурсов для управления позициями Инвентаризации,
а также в составе отдельной Инвентаризации. При работе в составе отдельной Инвентаризации,
вы можете отправлять запросы на создание отдельной Инвентаризации с включенным в тело запроса
массивом позиций Инвентаризации. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Инвентаризации".
Также, при работе в составе отдельной Инвентаризации, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Инвентаризации. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Инвентаризации" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
О работе с доп. полями Инвентаризации можно прочитать здесь
Получить Инвентаризации
Запрос всех Инвентаризаций на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Инвентаризации.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить Инвентаризации
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/inventory"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Инвентаризаций.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata",
    "type": "inventory",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/7ee45d2d-ad65-11e6-8a84-bc52000000db",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata",
        "type": "inventory",
        "mediaType": "application/json"
      },
      "id": "7ee45d2d-ad65-11e6-8a84-bc52000000db",
      "accountId": "c3cc7e30-99bb-11e6-8a84-bc5200000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/c4b17cf2-99bb-11e6-8a84-bc520000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/c3cff163-99bb-11e6-8a84-bc5200000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-18 11:03:31",
      "name": "00001",
      "externalCode": "HCUtF6T2jnNOzNbh-ZNNo1",
      "moment": "2016-11-18 11:03:00",
      "sum": 480000,
      "printed": true,
      "published": true,
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/c4eddfc8-99bb-11e6-8a84-bc5200000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/c4dee133-99bb-11e6-8a84-bc5200000051",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/7ee45d2d-ad65-11e6-8a84-bc52000000db/positions",
          "type": "inventoryposition",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/8c3e615a-ad65-11e6-8a84-bc52000000df",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata",
        "type": "inventory",
        "mediaType": "application/json"
      },
      "id": "8c3e615a-ad65-11e6-8a84-bc52000000df",
      "accountId": "c3cc7e30-99bb-11e6-8a84-bc5200000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/c4b17cf2-99bb-11e6-8a84-bc520000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/c3cff163-99bb-11e6-8a84-bc5200000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-18 11:03:53",
      "name": "00002",
      "externalCode": "aNpAW66rhIjZ4VmhA4igz0",
      "moment": "2016-11-18 11:03:00",
      "sum": 1020000,
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/c4eddfc8-99bb-11e6-8a84-bc5200000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/c4dee133-99bb-11e6-8a84-bc5200000051",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/8c3e615a-ad65-11e6-8a84-bc52000000df/positions",
          "type": "inventoryposition",
          "mediaType": "application/json",
          "size": 2,
          "limit": 1000,
          "offset": 0
        }
      }
    }
  ]
}
Создать Инвентаризацию
Запрос на создание новой Инвентаризации
Обязательные для создания поля:

organization - Ссылка на ваше юрлицо в формате Метаданных
store - Ссылка на склад в формате Метаданных

Пример создания новой Инвентаризации с телом запроса, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/inventory"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/c4eddfc8-99bb-11e6-8a84-bc5200000053",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/c4dee133-99bb-11e6-8a84-bc5200000051",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Инвентаризации.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/8a2a5d07-ad6d-11e6-8a84-bc520000000a",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata",
    "type": "inventory",
    "mediaType": "application/json"
  },
  "id": "8a2a5d07-ad6d-11e6-8a84-bc520000000a",
  "accountId": "c3cc7e30-99bb-11e6-8a84-bc5200000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/c4b17cf2-99bb-11e6-8a84-bc520000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/c3cff163-99bb-11e6-8a84-bc5200000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-18 12:01:06",
  "name": "00005",
  "externalCode": "n0vO68WUgOh9OcHApWSVc2",
  "moment": "2016-11-18 12:01:06",
  "sum": 0,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/c4eddfc8-99bb-11e6-8a84-bc5200000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/c4dee133-99bb-11e6-8a84-bc5200000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/8a2a5d07-ad6d-11e6-8a84-bc520000000a/positions",
      "type": "inventoryposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  }
}
Массовое создание и обновление Инвентаризаций
Массовое создание и обновление Инвентаризаций.
В теле запроса нужно передать массив, содержащий JSON представления Инвентаризаций, которые вы хотите создать или обновить.
Обновляемые Инвентаризации должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Инвентаризаций
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/inventory"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "store": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/c4eddfc8-99bb-11e6-8a84-bc5200000053",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                  "type": "store",
                  "mediaType": "application/json"
                }
              },
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/c4dee133-99bb-11e6-8a84-bc5200000051",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              }
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/57a0bbfb-ad6d-11e6-8a84-bc52000000e7",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata",
                "type": "inventory",
                "mediaType": "application/json"
              },
              "name": "newname",
              "positions": {
                "rows": [
                  {
                    "quantity": 140,
                    "price": 5000.0,
                    "assortment": {
                      "meta": {
                        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/b6be720e-ad63-11e6-8a84-bc520000008f",
                        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                        "type": "product",
                        "mediaType": "application/json"
                      }
                    },
                    "correctionAmount": -60,
                    "calculatedQuantity": 200,
                    "correctionSum": -300000
                  },
                  {
                    "quantity": 80,
                    "price": 4000.0,
                    "assortment": {
                      "meta": {
                        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/58948866-ad65-11e6-8a84-bc52000000cf",
                        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                        "type": "product",
                        "mediaType": "application/json"
                      }
                    },
                    "correctionAmount": -20,
                    "calculatedQuantity": 100,
                    "correctionSum": -80000
                  }
                ]
              }
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Инвентаризаций.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/8a2a5d07-ad6d-11e6-8a84-bc520000000a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata",
      "type": "inventory",
      "mediaType": "application/json"
    },
    "id": "8a2a5d07-ad6d-11e6-8a84-bc520000000a",
    "accountId": "c3cc7e30-99bb-11e6-8a84-bc5200000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/c4b17cf2-99bb-11e6-8a84-bc520000002a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/c3cff163-99bb-11e6-8a84-bc5200000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-11-18 12:01:06",
    "name": "00005",
    "externalCode": "n0vO68WUgOh9OcHApWSVc2",
    "moment": "2016-11-18 12:01:06",
    "sum": 0,
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/c4eddfc8-99bb-11e6-8a84-bc5200000053",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/c4dee133-99bb-11e6-8a84-bc5200000051",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "created": "2007-02-07 17:16:41",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/8a2a5d07-ad6d-11e6-8a84-bc520000000a/positions",
        "type": "inventoryposition",
        "mediaType": "application/json",
        "size": 0,
        "limit": 1000,
        "offset": 0
      }
    }
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/57a0bbfb-ad6d-11e6-8a84-bc52000000e7",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata",
      "type": "inventory",
      "mediaType": "application/json"
    },
    "id": "57a0bbfb-ad6d-11e6-8a84-bc52000000e7",
    "accountId": "c3cc7e30-99bb-11e6-8a84-bc5200000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/c4b17cf2-99bb-11e6-8a84-bc520000002a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/c3cff163-99bb-11e6-8a84-bc5200000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-11-18 12:12:27",
    "name": "newname",
    "externalCode": "6iP5E4LLhpzxRKezcuKE90",
    "moment": "2016-11-18 11:59:00",
    "sum": 1020000,
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/c4eddfc8-99bb-11e6-8a84-bc5200000053",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/c4dee133-99bb-11e6-8a84-bc5200000051",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "created": "2007-02-07 17:16:41",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/57a0bbfb-ad6d-11e6-8a84-bc52000000e7/positions",
        "type": "inventoryposition",
        "mediaType": "application/json",
        "size": 2,
        "limit": 1000,
        "offset": 0
      }
    }
  }
]
Удалить Инвентаризацию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Инвентаризации.


Запрос на удаление Инвентаризации с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/inventory/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Инвентаризации.

Массовое удаление Инвентаризаций
В теле запроса нужно передать массив, содержащий JSON метаданных Инвентаризаций, которые вы хотите удалить.
Запрос на массовое удаление Инвентаризаций. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/inventory/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata",
                "type": "inventory",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata",
                "type": "inventory",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Инвентаризаций.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'inventory' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'inventory' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]   
Метаданные ИнвентаризацийМетаданные Инвентаризаций
Запрос на получение метаданных Инвентаризаций. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Инвентаризаций


attributes
Массив объектов доп. полей Инвентаризацийв формате Метаданных


states
Массив статусов Инвентаризаций


createShared
создавать новые Инвентаризаций с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Инвентаризаций
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление метаданных Инвентаризаций.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata/attributes/1f7dbb1b-ad6e-11e6-8a84-bc52000000eb",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "1f7dbb1b-ad6e-11e6-8a84-bc52000000eb",
      "name": "AttributeName1",
      "type": "string",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata/attributes/1f7dc230-ad6e-11e6-8a84-bc52000000ec",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "1f7dc230-ad6e-11e6-8a84-bc52000000ec",
      "name": "AttributeName2",
      "type": "long",
      "required": false
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata/attributes/1f7dbb1b-ad6e-11e6-8a84-bc52000000eb",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "1f7dbb1b-ad6e-11e6-8a84-bc52000000eb",
  "name": "AttributeName1",
  "type": "string",
  "required": false
}
Шаблон ИнвентаризацииШаблон Инвентаризации
Запрос на получение предзаполненого стандартными значениями шаблона инвентаризации без связи с каким-либо документом.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/inventory/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d ''  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного списания.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/c4b17cf2-99bb-11e6-8a84-bc520000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/c3cff163-99bb-11e6-8a84-bc5200000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-11-25 17:52:33",
  "sum": 0,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/c4eddfc8-99bb-11e6-8a84-bc5200000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/c4dee133-99bb-11e6-8a84-bc5200000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "printed": true,
  "published": true,
  "positions": {
    "rows": []
  }
}
ИнвентаризацияПолучить Инвентаризацию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Инвентаризации.


Запрос на получение отдельной инвентаризации с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/inventory/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Инвентаризации.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/57a0bbfb-ad6d-11e6-8a84-bc52000000e7",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata",
    "type": "inventory",
    "mediaType": "application/json"
  },
  "id": "57a0bbfb-ad6d-11e6-8a84-bc52000000e7",
  "accountId": "c3cc7e30-99bb-11e6-8a84-bc5200000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/c4b17cf2-99bb-11e6-8a84-bc520000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/c3cff163-99bb-11e6-8a84-bc5200000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-18 11:59:41",
  "name": "00004",
  "externalCode": "6iP5E4LLhpzxRKezcuKE90",
  "moment": "2016-11-18 11:59:00",
  "sum": 0,
  "printed": true,
  "published": true,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/c4eddfc8-99bb-11e6-8a84-bc5200000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/c4dee133-99bb-11e6-8a84-bc5200000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/57a0bbfb-ad6d-11e6-8a84-bc52000000e7/positions",
      "type": "inventoryposition",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  }
}
Изменить Инвентаризацию
Запрос на обновление инвентаризации с указанным id.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Инвентаризации.


Пример запроса на обновление отдельной Инвентаризации.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/inventory/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "newname",
            "positions": {
              "rows": [
                {
                  "quantity": 140,
                  "price": 5000.0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/b6be720e-ad63-11e6-8a84-bc520000008f",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  },
                  "correctionAmount": -60,
                  "calculatedQuantity": 200,
                  "correctionSum": -300000
                },
                {
                  "quantity": 80,
                  "price": 4000.0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/58948866-ad65-11e6-8a84-bc52000000cf",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  },
                  "correctionAmount": -20,
                  "calculatedQuantity": 100,
                  "correctionSum": -80000
                }
              ]
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной Инвентаризации.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/57a0bbfb-ad6d-11e6-8a84-bc52000000e7",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata",
    "type": "inventory",
    "mediaType": "application/json"
  },
  "id": "57a0bbfb-ad6d-11e6-8a84-bc52000000e7",
  "accountId": "c3cc7e30-99bb-11e6-8a84-bc5200000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/c4b17cf2-99bb-11e6-8a84-bc520000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/c3cff163-99bb-11e6-8a84-bc5200000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-18 12:12:27",
  "name": "newname",
  "externalCode": "6iP5E4LLhpzxRKezcuKE90",
  "moment": "2016-11-18 11:59:00",
  "sum": 1020000,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/c4eddfc8-99bb-11e6-8a84-bc5200000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/c4dee133-99bb-11e6-8a84-bc5200000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/57a0bbfb-ad6d-11e6-8a84-bc52000000e7/positions",
      "type": "inventoryposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  }
}

Пример запроса на изменение Инвентаризации с дополнительными полями.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/inventory/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/c4eddfc8-99bb-11e6-8a84-bc5200000053",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/c4dee133-99bb-11e6-8a84-bc5200000051",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata/attributes/1f7dbb1b-ad6e-11e6-8a84-bc52000000eb",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "name": "AttributeName1",
                "type": "string",
                "value": "text"
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata/attributes/1f7dc230-ad6e-11e6-8a84-bc52000000ec",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "name": "AttributeName2",
                "type": "long",
                "value": 42
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной Инвентаризации.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/57a0bbfb-ad6d-11e6-8a84-bc52000000e7",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata",
    "type": "inventory",
    "mediaType": "application/json"
  },
  "id": "57a0bbfb-ad6d-11e6-8a84-bc52000000e7",
  "accountId": "c3cc7e30-99bb-11e6-8a84-bc5200000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/c4b17cf2-99bb-11e6-8a84-bc520000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/c3cff163-99bb-11e6-8a84-bc5200000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-18 12:12:27",
  "name": "newname",
  "externalCode": "6iP5E4LLhpzxRKezcuKE90",
  "moment": "2016-11-18 11:59:00",
  "sum": 1020000,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/c4eddfc8-99bb-11e6-8a84-bc5200000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/c4dee133-99bb-11e6-8a84-bc5200000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata/attributes/1f7dbb1b-ad6e-11e6-8a84-bc52000000eb",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "1f7dbb1b-ad6e-11e6-8a84-bc52000000eb",
      "name": "AttributeName1",
      "type": "string",
      "value": "text"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/metadata/attributes/1f7dc230-ad6e-11e6-8a84-bc52000000ec",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "1f7dc230-ad6e-11e6-8a84-bc52000000ec",
      "name": "AttributeName2",
      "type": "long",
      "value": 42
    }
  ],
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/57a0bbfb-ad6d-11e6-8a84-bc52000000e7/positions",
      "type": "inventoryposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  }
}
Позиции Инвентаризации
Отдельный ресурс для управления позициями Инвентаризации. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить позиции
Запрос на получение списка всех позиций данной Инвентаризации.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой позиции Инвентаризации.


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Инвентаризации.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить позиции Инвентаризации
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/inventory/7944ef04-f831-11e5-7a69-971500188b19/positions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельной Инвентаризации.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/7944ef04-f831-11e5-7a69-971500188b19/positions",
    "type": "inventoryposition",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/7944ef04-f831-11e5-7a69-971500188b19/positions/201452a2-ad6f-11e6-8a84-bc5200000010",
        "type": "inventoryposition",
        "mediaType": "application/json"
      },
      "id": "201452a2-ad6f-11e6-8a84-bc5200000010",
      "accountId": "c3cc7e30-99bb-11e6-8a84-bc5200000001",
      "quantity": 140,
      "price": 5000.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/b6be720e-ad63-11e6-8a84-bc520000008f",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
        }
      },
      "correctionAmount": -60,
      "calculatedQuantity": 200,
      "correctionSum": -300000
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/7944ef04-f831-11e5-7a69-971500188b19/positions/20145d98-ad6f-11e6-8a84-bc5200000011",
        "type": "inventoryposition",
        "mediaType": "application/json"
      },
      "id": "20145d98-ad6f-11e6-8a84-bc5200000011",
      "accountId": "c3cc7e30-99bb-11e6-8a84-bc5200000001",
      "quantity": 80,
      "price": 4000.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/58948866-ad65-11e6-8a84-bc52000000cf",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
        }
      },
      "correctionAmount": -20,
      "calculatedQuantity": 100,
      "correctionSum": -80000
    }
  ]
}
Позиция ИнвентаризацииПолучить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Инвентаризации.


positionID
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b20 id позиции.


Запрос на получение отдельной позиции Инвентаризации с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/inventory/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Инвентаризации.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20",
    "type": "inventoryposition",
    "mediaType": "application/json"
  },
  "id": "7944ef04-f831-11e5-7a69-971500188b20",
  "accountId": "c3cc7e30-99bb-11e6-8a84-bc5200000001",
  "quantity": 140,
  "price": 5000.0,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/b6be720e-ad63-11e6-8a84-bc520000008f",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
    }
  },
  "correctionAmount": -60,
  "calculatedQuantity": 200,
  "correctionSum": -300000
}
Создать позицию
Запрос на создание новой позиции в Инвентаризации.
Для успешного создания необходимо в теле запроса указать следующие поля:

assortment - Ссылка на товар/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем  consignment, variant в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании позиции Инвентаризации
quantity - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций Инвентаризации. Все созданные данным запросом позиции
будут добавлены к уже существующим.

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Инвентаризации.


Пример создания позиций в Инвентаризации.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/inventory/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "meta": {
              "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/7944ef04-f831-11e5-7a69-971500188b19/positions/201452a2-ad6f-11e6-8a84-bc5200000010",
              "type": "inventoryposition",
              "mediaType": "application/json"
            },
            "id": "201452a2-ad6f-11e6-8a84-bc5200000010",
            "accountId": "c3cc7e30-99bb-11e6-8a84-bc5200000001",
            "quantity": 140,
            "price": 2000.0,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/b6be720e-ad63-11e6-8a84-bc520000008f",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                "type": "product",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельной Инвентаризации.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/7944ef04-f831-11e5-7a69-971500188b19/positions/201452a2-ad6f-11e6-8a84-bc5200000010",
      "type": "inventoryposition",
      "mediaType": "application/json"
    },
    "id": "201452a2-ad6f-11e6-8a84-bc5200000010",
    "accountId": "c3cc7e30-99bb-11e6-8a84-bc5200000001",
    "quantity": 140,
    "price": 2000.0,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/b6be720e-ad63-11e6-8a84-bc520000008f",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
      }
    },
    "correctionAmount": -60,
    "calculatedQuantity": 200,
    "correctionSum": -120000
  }
]
Изменить позицию
Запрос на обновление отдельной позиции Инвентаризации. Для обновления позиции нет каких-либо
обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Инвентаризации.


positionID
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b20 id позиции.


Пример запроса на обновление отдельной позиции в Инвентаризации.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/inventory/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "meta": {
              "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20",
              "type": "inventoryposition",
              "mediaType": "application/json"
            },
            "id": "201452a2-ad6f-11e6-8a84-bc5200000010",
            "accountId": "c3cc7e30-99bb-11e6-8a84-bc5200000001",
            "quantity": 45,
            "price": 1000.0,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/b6be720e-ad63-11e6-8a84-bc520000008f",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                "type": "product",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной позиции Инвентаризации.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20",
    "type": "inventoryposition",
    "mediaType": "application/json"
  },
  "id": "7944ef04-f831-11e5-7a69-971500188b20",
  "accountId": "c3cc7e30-99bb-11e6-8a84-bc5200000001",
  "quantity": 45,
  "price": 1000.0,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/b6be720e-ad63-11e6-8a84-bc520000008f",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
    }
  },
  "correctionAmount": -155,
  "calculatedQuantity": 200,
  "correctionSum": -155000
}
Удалить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Инвентаризации.


positionID
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b20 id позиции.


Запрос на удаление отдельной позиции Инвентаризации с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/inventory/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление позиции Инвентаризации.

Массовое удаление позиций
Параметры


Параметр
Описание



id
string (required) Example: 3e1c03bb-684f-11ee-ac12-000c000000b0 id Инвентаризации.


Запрос на массовое удаление позиций Инвентаризации.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/inventory/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "inventoryposition",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/inventory/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "inventoryposition",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление позиций Инвентаризации. 

Исходящий платежИсходящие платежи
Средствами JSON API можно создавать и обновлять сведения о Исходящем платеже, запрашивать списки Исходящих платежей  и сведения по отдельным Исходящим платежам. Кодом сущности для Исходящего платежа  в составе JSON API является ключевое слово paymentout. Больше о платежа х и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по этой ссылке.
Атрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


agent
Meta
= !=
Метаданные контрагента, сотрудника или юр.лицаОбязательное при ответе Expand Необходимо при создании


agentAccount
Meta

Метаданные счета контрагента или юр.лицаExpand


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта


code
String(255)
= != ~ ~= =~
Код Исходящего платежа


contract
Meta
= !=
Метаданные договораExpand


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления Исходящего платежаТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Исходящего платежа


expenseItem
Meta

Метаданные Статьи расходовОбязательное при ответе Expand Необходимо при создании


externalCode
String(255)
= != ~ ~= =~
Внешний код Исходящего платежаОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


noClosingDocs
Boolean

Признак возможности привязки закрывающих документов и отключения взаиморасчетов с контрагентом по этой выплатеОбязательное при ответе Только для чтения


id
UUID
= !=
ID Исходящегоо платежаОбязательное при ответе Только для чтения


meta
Meta

Метаданные Исходящего платежаОбязательное при ответе


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование Исходящего платежаОбязательное при ответе


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании


organizationAccount
Meta

Метаданные счета юрлицаExpand


owner
Meta
= !=
Владелец (Сотрудник)Expand


paymentPurpose
String(255)
= != ~ ~= =~
Назначение платежаОбязательное при ответе


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


project
Meta
= !=
Метаданные проектаExpand


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


rate
Object

Валюта. Подробнее тутОбязательное при ответе


salesChannel
Meta
= !=
Метаданные канала продажExpand


shared
Boolean
= !=
Общий доступОбязательное при ответе


state
Meta
= !=
Метаданные статуса Исходящего платежаExpand


sum
Int
= != < > <= >=
Сумма Исходящего платежа в установленной валютеОбязательное при ответе


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


updated
DateTime
= != < > <= >=
Момент последнего обновления Исходящего платежаОбязательное при ответе Только для чтения


vatSum
Float

Сумма НДСОбязательное при ответе


Связи с другими документами


Название
Описание



factureIn
Ссылка на Счет-фактуру полученный, с которым связан этот платеж в формате Метаданных


operations
Массив ссылок на связанные операции в формате Метаданных


Разрешенные типы связанных операций:

Возврат покупателя (salesreturn)
Приемка (supply)
Счет поставщика (invoicein)
Заказ поставщику (purchaseorder)
Выданный отчет комиссионера (commissionreportout)

О работе с доп. полями Исходящих  платежей  можно прочитать здесь
Получить Исходящие платежи
Запрос всех Исходящих  платежей  на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Исходящие платежи.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить Исходящие платежи
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/paymentout"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Исходящих платежей .
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata",
    "type": "paymentout",
    "mediaType": "application/json",
    "size": 3,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/64aa2e8c-3f95-11e6-8a84-bae50000010f",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata",
        "type": "paymentout",
        "mediaType": "application/json"
      },
      "id": "64aa2e8c-3f95-11e6-8a84-bae50000010f",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-07-01 17:09:15",
      "name": "00001",
      "description": "Платим контрагенту",
      "externalCode": "1PPP5fDei13CwEHXYUpV62",
      "moment": "2016-07-01 17:07:00",
      "applicable": true,
      "created": "2016-08-25 19:55:00",
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/faf45b9a-2e58-11e6-8a84-bae500000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 12525000,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "contract": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/4680d884-3f95-11e6-8a84-bae50000010c",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
          "type": "contract",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/722e39f0-313e-11e6-8a84-bae500000008",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1496c09e-32ca-11e6-8a84-bae50000001b",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "attributes": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata/attributes/ebc69be9-3f91-11e6-8a84-bae500000104",
            "type": "attributemetadata",
            "mediaType": "application/json"
          },
          "id": "ebc69be9-3f91-11e6-8a84-bae500000104",
          "name": "Поступил",
          "type": "boolean",
          "value": false
        }
      ],
      "paymentPurpose": "Оплата по счету за приемку",
      "expenseItem": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
          "type": "expenseitem",
          "mediaType": "application/json"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/6c527858-3f95-11e6-8a84-bae500000113",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata",
        "type": "paymentout",
        "mediaType": "application/json"
      },
      "id": "6c527858-3f95-11e6-8a84-bae500000113",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-07-01 17:09:28",
      "name": "00002",
      "externalCode": "ixPEZ2RyieYILZJ73FkAT1",
      "moment": "2016-07-01 17:09:00",
      "applicable": true,
      "created": "2016-08-25 19:55:00",
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 0,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1489a08d-32ca-11e6-8a84-bae50000000d",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "agentAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1489a08d-32ca-11e6-8a84-bae50000000d/accounts/1489ad8d-32ca-11e6-8a84-bae50000000e",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "attributes": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata/attributes/ebc69be9-3f91-11e6-8a84-bae500000104",
            "type": "attributemetadata",
            "mediaType": "application/json"
          },
          "id": "ebc69be9-3f91-11e6-8a84-bae500000104",
          "name": "Поступил",
          "type": "boolean",
          "value": false
        }
      ],
      "expenseItem": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
          "type": "expenseitem",
          "mediaType": "application/json"
        }
      },
      "operations": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/90ba347d-6b8b-11e6-8a84-bae5000000bd",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
            "type": "supply",
            "mediaType": "application/json"
          },
          "linkedSum": 80000
        }
      ]
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/d557dabe-3d3e-11e6-8a84-bae500000000",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata",
        "type": "paymentout",
        "mediaType": "application/json"
      },
      "id": "d557dabe-3d3e-11e6-8a84-bae500000000",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-06-28 17:44:35",
      "name": "408",
      "externalCode": "Q7wBn7oYh-B70arUTG08u3",
      "moment": "2015-06-19 00:00:00",
      "applicable": true,
      "created": "2016-08-25 19:55:00",
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 7283600,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/c466c1a8-3d2d-11e6-8a84-bae500000000",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "agentAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/c466c1a8-3d2d-11e6-8a84-bae500000000/accounts/c4673735-3d2d-11e6-8a84-bae500000001",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "paymentPurpose": "Оплата за ноутбук по счету № 340 от 19 июня 2015  Без НДС",
      "expenseItem": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
          "type": "expenseitem",
          "mediaType": "application/json"
        }
      }
    }
  ]
}
Создать Исходящий платеж
Запрос на создание нового Исходящего платежа .
Обязательные для создания поля:


Параметр
Описание



organization
Ссылка на ваше юрлицо в формате Метаданных


agent
Ссылка на контрагента, сотрудника или юр.лицо в формате Метаданных


expenseItem
Статья расходов в формате Метаданных


Пример создания нового Исходящего платежа  с телом запроса, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/paymentout
"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "expenseItem": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
                "type": "expenseitem",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Исходящего платежа .
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/99434e4c-3fa0-11e6-8a84-bae50000009c",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata",
    "type": "paymentout",
    "mediaType": "application/json"
  },
  "id": "99434e4c-3fa0-11e6-8a84-bae50000009c",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "name": "333222",
  "moment": "2016-06-27 17:52:24",
  "applicable": false,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "expenseItem": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
      "type": "expenseitem",
      "mediaType": "application/json"
    }
  }
}
Массовое создание и обновление Исходящих платежей
Массовое создание и обновление Исходящих платежей.
В теле запроса нужно передать массив, содержащий JSON представления Исходящих платежей, которые вы хотите создать или обновить.
Обновляемые Исходящие платежи должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Исходящих платежей
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/paymentout"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "name": "333222",
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                  "type": "counterparty",
                  "mediaType": "application/json"
                }
              },
              "expenseItem": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
                  "type": "expenseitem",
                  "mediaType": "application/json"
                }
              }
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/99434e4c-3fa0-11e6-8a84-bae50000009c",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata",
                "type": "paymentout",
                "mediaType": "application/json"
              },
              "name": "888",
              "description": "НИП",
              "sum": 999,
              "code": "39393",
              "externalCode": "o34bajf214812slkanf",
              "moment": "2012-10-31 15:52:24",
              "applicable": true
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Исходящих платежей.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/99434e4c-3fa0-11e6-8a84-bae50000009c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata",
      "type": "paymentout",
      "mediaType": "application/json"
    },
    "id": "99434e4c-3fa0-11e6-8a84-bae50000009c",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "name": "333222",
    "moment": "2016-06-27 17:52:24",
    "applicable": false,
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 0,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "agentAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "expenseItem": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
        "type": "expenseitem",
        "mediaType": "application/json"
      }
    }
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/99434e4c-3fa0-11e6-8a84-bae50000009c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata",
      "type": "paymentout",
      "mediaType": "application/json"
    },
    "id": "99434e4c-3fa0-11e6-8a84-bae50000009c",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-07-01 18:32:14",
    "name": "888",
    "description": "НИП",
    "code": "39393",
    "externalCode": "o34bajf214812slkanf",
    "moment": "2012-10-31 14:52:24",
    "applicable": true,
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 999,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "agentAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "expenseItem": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
        "type": "expenseitem",
        "mediaType": "application/json"
      }
    }
  }
]

Удалить Исходящий платеж
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Исходящего платежа.


Запрос на удаление Исходящего платежа  с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Исходящего платежа .

Массовое удаление Исходящих платежей
В теле запроса нужно передать массив, содержащий JSON метаданных Исходящих платежей, которые вы хотите удалить.
Запрос на массовое удаление Исходящих платежей. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata",
                "type": "paymentout",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata",
                "type": "paymentout",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Исходящих платежей.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'paymentout' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'paymentout' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные Исходящих платежейМетаданные Исходящих платежей
Запрос на получение метаданных Исходящих платежей . Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Исходящих платежей


attributes
Массив объектов доп. полей Исходящих платежей в формате Метаданных


states
Массив статусов Исходящих платежей


createShared
создавать новые Исходящие платежи с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Исходящих платежей
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Исходящих платежей .
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata/attributes/ebc68f7a-3f91-11e6-8a84-bae500000102",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "ebc68f7a-3f91-11e6-8a84-bae500000102",
      "name": "Доля",
      "type": "double",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata/attributes/ebc69606-3f91-11e6-8a84-bae500000103",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "ebc69606-3f91-11e6-8a84-bae500000103",
      "name": "Попытки",
      "type": "long",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata/attributes/ebc69be9-3f91-11e6-8a84-bae500000104",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "ebc69be9-3f91-11e6-8a84-bae500000104",
      "name": "Поступил",
      "type": "boolean",
      "required": false
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata/attributes/ed00a639-558a-11e6-8a84-bae500000072",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "customEntityMeta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/customentity/a27aa372-5311-11e6-8a84-bae500000001/metadata",
    "type": "customentitymetadata",
    "mediaType": "application/json"
  },
  "id": "ed00a639-558a-11e6-8a84-bae500000072",
  "name": "Сущности",
  "type": "customentity",
  "required": false
}
Шаблон Исходящего платежаШаблон Исходящего платежа
Запрос на получение предзаполненого стандартными значениями шаблона исходящего платежа без связи с каким-либо документом.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d ''  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного исходящего платежа.
ПоказатьСвернуть
{
  "applicable": true,
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "expenseItem": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
      "type": "expenseitem",
      "mediaType": "application/json"
    }
  }
}
Шаблон Исходящего платежа на основе
Запрос на создание получение прелзаполненного исходящего платежа на основе другого документа.
В результате запроса, будет создан предзаполненный шаблон исходящего платеж на основе переданного документа.
Запрос на получение шаблона исходящего платежа на основе заказа поставщику.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/17a06771-961b-11e6-8a84-bae500000080",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
                  "type": "purchaseorder",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного исходящего платежа.
ПоказатьСвернуть
{
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942953e-9128-11e6-8a84-bae500000054",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "paymentPurpose": "Оплата по заказу № 00001 от 2016-10-19 19:42:00. Сумма: 0,00 без НДС",
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/17a06771-961b-11e6-8a84-bae500000080",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
        "type": "purchaseorder",
        "mediaType": "application/json"
      },
      "linkedSum": 0
    }
  ],
  "expenseItem": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
      "type": "expenseitem",
      "mediaType": "application/json"
    }
  }
}

Запрос на получение шаблона исходящего платежа на основе возврата покупателя.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/3b0f51a4-961b-11e6-8a84-bae500000086",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
                  "type": "salesreturn",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного исходящего платежа.
ПоказатьСвернуть
{
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/2b0f10e4-9169-11e6-8a84-bae500000000",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "paymentPurpose": "Возврат по накладной № 00001 от 2016-10-19 19:43:00. Сумма: 0,00 без НДС",
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/3b0f51a4-961b-11e6-8a84-bae500000086",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
        "type": "salesreturn",
        "mediaType": "application/json"
      },
      "linkedSum": 0
    }
  ],
  "expenseItem": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2395a-0479-11e5-baee-448a5b426e7e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
      "type": "expenseitem",
      "mediaType": "application/json"
    }
  }
}

Запрос на получение шаблона исходящего платежа на основе приемки.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/0f57efd5-91f3-11e6-8a84-bae500000086",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
                  "type": "supply",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного исходящего платежа.
ПоказатьСвернуть
{
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "paymentPurpose": "Оплата по накладной № 123 от 2016-10-14 12:46:00. Сумма: 0,00 без НДС",
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/0f57efd5-91f3-11e6-8a84-bae500000086",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
        "type": "supply",
        "mediaType": "application/json"
      },
      "linkedSum": 0
    }
  ],
  "expenseItem": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
      "type": "expenseitem",
      "mediaType": "application/json"
    }
  }
}

Запрос на получение шаблона исходящего платежа на основе счета поставщика.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/e43b34bc-961a-11e6-8a84-bae50000006f",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
                  "type": "invoicein",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного исходящего платежа.
ПоказатьСвернуть
{
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "paymentPurpose": "Оплата по счету № 00001 от 2016-10-19 19:41:00. Сумма: 0,00 без НДС",
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/e43b34bc-961a-11e6-8a84-bae50000006f",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
        "type": "invoicein",
        "mediaType": "application/json"
      },
      "linkedSum": 0
    }
  ],
  "expenseItem": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
      "type": "expenseitem",
      "mediaType": "application/json"
    }
  }
}

Запрос на получение шаблона исходящего платежа на основе выданного отчета комиссионера.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/394e3f39-b322-11e6-8a84-bae50000009e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata",
                  "type": "commissionreportout",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного исходящего платежа.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-11-25 18:19:15",
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 10200850,
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/c3057574-ab01-11e6-8a84-bae500000070",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "paymentPurpose": "Оплата по выданному отчету комиссионера № 0000000000000000002 от 2016-11-25 18:16:00. Сумма: 102 008,50 без НДС",
  "vatSum": 0,
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/394e3f39-b322-11e6-8a84-bae50000009e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata",
        "type": "commissionreportout",
        "mediaType": "application/json"
      },
      "linkedSum": 10200850
    }
  ],
  "expenseItem": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
      "type": "expenseitem",
      "mediaType": "application/json"
    }
  }
}
Исходящий платежПолучить Исходящий платеж
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Исходящего платежа.


Запрос на получение отдельного Исходящего платежа с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Исходящего платежа.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/64aa2e8c-3f95-11e6-8a84-bae50000010f",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata",
    "type": "paymentout",
    "mediaType": "application/json"
  },
  "id": "64aa2e8c-3f95-11e6-8a84-bae50000010f",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 17:09:15",
  "name": "00001",
  "description": "Платим контрагенту",
  "externalCode": "1PPP5fDei13CwEHXYUpV62",
  "moment": "2016-07-01 17:07:00",
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/faf45b9a-2e58-11e6-8a84-bae500000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 12525000,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/4680d884-3f95-11e6-8a84-bae50000010c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/722e39f0-313e-11e6-8a84-bae500000008",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1496c09e-32ca-11e6-8a84-bae50000001b",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata/attributes/ebc69be9-3f91-11e6-8a84-bae500000104",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "ebc69be9-3f91-11e6-8a84-bae500000104",
      "name": "Поступил",
      "type": "boolean",
      "value": false
    }
  ],
  "paymentPurpose": "Оплата по счету за приемку",
  "expenseItem": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
      "type": "expenseitem",
      "mediaType": "application/json"
    }
  },
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/90ba347d-6b8b-11e6-8a84-bae5000000bd",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
        "type": "supply",
        "mediaType": "application/json"
      },
      "linkedSum": 80000
    }
  ]
}
Изменить Исходящий платеж
Запрос на обновление Исходящего платежа   с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Исходящего платежа , кроме тех, что
помечены Только для чтения в описании атрибутов Исходящего платежа .
При обновлении полей organization и agent нужно также обновить поля organizationAccount и
agentAccount соответственно, иначе произойдет ошибка.
Для привязки исходящего платежа к другим документам
нужно положить в поле под именем operations все meta тех документов, к которым вы хотите привязать финансовую операцию.
Также для каждого документа можно указать cумму, оплаченную по данному документу из этого платежа linkedSum.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Исходящего платежа.


Пример запроса на обновление отдельного Исходящего платежа .
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "888",
            "description": "НИП",
            "sum": 999,
            "code": "39393",
            "externalCode": "o34bajf214812slkanf",
            "moment": "2012-10-31 15:52:24",
            "applicable": true
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Исходящего платежа .
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/99434e4c-3fa0-11e6-8a84-bae50000009c",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata",
    "type": "paymentout",
    "mediaType": "application/json"
  },
  "id": "99434e4c-3fa0-11e6-8a84-bae50000009c",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 18:32:14",
  "name": "888",
  "description": "НИП",
  "code": "39393",
  "externalCode": "o34bajf214812slkanf",
  "moment": "2012-10-31 14:52:24",
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 999,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "expenseItem": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
      "type": "expenseitem",
      "mediaType": "application/json"
    }
  }
}
Корректировка взаиморасчетов
Средствами JSON API можно создавать и обновлять сведения о Корректировках взаиморасчетов, запрашивать списки Корректировок взаиморасчетов и сведения по отдельным Корректировкам взаиморасчетов. 
Кодом сущности для Корректировки взаиморасчетов в составе JSON API является ключевое слово counterpartyadjustment. Больше о Корректировках взаиморасчетов и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по  этой ссылке.
Корректировки взаиморасчетовАтрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


agent
Meta
= !=
Метаданные контрагента или сотрудникаОбязательное при ответе Expand Необходимо при создании


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления Корректировки взаиморасчетовТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Корректировки взаиморасчетов


externalCode
String(255)
= != ~ ~= =~
Внешний код Корректировки взаиморасчетовОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID Корректировки взаиморасчетовОбязательное при ответе Только для чтения


meta
Meta

Метаданные Корректировки взаиморасчетовОбязательное при ответе


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование Корректировки взаиморасчетовОбязательное при ответе


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании


owner
Meta
= !=
Владелец (Сотрудник)Expand


printed
Boolean

Напечатан ли документОбязательное при ответе Только для чтения


published
Boolean

Опубликован ли документОбязательное при ответе Только для чтения


shared
Boolean
= !=
Общий доступОбязательное при ответе


sum
Int
= != < > <= >=
Сумма Корректировки взаиморасчетов в копейкахОбязательное при ответе Только для чтения


updated
DateTime
= != < > <= >=
Момент последнего обновления Корректировки взаиморасчетовОбязательное при ответе Только для чтения


Получить список Корректировок взаиморасчетов
Запрос всех Корректировок взаиморасчетов на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Корректировки взаиморасчетов.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить список Корректировок взаиморасчетов
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Корректировок взаиморасчетов.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/",
    "type": "counterpartyadjustment",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/1bb899bc-0b17-11ec-ac16-000a00000006",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/metadata",
        "type": "counterpartyadjustment",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#counterpartyadjustment/edit?id=1bb899bc-0b17-11ec-ac16-000a00000006"
      },
      "id": "1bb899bc-0b17-11ec-ac16-000a00000006",
      "accountId": "9067e733-099c-11ec-ac16-000c00000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9334c6a2-099c-11ec-ac16-000b00000042",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=9334c6a2-099c-11ec-ac16-000b00000042"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/906f1cd6-099c-11ec-ac16-000c00000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2021-09-01 14:24:01.814",
      "name": "00002",
      "externalCode": "uUqTX1fBhBcEReQytuMOa2",
      "moment": "2021-09-01 14:24:00.000",
      "applicable": true,
      "sum": 12.0,
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/947ebfcd-099c-11ec-ac16-000b00000083",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=947ebfcd-099c-11ec-ac16-000b00000083"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/94527995-099c-11ec-ac16-000b0000007e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=94527995-099c-11ec-ac16-000b0000007e"
        }
      },
      "created": "2021-09-01 14:24:01.873",
      "printed": false,
      "published": false,
      "attributes": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/metadata/attributes/f478774c-0bfb-11ec-ac12-000d000000d1",
            "type": "attributemetadata",
            "mediaType": "application/json"
          },
          "id": "f478774c-0bfb-11ec-ac12-000d000000d1",
          "name": "Адрес проживания",
          "type": "string",
          "value": "Гороховая улица д. 666"
        }
      ],
      "files": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/1bb899bc-0b17-11ec-ac16-000a00000006/files",
          "type": "files",
          "mediaType": "application/json",
          "size": 0,
          "limit": 1000,
          "offset": 0
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/24d56ba6-0b14-11ec-ac16-000b00000013",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/metadata",
        "type": "counterpartyadjustment",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#counterpartyadjustment/edit?id=24d56ba6-0b14-11ec-ac16-000b00000013"
      },
      "id": "24d56ba6-0b14-11ec-ac16-000b00000013",
      "accountId": "9067e733-099c-11ec-ac16-000c00000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9334c6a2-099c-11ec-ac16-000b00000042",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=9334c6a2-099c-11ec-ac16-000b00000042"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/906f1cd6-099c-11ec-ac16-000c00000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2021-09-01 14:19:49.993",
      "name": "00001",
      "description": "description",
      "externalCode": "W5JWJ02SgTK5JRdcyQBUN0",
      "moment": "2021-09-01 14:02:00.000",
      "applicable": true,
      "sum": 21300.0,
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/947ebfcd-099c-11ec-ac16-000b00000083",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=947ebfcd-099c-11ec-ac16-000b00000083"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/94527995-099c-11ec-ac16-000b0000007e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=94527995-099c-11ec-ac16-000b0000007e"
        }
      },
      "created": "2021-09-01 14:02:48.685",
      "printed": false,
      "published": false,
      "files": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/24d56ba6-0b14-11ec-ac16-000b00000013/files",
          "type": "files",
          "mediaType": "application/json",
          "size": 0,
          "limit": 1000,
          "offset": 0
        }
      }
    }
  ]
}
Создать Корректировку взаиморасчетов
Запрос на создание новой Корректировки взаиморасчетов.
Обязательные для создания поля:


Параметр
Описание



organization
Ссылка на ваше юрлицо в формате Метаданных


agent
Ссылка на контрагента или сотрудника в формате Метаданных


Пример создания новой Корректировки взаиморасчетов.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/947ebfcd-099c-11ec-ac16-000b00000083",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=947ebfcd-099c-11ec-ac16-000b00000083"
              }
            },
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/94527995-099c-11ec-ac16-000b0000007e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=94527995-099c-11ec-ac16-000b0000007e"
              }
            },
            "sum": 12.5
          }
'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Корректировки взаиморасчетов.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/2775d672-0b1a-11ec-ac16-000a0000000a",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/metadata",
    "type": "counterpartyadjustment",
    "mediaType": "application/json",
    "uuidHref": "https://online.moysklad.ru/app/#counterpartyadjustment/edit?id=2775d672-0b1a-11ec-ac16-000a0000000a"
  },
  "id": "2775d672-0b1a-11ec-ac16-000a0000000a",
  "accountId": "9067e733-099c-11ec-ac16-000c00000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9334c6a2-099c-11ec-ac16-000b00000042",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=9334c6a2-099c-11ec-ac16-000b00000042"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/906f1cd6-099c-11ec-ac16-000c00000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2021-09-01 14:45:50.001",
  "name": "00003",
  "externalCode": "TKlkN7I6jVg9lbUPJlvK-0",
  "moment": "2021-09-01 14:45:00.000",
  "applicable": true,
  "sum": 12.5,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/947ebfcd-099c-11ec-ac16-000b00000083",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=947ebfcd-099c-11ec-ac16-000b00000083"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/94527995-099c-11ec-ac16-000b0000007e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=94527995-099c-11ec-ac16-000b0000007e"
    }
  },
  "created": "2021-09-01 14:45:50.060",
  "printed": false,
  "published": false,
  "files": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/2775d672-0b1a-11ec-ac16-000a0000000a/files",
      "type": "files",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  }
}
Массовое создание и обновление Корректировок взаиморасчетов
Массовое создание и обновление Корректировок взаиморасчетов.
В теле запроса нужно передать массив, содержащий JSON представления Корректировок взаиморасчетов, которые вы хотите создать или обновить.
Обновляемые Корректировки взаиморасчетов должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Корректировок взаиморасчетов
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/947ebfcd-099c-11ec-ac16-000b00000083",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                  "type": "counterparty",
                  "mediaType": "application/json",
                  "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=947ebfcd-099c-11ec-ac16-000b00000083"
                }
              },
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/94527995-099c-11ec-ac16-000b0000007e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json",
                  "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=94527995-099c-11ec-ac16-000b0000007e"
                }
              },
              "sum": 12.5
            },
            {
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/947ebfcd-099c-11ec-ac16-000b00000055",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                  "type": "counterparty",
                  "mediaType": "application/json",
                  "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=947ebfcd-099c-11ec-ac16-000b00000055"
                }
              },
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/94527995-099c-11ec-ac16-000b00000066",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json",
                  "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=94527995-099c-11ec-ac16-000b00000066"
                }
              },
              "sum": 32
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Корректировок взаиморасчетов.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/13bf011a-0b1b-11ec-ac16-000a0000000e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/metadata",
      "type": "counterpartyadjustment",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#counterpartyadjustment/edit?id=13bf011a-0b1b-11ec-ac16-000a0000000e"
    },
    "id": "13bf011a-0b1b-11ec-ac16-000a0000000e",
    "accountId": "9067e733-099c-11ec-ac16-000c00000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9334c6a2-099c-11ec-ac16-000b00000042",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=9334c6a2-099c-11ec-ac16-000b00000042"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/906f1cd6-099c-11ec-ac16-000c00000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2021-09-01 14:52:26.430",
    "name": "00004",
    "externalCode": "WWA5w--1ggqvF29G28atu1",
    "moment": "2021-09-01 14:52:00.000",
    "applicable": true,
    "sum": 12.5,
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/947ebfcd-099c-11ec-ac16-000b00000083",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=947ebfcd-099c-11ec-ac16-000b00000083"
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/94527995-099c-11ec-ac16-000b0000007e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=94527995-099c-11ec-ac16-000b0000007e"
      }
    },
    "created": "2021-09-01 14:52:26.476",
    "printed": false,
    "published": false,
    "files": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/13bf011a-0b1b-11ec-ac16-000a0000000e/files",
        "type": "files",
        "mediaType": "application/json",
        "size": 0,
        "limit": 1000,
        "offset": 0
      }
    }
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/13cc2d25-0b1b-11ec-ac16-000a00000012",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/metadata",
      "type": "counterpartyadjustment",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#counterpartyadjustment/edit?id=13cc2d25-0b1b-11ec-ac16-000a00000012"
    },
    "id": "13cc2d25-0b1b-11ec-ac16-000a00000012",
    "accountId": "9067e733-099c-11ec-ac16-000c00000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9334c6a2-099c-11ec-ac16-000b00000042",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=9334c6a2-099c-11ec-ac16-000b00000042"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/906f1cd6-099c-11ec-ac16-000c00000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2021-09-01 14:52:26.560",
    "name": "00005",
    "externalCode": "qDER7dHnjwb-cSk62SHAu2",
    "moment": "2021-09-01 14:52:00.000",
    "applicable": true,
    "sum": 32.0,
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/947ebfcd-099c-11ec-ac16-000b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=947ebfcd-099c-11ec-ac16-000b00000055"
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/94527995-099c-11ec-ac16-000b00000066",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=94527995-099c-11ec-ac16-000b00000066"
      }
    },
    "created": "2021-09-01 14:52:26.576",
    "printed": false,
    "published": false,
    "files": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/13cc2d25-0b1b-11ec-ac16-000a00000012/files",
        "type": "files",
        "mediaType": "application/json",
        "size": 0,
        "limit": 1000,
        "offset": 0
      }
    }
  }
]
Удалить Корректировку взаиморасчетов
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Корректировки взаиморасчетов.


Запрос на удаление Корректировки взаиморасчетов с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Корректировки взаиморасчетов.

Массовое удаление Корректировок взаиморасчетов
В теле запроса нужно передать массив, содержащий JSON метаданных Корректировок взаиморасчетов, которые вы хотите удалить.
Запрос на массовое удаление Корректировок взаиморасчетов.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/metadata",
                "type": "counterpartyadjustment",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/metadata",
                "type": "counterpartyadjustment",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Корректировок взаиморасчетов.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'counterpartyadjustment' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'counterpartyadjustment' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные Корректировок взаиморасчетовМетаданные Корректировок взаиморасчетов
Запрос на получение метаданных Корректировок взаиморасчетов. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Корректировок взаиморасчетов


attributes
Массив объектов доп. полей Корректировок взаиморасчетов в формате Метаданных


createShared
создавать новые Корректировки взаиморасчетов с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Корректировок взаиморасчетов
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Корректировок взаиморасчетов.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/metadata",
    "mediaType": "application/json"
  },
  "attributes": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/metadata/attributes",
      "type": "attributemetadata",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "createShared": false
}
Корректировка взаиморасчетовПолучить Корректировку взаиморасчетов
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Корректировки взаиморасчетов.


Запрос на получение отдельной Корректировки взаиморасчетов с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Корректировки взаиморасчетов.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/7944ef04-f831-11e5-7a69-971500188b19",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/metadata",
    "type": "counterpartyadjustment",
    "mediaType": "application/json",
    "uuidHref": "https://online.moysklad.ru/app/#counterpartyadjustment/edit?id=7944ef04-f831-11e5-7a69-971500188b19"
  },
  "id": "7944ef04-f831-11e5-7a69-971500188b19",
  "accountId": "9067e733-099c-11ec-ac16-000c00000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9334c6a2-099c-11ec-ac16-000b00000042",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=9334c6a2-099c-11ec-ac16-000b00000042"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/906f1cd6-099c-11ec-ac16-000c00000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2021-09-01 14:52:26.430",
  "name": "00004",
  "externalCode": "WWA5w--1ggqvF29G28atu1",
  "moment": "2021-09-01 14:52:00.000",
  "applicable": true,
  "sum": 12.5,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/947ebfcd-099c-11ec-ac16-000b00000083",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=947ebfcd-099c-11ec-ac16-000b00000083"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/94527995-099c-11ec-ac16-000b0000007e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=94527995-099c-11ec-ac16-000b0000007e"
    }
  },
  "created": "2021-09-01 14:52:26.476",
  "printed": false,
  "published": false,
  "files": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/7944ef04-f831-11e5-7a69-971500188b19/files",
      "type": "files",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  }
}
Изменить Корректировку взаиморасчетов
Запрос на обновление Корректировки взаиморасчетов с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Корректировки взаиморасчетов, кроме тех, что
помечены Только для чтения в описании атрибутов Корректировки взаиморасчетов.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Корректировки взаиморасчетов.


Пример запроса на обновление отдельной Корректировки взаиморасчетов.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "sum": 123
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной Корректировки взаиморасчетов.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/7944ef04-f831-11e5-7a69-971500188b19",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/metadata",
    "type": "counterpartyadjustment",
    "mediaType": "application/json",
    "uuidHref": "https://online.moysklad.ru/app/#counterpartyadjustment/edit?id=7944ef04-f831-11e5-7a69-971500188b19"
  },
  "id": "7944ef04-f831-11e5-7a69-971500188b19",
  "accountId": "9067e733-099c-11ec-ac16-000c00000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9334c6a2-099c-11ec-ac16-000b00000042",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=9334c6a2-099c-11ec-ac16-000b00000042"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/906f1cd6-099c-11ec-ac16-000c00000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2021-09-01 14:52:26.430",
  "name": "00004",
  "externalCode": "WWA5w--1ggqvF29G28atu1",
  "moment": "2021-09-01 14:52:00.000",
  "applicable": true,
  "sum": 123.0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/947ebfcd-099c-11ec-ac16-000b00000083",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=947ebfcd-099c-11ec-ac16-000b00000083"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/94527995-099c-11ec-ac16-000b0000007e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=94527995-099c-11ec-ac16-000b0000007e"
    }
  },
  "created": "2021-09-01 14:52:26.476",
  "printed": false,
  "published": false,
  "files": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterpartyadjustment/7944ef04-f831-11e5-7a69-971500188b19/files",
      "type": "files",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  }
}
Оприходование
Средствами JSON API можно создавать и обновлять сведения об Оприходованиях, запрашивать списки Оприходований и сведения по отдельным Оприходованиям. Позициями Оприходований можно управлять как в составе отдельного Оприходования, так и отдельно - с помощью специальных ресурсов для управления позициями Оприходования. Кодом сущности для Оприходования в составе JSON API является ключевое слово enter. Больше об Оприходованиях можно прочитать этой ссылке.
ОприходованияАтрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения Change-handler


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе Change-handler Update-provider


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта  Change-handler Update-provider


code
String(255)
= != ~ ~= =~
Код Оприходования


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения Change-handler


deleted
DateTime
= != < > <= >=
Момент последнего удаления ОприходованияТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Оприходования  Change-handler Update-provider


externalCode
String(255)
= != ~ ~= =~
Внешний код ОприходованияОбязательное при ответе Change-handler


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID ОприходованияОбязательное при ответе Только для чтения Change-handler


meta
Meta

Метаданные ОприходованияОбязательное при ответе Change-handler


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе Change-handler Update-provider


name
String(255)
= != ~ ~= =~
Номер ОприходованияОбязательное при ответе Change-handler Update-provider


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании Change-handler Update-provider


overhead
Object

Накладные расходы. Подробнее тут. Если Позиции Оприходования не заданы, то накладные расходы нельзя задатьUpdate-provider


owner
Meta
= !=
Владелец (Сотрудник)Expand


positions
MetaArray

Метаданные позиций ОприходованияОбязательное при ответе Expand Change-handler Update-provider


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


project
Meta
= !=
Метаданные проектаExpand Change-handler Update-provider


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


rate
Object

Валюта. Подробнее тутОбязательное при ответе Change-handler Update-provider


shared
Boolean
= !=
Общий доступОбязательное при ответе


state
Meta
= !=
Метаданные статуса оприходованияExpand Change-handler Update-provider


store
Meta
= !=
Метаданные складаОбязательное при ответе Expand Необходимо при создании Change-handler Update-provider


sum
Int
= != < > <= >=
Сумма Оприходования в копейкахОбязательное при ответе Только для чтения Change-handler


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


updated
DateTime
= != < > <= >=
Момент последнего обновления ОприходованияОбязательное при ответе Только для чтения Change-handler


Накладные расходы
Описание полей overhead


Название
Тип
Описание



sum
Int
Сумма Оприходования в копейкахОбязательное при ответе Update-provider


distribution
Enum
Распределение накладных расходов [weight, volume, price] -> [по весу, по объему, по цене]Обязательное при ответе Update-provider


Связи с другими документами


Название
Описание



inventory
Ссылка на связанную с оприходованием инвентаризацию в формате Метаданных


Позиции Оприходования
Позиции Оприходования - это список товаров/модификаций/серий.
Объект позиции Оприходования содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения Change-handler


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияОбязательное при ответе Expand Change-handler Update-provider


country
Meta
Метаданные страныExpand


gtd
Object
ГТД. Подробнее тут


id
UUID
ID позицииОбязательное при ответе Только для чтения Change-handler


overhead
Int
Накладные расходы. Подробнее тут. Если Позиции Оприходования не заданы, то накладные расходы нельзя задатьОбязательное при ответе Только для чтения


pack
Object
Упаковка Товара. Подробнее тут  Change-handler Update-provider


price
Float
Цена товара/услуги в копейкахОбязательное при ответе Change-handler Update-provider


quantity
Float
Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.Обязательное при ответе Change-handler Update-provider


reason
String(255)
Причина оприходования данной позиции


slot
Meta
Ячейка на складе. Подробнее тутExpand


things
Object(String)
Серийные номера. Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете. В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута. Change-handler


С позициями можно работать с помощью специальных ресурсов для управления позициями Оприходования,
а также в составе отдельного Оприходования. При работе в составе отдельного Оприходования,
вы можете отправлять запросы на создание отдельного Оприходования с включенным в тело запроса
массивом позиций Оприходования. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Оприходования".
Также, при работе в составе отдельного Оприходования, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Оприходования. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Оприходования" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
О работе с доп. полями Оприходований можно прочитать здесь
Получать Оприходования
Запрос всех Оприходований на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Оприходования.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получать Оприходования 
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/enter"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Оприходований.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata",
    "type": "enter",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/2e12d827-5338-11e6-8a84-bae50000008e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata",
        "type": "enter",
        "mediaType": "application/json"
      },
      "id": "2e12d827-5338-11e6-8a84-bae50000008e",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-07-26 16:52:23",
      "name": "00002",
      "externalCode": "xmlPt1lUie1p18VedA1M-3",
      "moment": "2016-07-26 16:51:00",
      "applicable": true,
      "created": "2007-02-07 17:16:41",
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 26400,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/2e12d827-5338-11e6-8a84-bae50000008e/positions",
          "type": "enterposition",
          "mediaType": "application/json",
          "size": 5,
          "limit": 1000,
          "offset": 0
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/bf19f3fe-4f28-11e6-8a84-bae50000006d",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata",
        "type": "enter",
        "mediaType": "application/json"
      },
      "id": "bf19f3fe-4f28-11e6-8a84-bae50000006d",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-07-21 12:51:50",
      "name": "00001",
      "externalCode": "9CC4OgVhhJwPTl3289w0q1",
      "moment": "2016-07-21 12:51:00",
      "applicable": true,
      "created": "2007-02-07 17:16:41",
      "printed": true,
      "published": true,
      "sum": 13200,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/bf19f3fe-4f28-11e6-8a84-bae50000006d/positions",
          "type": "enterposition",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      }
    }
  ]
}
Создать Оприходования
Запрос на создание нового Оприходования.
Обязательные для создания поля:


Название
Тип
Описание



organization
Meta
Метаданные юрлица


store
Meta
Метаданные склада


Пример создания нового Оприходования с телом запроса, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/enter"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "enter100",
            "externalCode": "34981sawfa42kek",
            "moment": "2016-06-21 16:56:52",
            "applicable": true,
            "sum": 51241240,
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/e94a6e65-4f64-11e6-8a84-bae500000066",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "positions": [
              {
                "quantity": 1,
                "price": 13200.0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/328b0454-2e62-11e6-8a84-bae500000118",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                },
                "overhead": 0
              },
              {
                "quantity": 1,
                "price": 13200.0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/328b0454-2e62-11e6-8a84-bae500000118",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                },
                "reason": "АБЫР",
                "overhead": 0
              },
              {
                "quantity": 3,
                "price": 333444.0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a83c422-3c64-11e6-8a84-bae500000012",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                },
                "reason": "Обновленная причина",
                "overhead": 0
              }
            ],
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata/attributes/6a9150cd-5338-11e6-8a84-bae50000009b",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "AttributeValue1"
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata/attributes/6a9158b2-5338-11e6-8a84-bae50000009c",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": 404
              }
            ],
            "overhead": {
              "sum": 40400,
              "distribution": "weight"
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Оприходования.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/7cfff21a-533b-11e6-8a84-bae50000001f",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata",
    "type": "enter",
    "mediaType": "application/json"
  },
  "id": "7cfff21a-533b-11e6-8a84-bae50000001f",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-26 17:16:04",
  "name": "enter100",
  "externalCode": "34981sawfa42kek",
  "moment": "2016-06-21 16:56:52",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 1026732,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/e94a6e65-4f64-11e6-8a84-bae500000066",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata/attributes/6a9150cd-5338-11e6-8a84-bae50000009b",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "6a9150cd-5338-11e6-8a84-bae50000009b",
      "name": "AttributeName1",
      "type": "string",
      "value": "AttributeValue1"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata/attributes/6a9158b2-5338-11e6-8a84-bae50000009c",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "6a9158b2-5338-11e6-8a84-bae50000009c",
      "name": "AttributeName2",
      "type": "long",
      "value": 404
    }
  ],
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/7cfff21a-533b-11e6-8a84-bae50000001f/positions",
      "type": "enterposition",
      "mediaType": "application/json",
      "size": 3,
      "limit": 1000,
      "offset": 0
    }
  },
  "overhead": {
    "sum": 40400,
    "distribution": "weight"
  }
}
Массовое создание и обновление Оприходований
Массовое создание и обновление Оприходований.
В теле запроса нужно передать массив, содержащий JSON представления Оприходований, которые вы хотите создать или обновить.
Обновляемые Оприходования должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Оприходований
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/enter"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "name": "enter100",
              "externalCode": "34981sawfa42kek",
              "moment": "2016-06-21 16:56:52",
              "applicable": true,
              "sum": 51241240,
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "store": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/e94a6e65-4f64-11e6-8a84-bae500000066",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                  "type": "store",
                  "mediaType": "application/json"
                }
              },
              "positions": [
                {
                  "quantity": 1,
                  "price": 13200.0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/328b0454-2e62-11e6-8a84-bae500000118",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  },
                  "overhead": 0
                },
                {
                  "quantity": 1,
                  "price": 13200.0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/328b0454-2e62-11e6-8a84-bae500000118",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  },
                  "reason": "АБЫР",
                  "overhead": 0
                },
                {
                  "quantity": 3,
                  "price": 333444.0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a83c422-3c64-11e6-8a84-bae500000012",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                      "type": "variant",
                      "mediaType": "application/json"
                    }
                  },
                  "reason": "Обновленная причина",
                  "overhead": 0
                }
              ],
              "attributes": [
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata/attributes/6a9150cd-5338-11e6-8a84-bae50000009b",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": "AttributeValue1"
                },
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata/attributes/6a9158b2-5338-11e6-8a84-bae50000009c",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": 404
                }
              ],
              "overhead": {
                "sum": 40400,
                "distribution": "weight"
              }
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/7cfff21a-533b-11e6-8a84-bae50000001f",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata",
                "type": "enter",
                "mediaType": "application/json"
              },
              "name": "xX0enter0Xx",
              "externalCode": "21721bddSAKDAbw21eh",
              "moment": "2012-12-21 13:46:22",
              "applicable": false,
              "sum": 333,
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "store": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/e94a6e65-4f64-11e6-8a84-bae500000066",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                  "type": "store",
                  "mediaType": "application/json"
                }
              },
              "attributes": [
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata/attributes/6a9150cd-5338-11e6-8a84-bae50000009b",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": "AttributeValue2"
                },
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata/attributes/6a9158b2-5338-11e6-8a84-bae50000009c",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": 501
                }
              ],
              "positions": [],
              "overhead": {
                "sum": 40400,
                "distribution": "price"
              }
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Оприходований.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/7cfff21a-533b-11e6-8a84-bae50000001f",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata",
      "type": "enter",
      "mediaType": "application/json"
    },
    "id": "7cfff21a-533b-11e6-8a84-bae50000001f",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-07-26 17:16:04",
    "name": "enter100",
    "externalCode": "34981sawfa42kek",
    "moment": "2016-06-21 16:56:52",
    "applicable": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 1026732,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/e94a6e65-4f64-11e6-8a84-bae500000066",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "attributes": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata/attributes/6a9150cd-5338-11e6-8a84-bae50000009b",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "6a9150cd-5338-11e6-8a84-bae50000009b",
        "name": "AttributeName1",
        "type": "string",
        "value": "AttributeValue1"
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata/attributes/6a9158b2-5338-11e6-8a84-bae50000009c",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "6a9158b2-5338-11e6-8a84-bae50000009c",
        "name": "AttributeName2",
        "type": "long",
        "value": 404
      }
    ],
    "created": "2007-02-07 17:16:41",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/7cfff21a-533b-11e6-8a84-bae50000001f/positions",
        "type": "enterposition",
        "mediaType": "application/json",
        "size": 3,
        "limit": 1000,
        "offset": 0
      }
    },
    "overhead": {
      "sum": 40400,
      "distribution": "weight"
    }
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/7cfff21a-533b-11e6-8a84-bae50000001f",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata",
      "type": "enter",
      "mediaType": "application/json"
    },
    "id": "7cfff21a-533b-11e6-8a84-bae50000001f",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-07-26 17:21:18",
    "name": "xX0enter0Xx",
    "externalCode": "21721bddSAKDAbw21eh",
    "moment": "2012-12-21 12:46:22",
    "applicable": false,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 0,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/e94a6e65-4f64-11e6-8a84-bae500000066",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "attributes": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata/attributes/6a9150cd-5338-11e6-8a84-bae50000009b",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "6a9150cd-5338-11e6-8a84-bae50000009b",
        "name": "AttributeName1",
        "type": "string",
        "value": "AttributeValue2"
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata/attributes/6a9158b2-5338-11e6-8a84-bae50000009c",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "6a9158b2-5338-11e6-8a84-bae50000009c",
        "name": "AttributeName2",
        "type": "long",
        "value": 501
      }
    ],
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/7cfff21a-533b-11e6-8a84-bae50000001f/positions",
        "type": "enterposition",
        "mediaType": "application/json",
        "size": 0,
        "limit": 1000,
        "offset": 0
      }
    }
  }
]
Удалить Оприходование
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Оприходования.


Запрос на удаление Оприходования с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/enter/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Оприходования.

Массовое удаление Оприходований
В теле запроса нужно передать массив, содержащий JSON метаданных Оприходований, которые вы хотите удалить.
Запрос на массовое удаление Оприходований. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/enter/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata",
                "type": "enter",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata",
                "type": "enter",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Оприходований.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'enter' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'enter' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные ОприходованийМетаданные Оприходований
Запрос на получение метаданных Оприходований. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Оприходований


attributes
Массив объектов доп. полей Оприходований в формате Метаданных


states
Массив статусов Оприходований


createShared
создавать новых Оприходованияс меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Оприходований
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление метаданных Оприходований.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata/attributes/6a9150cd-5338-11e6-8a84-bae50000009b",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "6a9150cd-5338-11e6-8a84-bae50000009b",
      "name": "AttributeName1",
      "type": "boolean",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata/attributes/6a9158b2-5338-11e6-8a84-bae50000009c",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "6a9158b2-5338-11e6-8a84-bae50000009c",
      "name": "AttributeName2",
      "type": "long",
      "required": false
    }
  ],
  "createShared": false
}

Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Отдельное доп. поле
Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata/attributes/6a9150cd-5338-11e6-8a84-bae50000009b",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "6a9150cd-5338-11e6-8a84-bae50000009b",
  "name": "AttributeName1",
  "type": "string",
  "required": false
}
ОприходованиеПолучить Оприходование
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Оприходования.


Запрос на получение отдельного оприходования с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/enter/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Оприходования.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/2e12d827-5338-11e6-8a84-bae50000008e",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata",
    "type": "enter",
    "mediaType": "application/json"
  },
  "id": "2e12d827-5338-11e6-8a84-bae50000008e",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-26 16:52:23",
  "name": "00002",
  "externalCode": "xmlPt1lUie1p18VedA1M-3",
  "moment": "2016-07-26 16:51:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 26400,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/2e12d827-5338-11e6-8a84-bae50000008e/positions",
      "type": "enterposition",
      "mediaType": "application/json",
      "size": 5,
      "limit": 1000,
      "offset": 0
    }
  }
}
Изменить Оприходование
Запрос на обновление оприходования с указанным id.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Оприходования.


Пример запроса на обновление отдельного Оприходования.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/enter/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "xX0enter0Xx",
            "externalCode": "21721bddSAKDAbw21eh",
            "moment": "2012-12-21 13:46:22",
            "applicable": false,
            "sum": 333,
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/e94a6e65-4f64-11e6-8a84-bae500000066",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata/attributes/6a9150cd-5338-11e6-8a84-bae50000009b",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "AttributeValue1"
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata/attributes/6a9158b2-5338-11e6-8a84-bae50000009c",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": 501
              }
            ],
            "positions": [],
            "overhead": {
              "sum": 40400,
              "distribution": "price"
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Оприходования.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/7cfff21a-533b-11e6-8a84-bae50000001f",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata",
    "type": "enter",
    "mediaType": "application/json"
  },
  "id": "7cfff21a-533b-11e6-8a84-bae50000001f",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-26 17:21:18",
  "name": "xX0enter0Xx",
  "externalCode": "21721bddSAKDAbw21eh",
  "moment": "2012-12-21 12:46:22",
  "applicable": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/e94a6e65-4f64-11e6-8a84-bae500000066",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata/attributes/6a9150cd-5338-11e6-8a84-bae50000009b",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "6a9150cd-5338-11e6-8a84-bae50000009b",
      "name": "AttributeName1",
      "type": "string",
      "value": "AttributeValue1"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/metadata/attributes/6a9158b2-5338-11e6-8a84-bae50000009c",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "6a9158b2-5338-11e6-8a84-bae50000009c",
      "name": "AttributeName2",
      "type": "long",
      "value": 501
    }
  ],
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/7cfff21a-533b-11e6-8a84-bae50000001f/positions",
      "type": "enterposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  }
}
Позиции Оприходований
Отдельный ресурс для управления позициями Оприходования. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить позиции Оприходования
Запрос на получение списка всех позиций данного Оприходования.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой позиции Оприходования.


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Оприходования.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить позиции Оприходования
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/enter/7944ef04-f831-11e5-7a69-971500188b19/positions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного Оприходования.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/7944ef04-f831-11e5-7a69-971500188b19/positions",
    "type": "enterposition",
    "mediaType": "application/json",
    "size": 5,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/7944ef04-f831-11e5-7a69-971500188b19/positions/2e12e9aa-5338-11e6-8a84-bae50000008f",
        "type": "enterposition",
        "mediaType": "application/json"
      },
      "id": "2e12e9aa-5338-11e6-8a84-bae50000008f",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 0.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/4f785efd-3304-11e6-8a84-bae50001c6c4",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
        }
      },
      "gtd": {
        "name": "12345678/121217/1212321"
      },
      "country": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/country/40e6f69a-991c-4fbc-8be9-d0d906cad180",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
          "type": "country",
          "mediaType": "application/json"
        }
      },
      "reason": "ЧТо то не так",
      "overhead": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/7944ef04-f831-11e5-7a69-971500188b19/positions/2e12f062-5338-11e6-8a84-bae500000090",
        "type": "enterposition",
        "mediaType": "application/json"
      },
      "id": "2e12f062-5338-11e6-8a84-bae500000090",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 0.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/00de5b31-3303-11e6-8a84-bae500000344",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
        }
      },
      "reason": "НЕОБХОДИМО",
      "overhead": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/7944ef04-f831-11e5-7a69-971500188b19/positions/2e12f5d2-5338-11e6-8a84-bae500000091",
        "type": "enterposition",
        "mediaType": "application/json"
      },
      "id": "2e12f5d2-5338-11e6-8a84-bae500000091",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 0.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0572d2fc-3303-11e6-8a84-bae500000842",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=392c045c-2842-11e9-ac12-000a00000002"
        }
      },
      "overhead": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/7944ef04-f831-11e5-7a69-971500188b19/positions/2e12fb31-5338-11e6-8a84-bae500000092",
        "type": "enterposition",
        "mediaType": "application/json"
      },
      "id": "2e12fb31-5338-11e6-8a84-bae500000092",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 13200.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/328b0454-2e62-11e6-8a84-bae500000118",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
        }
      },
      "overhead": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/7944ef04-f831-11e5-7a69-971500188b19/positions/2e1300c8-5338-11e6-8a84-bae500000093",
        "type": "enterposition",
        "mediaType": "application/json"
      },
      "id": "2e1300c8-5338-11e6-8a84-bae500000093",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 13200.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/328b0454-2e62-11e6-8a84-bae500000118",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bad99f1-2842-11e9-ac12-000c0000005c"
        }
      },
      "gtd": {
        "name": "12345678/121217/1235362"
      },
      "country": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/country/40e6f69a-991c-4fbc-8be9-d0d906cad180",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
          "type": "country",
          "mediaType": "application/json"
        }
      },
      "reason": "АБЫР",
      "overhead": 0
    }
  ]
}
Позиция ОприходованияПолучить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Оприходования.


positionID
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b20 id позиции.


Запрос на получение отдельной позиции Оприходования с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/enter/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Оприходования.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20",
    "type": "enterposition",
    "mediaType": "application/json"
  },
  "id": "7944ef04-f831-11e5-7a69-971500188b20",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "quantity": 1,
  "price": 0.0,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/00de5b31-3303-11e6-8a84-bae500000344",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
    }
  },
  "reason": "НЕОБХОДИМО",
  "overhead": 0
}
Создать позицию
Запрос на создание новой позиции в Оприходовании.
Для успешного создания необходимо в теле запроса указать следующие поля:

assortment - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем service, consignment, variant в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании позиции Оприходования
quantity - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций Оприходования. Все созданные данным запросом позиции
будут добавлены к уже существующим.

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Оприходования.


Пример создания позиций в Оприходовании.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/enter/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "quantity": 103,
              "price": 566230.0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a83c422-3c64-11e6-8a84-bae500000012",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                  "type": "variant",
                  "mediaType": "application/json"
                }
              },
              "reason": "Срочная нужда",
              "overhead": 305
            },
            {
              "quantity": 13,
              "price": 12560.0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a81082f-3c64-11e6-8a84-bae50000000e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                  "type": "variant",
                  "mediaType": "application/json"
                }
              },
              "reason": "Необходимый товар",
              "overhead": 50607080
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного Оприходования.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/7944ef04-f831-11e5-7a69-971500188b19/positions/7ffb0be4-5339-11e6-8a84-bae500000016",
      "type": "enterposition",
      "mediaType": "application/json"
    },
    "id": "7ffb0be4-5339-11e6-8a84-bae500000016",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 103,
    "price": 566230.0,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a83c422-3c64-11e6-8a84-bae500000012",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3bad99f1-2842-11e9-ac12-000c0000005c"
      }
    },
    "reason": "Срочная нужда",
    "overhead": 0
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/7944ef04-f831-11e5-7a69-971500188b19/positions/7ffb1271-5339-11e6-8a84-bae500000017",
      "type": "enterposition",
      "mediaType": "application/json"
    },
    "id": "7ffb1271-5339-11e6-8a84-bae500000017",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 13,
    "price": 12560.0,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a81082f-3c64-11e6-8a84-bae50000000e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
      }
    },
    "reason": "Необходимый товар",
    "overhead": 0
  }
]
Изменить позицию
Запрос на обновление отдельной позиции Оприходования. Для обновления позиции нет каких-либо
 обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Оприходования.


positionID
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b20 id позиции.


Пример запроса на обновление отдельной позиции в Оприходовании.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/enter/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 3,
            "price": 333444.0,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a83c422-3c64-11e6-8a84-bae500000012",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                "type": "variant",
                "mediaType": "application/json"
              }
            },
            "reason": "Обновленная причина"
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной позиции Оприходования.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20",
    "type": "enterposition",
    "mediaType": "application/json"
  },
  "id": "7944ef04-f831-11e5-7a69-971500188b20",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "quantity": 3,
  "price": 333444.0,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a83c422-3c64-11e6-8a84-bae500000012",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
      "type": "variant",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
    }
  },
  "reason": "Обновленная причина",
  "overhead": 0
}
Удалить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Оприходования.


positionID
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b20 id позиции.


Запрос на удаление отдельной позиции Оприходования с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/enter/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление позиции Оприходования.

Массовое удаление позиций
Параметры


Параметр
Описание



id
string (required) Example: 3e1c03bb-684f-11ee-ac12-000c000000b0 id Оприходования.


Запрос на массовое удаление позиций Оприходования.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/enter/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "enterposition",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/enter/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "enterposition",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление позиций Оприходования. 

Отгрузка
Средствами JSON API можно создавать и обновлять сведения об Отгрузках, запрашивать списки Отгрузок и сведения по отдельным Отгрузкам. Позициями Отгрузок можно управлять как в составе отдельной Отгрузки, так и отдельно - с помощью специальных ресурсов для управления позициями Отгрузки. Кодом сущности для Отгрузки в составе JSON API является ключевое слово demand. Больше об Отгрузках и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по  этой ссылке.
В Отгрузке поддерживается протокол оповещения об изменениях виджетов вендоров - change-handler. Подробнее см. в документации для вендоров о виджетах.
ОтгрузкиАтрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения Change-handler


agent
Meta
= !=
Метаданные контрагентаОбязательное при ответе Expand Необходимо при создании Change-handler Update-provider


agentAccount
Meta

Метаданные счета контрагентаExpand Change-handler Update-provider


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе Change-handler Update-provider


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта Change-handler Update-provider


code
String(255)
= != ~ ~= =~
Код Отгрузки


contract
Meta
= !=
Метаданные договораExpand Change-handler Update-provider


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения Change-handler


deleted
DateTime
= != < > <= >=
Момент последнего удаления ОтгрузкиТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Отгрузки   Change-handler Update-provider


externalCode
String(255)
= != ~ ~= =~
Внешний код ОтгрузкиОбязательное при ответе Change-handler


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID ОтгрузкиОбязательное при ответе Только для чтения Change-handler


meta
Meta

Метаданные ОтгрузкиОбязательное при ответе Change-handler


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе Change-handler Update-provider


name
String(255)
= != ~ ~= =~
Наименование ОтгрузкиОбязательное при ответе Change-handler Update-provider


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании Change-handler Update-provider


organizationAccount
Meta

Метаданные счета юрлицаExpand Change-handler Update-provider


overhead
Object

Накладные расходы. Подробнее тут. Если Позиции Отгрузки не заданы, то накладные расходы нельзя задатьUpdate-provider


owner
Meta
= !=
Владелец (Сотрудник)Expand


payedSum
Float

Сумма входящих платежей по ОтгрузкеОбязательное при ответе Только для чтения


positions
MetaArray

Метаданные позиций ОтгрузкиОбязательное при ответе Expand Change-handler Update-provider


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


project
Meta
= !=
Метаданные проектаExpand Change-handler Update-provider


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


rate
Object

Валюта. Подробнее тутОбязательное при ответе Change-handler Update-provider


salesChannel
Meta
= !=
Метаданные канала продажExpand


shared
Boolean
= !=
Общий доступОбязательное при ответе


shipmentAddress
String(255)
= != ~ ~= =~
Адрес доставки Отгрузки   Change-handler


shipmentAddressFull
Object

Адрес доставки Отгрузки с детализацией по отдельным полям. Подробнее тут Change-handler


state
Meta
= !=
Метаданные статуса ОтгрузкиExpand Change-handler Update-provider


store
Meta
= !=
Метаданные складаОбязательное при ответе Expand Необходимо при создании Change-handler Update-provider


sum
Int
= != < > <= >=
Сумма Отгрузки в копейкахОбязательное при ответе Только для чтения Change-handler


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


updated
DateTime
= != < > <= >=
Момент последнего обновления ОтгрузкиОбязательное при ответе Только для чтения Change-handler


vatEnabled
Boolean

Учитывается ли НДСОбязательное при ответе Change-handler Update-provider


vatIncluded
Boolean

Включен ли НДС в цену  Change-handler Update-provider


vatSum
Float

Сумма НДС  Change-handler Только для чтения


Накладные расходы
Описание полей overhead


Название
Тип
Описание



sum
Int
Сумма в копейкахОбязательное при ответе Update-provider


distribution
Enum
Распределение накладных расходов [weight, volume, price] -> [по весу, по объему, по цене]Обязательное при ответе Update-provider


Связи с другими документами


Название
Описание



customerOrder
Ссылка на Заказ Покупателя, с которым связана эта Отгрузка в формате Метаданных


factureOut
Ссылка на Счет-фактуру выданный, с которым связана эта Отгрузка в формате Метаданных


returns
Массив ссылок на связанные возвраты в формате Метаданных


payments
Массив ссылок на связанные платежи в формате Метаданных


invoicesOut
Массив ссылок на связанные счета покупателям в формате Метаданных


Другие поля


Название
Тип
Описание



cargoName
String(255)
Наименование груза  Change-handler


carrier
Meta
Метаданные перевозчика (контрагент или юрлицо)Expand Change-handler


consignee
Meta
Метаданные грузополучателя (контрагент или юрлицо)  Change-handler


goodPackQuantity
Int
Всего мест  Change-handler


shippingInstructions
String(255)
Указания грузоотправителя    Change-handler


stateContractId
String(255)
Идентификатор государственного контракта, договора (соглашения)  Change-handler


transportFacility
String(255)
Транспортное средство   Change-handler


transportFacilityNumber
String(255)
Номер автомобиля    Change-handler


Позиции Отгрузки
Позиции Отгрузки - это список товаров/услуг/модификаций/серий/комплектов.
Объект позиции Отгрузки содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения Change-handler


assortment
Meta
Метаданные товара/услуги/серии/модификации/комплекта, которую представляет собой позицияОбязательное при ответе Expand Change-handler Update-provider


cost
Int
Себестоимость (только для услуг)


discount
Int
Процент скидки или наценки. Наценка указывается отрицательным числом, т.е. -10 создаст наценку в 10%Обязательное при ответе Change-handler Update-provider


id
UUID
ID позицииОбязательное при ответе Только для чтения Change-handler


pack
Object
Упаковка Товара. Подробнее тут Change-handler Update-provider


price
Float
Цена товара/услуги в копейкахОбязательное при ответе Change-handler Update-provider


quantity
Float
Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.Обязательное при ответе Change-handler Update-provider


slot
Meta
Ячейка на складе. Подробнее тутExpand


things
Array(String)
Серийные номера. Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете. В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута.  Change-handler


trackingCodes
Array(Object)
Коды маркировки товаров и транспортных упаковок. Подробнее тут


trackingCodes_1162
Array(Object)
Коды маркировки товаров в формате тега 1162. Подробнее тут


overhead
Int
Накладные расходы. Подробнее тут. Если Позиции Отгрузки не заданы, то накладные расходы нельзя задать.Обязательное при ответе Только для чтения


vat
Int
НДС, которым облагается текущая позицияОбязательное при ответе Change-handler Update-provider


vatEnabled
Boolean
Включен ли НДС для позиции. С помощью этого флага для позиции можно выставлять НДС = 0 или НДС = "без НДС". (vat = 0, vatEnabled = false) -> vat = "без НДС", (vat = 0, vatEnabled = true) -> vat = 0%.Обязательное при ответе Change-handler Update-provider


С позициями можно работать с помощью специальных ресурсов для управления позициями Отгрузки,
а также в составе отдельной Отгрузки. При работе в составе отдельной Отгрузки,
вы можете отправлять запросы на создание отдельной Отгрузки с включенным в тело запроса
массивом позиций Отгрузки. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Отгрузки".
Также, при работе в составе отдельной Отгрузки, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Отгрузки. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Отгрузки" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
О работе с доп. полями Отгрузок можно прочитать здесь
Коды маркировки товаров и транспортных упаковок
Поддержаны в виде иерархической структуры JSON. 


Название
Тип
Описание



cis
String
Значение кода маркировкиОбязательное при ответе Необходимо при создании


type
Enum
Тип кода маркировки. Возможные значения: trackingcode, consumerpack, transportpackОбязательное при ответе Необходимо при создании


trackingCodes
Array(Object)
Массив вложенных кодов маркировки. Может присутствовать, только если type имеет значения consumerpack или transportpack


Значение кода указывается в атрибуте cis. 
Для каждого кода указывается тип type: trackingcode (код маркировки товара), consumerpack (код маркировки потребительской упаковки) или transportpack (код транспортной упаковки). 
Допустима вложенность кодов маркировки товаров в транспортные упаковки. Транспортные упаковки не могут иметь вложенных упаковок. 
Коды упаковок могут отсутствовать - в этом случае структура не будет вложенной. 
Если продукция не является маркированной, то коды маркировки для позиции не будут сохранены. 
Количество кодов маркировки может отличаться от фактического количества единиц продукции.
Коды маркировки товаров и транспортных упаковок в формате тега 1162
Поддержаны в виде иерархической структуры JSON. 


Название
Тип
Описание



cis_1162
String
Значение кода маркировки в формате тега 1162Обязательное при ответе Только для чтения


type
Enum
Тип кода маркировки. Возможные значения: trackingcode, consumerpack, transportpackОбязательное при ответе Только для чтения


trackingCodes_1162
Array(Object)
Массив вложенных кодов маркировки в формате тега 1162. Может присутствовать, только если type имеет значения consumerpack или transportpack


Значение кода указывается в атрибуте cis_1162.
Для каждого кода указывается тип type: trackingcode (код маркировки товара), consumerpack (код маркировки потребительской упаковки) или transportpack (код транспортной упаковки). 
Допустима вложенность кодов маркировки товаров в транспортные упаковки. Транспортные упаковки не могут иметь вложенных упаковок.
Коды упаковок могут отсутствовать - в этом случае структура не будет вложенной. 
Если продукция не является маркированной, то коды маркировки в формате тега 1162 для позиции не будут сохранены.
Количество кодов маркировки может отличаться от фактического количества единиц продукции.
Особенности работы с кодами маркировки и серийными номерами для позиции документа
При работе с позицией Отгрузки следует учитывать следующие особенности.

Количество кодов маркировки trackingCodes в позиции документа не влияет на количество единиц quantity в позиции.
Количество серийных номеров things в позиции документа строго соответствует количеству единиц quantity в позиции. 
Изменение quantity на значение, не соответствующее количеству серийных номеров, недопустимо. 
Для обновления списка кодов маркировки trackingCodes и списка серийных номеров things позиции Отгрузки, 
необходимо передавать их полный список, включающий как старые, так и новые значения. Отсутствующие значения при обновлении будут удалены.

Недопустимо сохранение дублирующихся кодов маркировки и серийных номеров внутри документа Отгрузки. 
Атрибуты сущности Адрес доставки


Название
Тип
Описание



addInfo
String(255)
Другое


apartment
String(30)
Квартира


city
String(255)
Город


comment
String(255)
Комментарий


country
Meta
Метаданные страны


house
String(30)
Дом


postalCode
String(6)
Почтовый индекс


region
Meta
Метаданные региона


street
String(255)
Улица


Строка адреса является конкатенацией полей структурированного адреса в следующем порядке: postalCode -> country -> region -> city -> street -> house -> apartment -> addInfo, используя запятую в качестве разделителя.
При передаче в МойСклад сущностей с адресом используйте либо строковый адрес, либо структурированный.
При передаче обоих адресов строковый будет игнорирован.
При передаче только строкового он будет отражаться как в строковом поле так и в addInfo структурированного адреса.
Для адреса не поддерживается значение null. Передача null этому атрибуту не приведет к его удалению.
Для удаления адреса необходимо в строковое поле shipmentAddress передать пустую строку "".
Получить список Отгрузок
Запрос всех Отгрузок на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Отгрузки.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить список Отгрузок
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/demand"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Отгрузок.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/?limit=2",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
    "type": "demand",
    "mediaType": "application/json",
    "size": 13,
    "limit": 2,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/0ee24723-f640-11e5-8a84-bae500000065",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
        "type": "demand",
        "mediaType": "application/json"
      },
      "id": "0ee24723-f640-11e5-8a84-bae500000065",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
      "updated": "2016-03-30 09:24:29",
      "name": "00001",
      "externalCode": "1SB6iRE9imMFJDMlab7Nk0",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "moment": "2016-03-30 09:24:00",
      "applicable": true,
      "vatEnabled": true,
      "vatIncluded": true,
      "printed": true,
      "published": true,
      "sum": 123000,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/850efc5f-f504-11e5-8a84-bae500000161",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/850c8af2-f504-11e5-8a84-bae50000015f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "agentAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/850efc5f-f504-11e5-8a84-bae500000161/accounts/850f0617-f504-11e5-8a84-bae500000162",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "salesChannel": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
          "type": "saleschannel",
          "mediaType": "application/json"
        }
      },
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/0ee24723-f640-11e5-8a84-bae500000065/positions",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
          "type": "demandposition",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      },
      "payedSum": 0,
      "consignee": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/869d7628-6396-11e6-8a84-bae50000000a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "transportFacilityNumber": "лb777m",
      "shippingInstructions": "Беречь от воздействия солнца",
      "cargoName": "Овощи",
      "transportFacility": "Mercedes benz",
      "carrier": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/cffd2c81-62b4-11e6-8a84-bae500000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "overhead": {
        "sum": 200,
        "distribution": "price"
      },
      "shipmentAddress":"125009, Россия, г Москва, Москва, ул Тверская, 1, 123, addInfo",
      "shipmentAddressFull":{
        "postalCode":"125009",
        "country":{
          "meta":{
            "href":"https://api.moysklad.ru/api/remap/1.2/entity/country/9df7c2c3-7782-4c5c-a8ed-1102af611608",
            "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
            "type":"country",
            "mediaType":"application/json"
          }
        },
        "region":{
          "meta":{
            "href":"https://api.moysklad.ru/api/remap/1.2/entity/region/00000000-0000-0000-0000-000000000077",
            "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/region/metadata",
            "type":"region",
            "mediaType":"application/json"
          }
        },
        "city":"Москва",
        "street":"ул Тверская",
        "house":"1",
        "apartment":"123",
        "addInfo":"addinfo",
        "comment":"some words about address"
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/b44f220c-f64e-11e5-8a84-bae500000068",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
        "type": "demand",
        "mediaType": "application/json"
      },
      "id": "b44f220c-f64e-11e5-8a84-bae500000068",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
      "updated": "2016-04-01 10:37:29",
      "name": "00002",
      "externalCode": "btlob8zrgFoJoxXLNyxBi3",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "moment": "2016-03-30 11:08:00",
      "applicable": false,
      "vatEnabled": true,
      "vatIncluded": true,
      "printed": true,
      "published": true,
      "sum": 123000,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/850f1667-f504-11e5-8a84-bae500000163",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/850c8af2-f504-11e5-8a84-bae50000015f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "agentAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/850f1667-f504-11e5-8a84-bae500000163/accounts/850f1eab-f504-11e5-8a84-bae500000164",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/b44f220c-f64e-11e5-8a84-bae500000068/positions",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
          "type": "demandposition",
          "mediaType": "application/json",
          "size": 3,
          "limit": 1000,
          "offset": 0
        }
      },
      "payedSum": 0,
      "overhead": {
        "sum": 300,
        "distribution": "weight"
      }
    }
  ]
}
Создать Отгрузку
Запрос на создание новой Отгрузки.
Обязательные для создания поля:


Параметр
Описание



organization
Ссылка на ваше юрлицо в формате Метаданных


agent
Ссылка на контрагента в формате Метаданных


store
Ссылка на склад в формате Метаданных


Пример создания новой Отгрузки с телом запроса, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/demand"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
                "type": "store",
                "mediaType": "application/json"
              }
            }
          }
'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Отгрузки.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/2464c97a-030a-11e6-9464-e4de00000000",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
    "type": "demand",
    "mediaType": "application/json"
  },
  "id": "2464c97a-030a-11e6-9464-e4de00000000",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-15 16:01:17",
  "name": "888",
  "externalCode": "Dt7BqCkBhCxUMXayh4NfA2",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-15 16:01:17",
  "applicable": true,
  "vatEnabled": true,
  "vatIncluded": true,
  "sum": 0,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/3a30e844-016f-11e6-9464-e4de00000068",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078/accounts/9794f7a0-f689-11e5-8a84-bae500000079",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/2464c97a-030a-11e6-9464-e4de00000000/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
      "type": "demandposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0
}

Пример создания новой Отгрузки с более насыщенным телом запроса.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/demand"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "888",
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "code": "1243521",
            "moment": "2016-04-19 13:50:24",
            "applicable": false,
            "vatEnabled": true,
            "vatIncluded": true,
            "customerOrder": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c49e83b3-01af-11e6-9464-e4de00000026",
                "type": "customerorder",
                "mediaType": "application/json"
              }
            },
            "consignee": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/869d7628-6396-11e6-8a84-bae50000000a",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "transportFacilityNumber": "МК2142",
            "shippingInstructions": "Огнеопасно",
            "cargoName": "масло",
            "transportFacility": "Камаз 2007",
            "carrier": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/cffd2c81-62b4-11e6-8a84-bae500000053",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "stateContractId": "s11233dsasd233",
            "shipmentAddressFull":{  
              "postalCode":"125009",
              "country":{  
                "meta":{  
                  "href":"https://api.moysklad.ru/api/remap/1.2/entity/country/9df7c2c3-7782-4c5c-a8ed-1102af611608",
                  "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
                  "type":"country",
                  "mediaType":"application/json"
                }
              },
              "region":{  
                "meta":{  
                  "href":"https://api.moysklad.ru/api/remap/1.2/entity/region/00000000-0000-0000-0000-000000000077",
                  "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/region/metadata",
                  "type":"region",
                  "mediaType":"application/json"
                }
              },
              "city":"Москва",
              "street":"ул Тверская",
              "house":"1",
              "apartment":"123",
              "addInfo":"addinfo",
              "comment":"some words about address"
            }
          }
'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Отгрузки.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/c2a04da5-030a-11e6-9464-e4de00000005",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
    "type": "demand",
    "mediaType": "application/json"
  },
  "id": "c2a04da5-030a-11e6-9464-e4de00000005",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-15 16:05:43",
  "name": "888",
  "code": "1243521",
  "externalCode": "p7TPtR1hgOBjUev7rJLmo1",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-19 13:50:24",
  "applicable": false,
  "vatEnabled": true,
  "vatIncluded": true,
  "sum": 0,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/3a30e844-016f-11e6-9464-e4de00000068",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078/accounts/9794f7a0-f689-11e5-8a84-bae500000079",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/c2a04da5-030a-11e6-9464-e4de00000005/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
      "type": "demandposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "stateContractId": "s11233dsasd233",
  "shipmentAddress":"125009, Россия, г Москва, Москва, ул Тверская, 1, 123, addInfo",
  "shipmentAddressFull":{
    "postalCode":"125009",
    "country":{
      "meta":{
        "href":"https://api.moysklad.ru/api/remap/1.2/entity/country/9df7c2c3-7782-4c5c-a8ed-1102af611608",
        "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
        "type":"country",
        "mediaType":"application/json"
      }
    },
    "region":{
      "meta":{
        "href":"https://api.moysklad.ru/api/remap/1.2/entity/region/00000000-0000-0000-0000-000000000077",
        "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/region/metadata",
        "type":"region",
        "mediaType":"application/json"
      }
    },
    "city":"Москва",
    "street":"ул Тверская",
    "house":"1",
    "apartment":"123",
    "addInfo":"addinfo",
    "comment":"some words about address"
  }
}

Пример запроса на создание Отгрузки с доп. полями.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/demand"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "888",
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "code": "1243521",
            "moment": "2016-04-19 13:50:24",
            "applicable": false,
            "vatEnabled": true,
            "vatIncluded": true,
            "customerOrder": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c49e83b3-01af-11e6-9464-e4de00000026",
                "type": "customerorder",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "AttributeValue1"
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Отгрузки.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/c2a04da5-030a-11e6-9464-e4de00000005",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
    "type": "demand",
    "mediaType": "application/json"
  },
  "id": "c2a04da5-030a-11e6-9464-e4de00000005",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-15 16:05:43",
  "name": "888",
  "code": "1243521",
  "externalCode": "p7TPtR1hgOBjUev7rJLmo1",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-19 13:50:24",
  "applicable": false,
  "vatEnabled": true,
  "vatIncluded": true,
  "sum": 0,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/3a30e844-016f-11e6-9464-e4de00000068",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078/accounts/9794f7a0-f689-11e5-8a84-bae500000079",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "23d3965d-0313-11e6-9464-e4de00000097",
      "name": "AttributeName1",
      "type": "string",
      "value": "AttributeValue1"
    }
  ],
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/c2a04da5-030a-11e6-9464-e4de00000005/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
      "type": "demandposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0
}

Пример запроса на создание Отгрузки с позициями в теле запроса.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/demand"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "888",
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "code": "1243521",
            "moment": "2016-04-19 13:50:24",
            "applicable": false,
            "vatEnabled": true,
            "vatIncluded": true,
            "positions": [
              {
                "quantity": 10,
                "price": 100.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/8b382799-f7d2-11e5-8a84-bae5000003a5",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                },
               "trackingCodes": [
                {
                  "cis": "012345678912345672",
                  "type": "transportpack",
                    "trackingCodes": [
                     {
                      "cis": "010463003759026521uHpIIf2111114",
                      "type": "trackingcode"
                      },
                      {
                       "cis": "010463003759026521uHpIIf2111111",
                       "type": "trackingcode"
                      }
                    ]
                  }
                ],
                "reserve": 10
              },
              {
                "quantity": 20,
                "price": 200.0,
                "discount": 0,
                "vat": 21,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/be903062-f504-11e5-8a84-bae50000019a",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                },
                "reserve": 20
              },
              {
                "quantity": 30,
                "price": 300.0,
                "discount": 0,
                "vat": 7,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/service/c02e3a5c-007e-11e6-9464-e4de00000006",
                    "type": "service",
                    "mediaType": "application/json"
                  }
                },
                "pack": {
                  "id": "1bf22e62-8b47-11e8-56c0-000800000006"
                },
                "reserve": 30,
                "cost": 47
              }
            ],
            "overhead": {
              "sum": 60,
              "distribution": "price"
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Отгрузки.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/c2a04da5-030a-11e6-9464-e4de00000005",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
    "type": "demand",
    "mediaType": "application/json"
  },
  "id": "c2a04da5-030a-11e6-9464-e4de00000005",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-15 16:05:43",
  "name": "888",
  "code": "1243521",
  "externalCode": "p7TPtR1hgOBjUev7rJLmo1",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-19 13:50:24",
  "applicable": false,
  "vatEnabled": true,
  "vatIncluded": true,
  "sum": 0,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/3a30e844-016f-11e6-9464-e4de00000068",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078/accounts/9794f7a0-f689-11e5-8a84-bae500000079",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/c2a04da5-030a-11e6-9464-e4de00000005/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
      "type": "demandposition",
      "mediaType": "application/json",
      "size": 3,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "overhead": {
    "sum": 60,
    "distribution": "price"
  }
}
Массовое создание и обновление Отгрузок
Массовое создание и обновление Отгрузок.
В теле запроса нужно передать массив, содержащий JSON представления Отгрузок, которые вы хотите создать или обновить.
Обновляемые Отгрузки должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Отгрузок
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/demand"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "name": "888",
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
                  "type": "counterparty",
                  "mediaType": "application/json"
                }
              },
              "store": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
                  "type": "store",
                  "mediaType": "application/json"
                }
              }
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/405f69c0-019e-11e6-9464-e4de00000085",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
                "type": "demand",
                "mediaType": "application/json"
              },
              "name": "887",
              "moment": "2004-01-14 19:03:00",
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
                  "type": "counterparty",
                  "mediaType": "application/json"
                }
              },
              "store": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/86c857d6-0302-11e6-9464-e4de00000072",
                  "type": "store",
                  "mediaType": "application/json"
                }
              },
              "code": "666",
              "applicable": false,
              "vatEnabled": true,
              "vatIncluded": true,
              "customerOrder": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c49e83b3-01af-11e6-9464-e4de00000026",
                  "type": "customerorder",
                  "mediaType": "application/json"
                }
              },
              "stateContractId": "s11233dsasd233"
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Отгрузок.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/2464c97a-030a-11e6-9464-e4de00000000",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
      "type": "demand",
      "mediaType": "application/json"
    },
    "id": "2464c97a-030a-11e6-9464-e4de00000000",
    "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
    "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
    "updated": "2016-04-15 16:01:17",
    "name": "888",
    "externalCode": "Dt7BqCkBhCxUMXayh4NfA2",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "moment": "2016-04-15 16:01:17",
    "applicable": true,
    "vatEnabled": true,
    "vatIncluded": true,
    "sum": 0,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/3a30e844-016f-11e6-9464-e4de00000068",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "agentAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078/accounts/9794f7a0-f689-11e5-8a84-bae500000079",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/2464c97a-030a-11e6-9464-e4de00000000/positions",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
        "type": "demandposition",
        "mediaType": "application/json",
        "size": 0,
        "limit": 1000,
        "offset": 0
      }
    },
    "payedSum": 0
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/405f69c0-019e-11e6-9464-e4de00000085",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
      "type": "demand",
      "mediaType": "application/json"
    },
    "id": "405f69c0-019e-11e6-9464-e4de00000085",
    "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
    "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
    "updated": "2016-04-15 16:26:20",
    "name": "887",
    "code": "666",
    "externalCode": "ibWbdtWWhXiIwfZVEal6z2",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "moment": "2004-01-14 19:03:00",
    "applicable": false,
    "vatEnabled": true,
    "vatIncluded": true,
    "sum": 346389501420,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/86c857d6-0302-11e6-9464-e4de00000072",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "contract": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/8ce3c179-015e-11e6-9464-e4de0000007a",
        "type": "contract",
        "mediaType": "application/json"
      }
    },
    "project": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/51f263f9-0307-11e6-9464-e4de0000007c",
        "type": "project",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "state": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
        "type": "state",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/850c8af2-f504-11e5-8a84-bae50000015f",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "agentAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078/accounts/9794f7a0-f689-11e5-8a84-bae500000079",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "salesChannel": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
        "type": "saleschannel",
        "mediaType": "application/json"
      }
    },
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/405f69c0-019e-11e6-9464-e4de00000085/positions",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
        "type": "demandposition",
        "mediaType": "application/json",
        "size": 4,
        "limit": 1000,
        "offset": 0
      }
    },
    "payedSum": 365939611804,
    "customerOrder": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/34efe2ee-015e-11e6-9464-e4de0000006b",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
        "type": "customerorder",
        "mediaType": "application/json"
      }
    },
    "stateContractId": "s11233dsasd233"
  }
]
Удалить Отгрузку
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Отгрузки.


Запрос на удаление Отгрузки с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Отгрузки.

Массовое удаление Отгрузок
В теле запроса нужно передать массив, содержащий JSON метаданных Отгрузок, которые вы хотите удалить.
Запрос на массовое удаление Отгрузок. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/demand/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b1",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
            "type": "demand",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b2",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
            "type": "demand",
            "mediaType": "application/json"
          }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Отгрузок.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'demand' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'demand' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные ОтгрузокМетаданные Отгрузок
Запрос на получение метаданных Отгрузок. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Отгрузок


attributes
Массив объектов доп. полей Отгрузок в формате Метаданных


states
Массив статусов Отгрузок


createShared
создавать новые Отгрузки с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Отгрузок
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Отгрузок.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/attributes/23d3965d-0313-11e6-9464-e4de00000097",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "23d3965d-0313-11e6-9464-e4de00000097",
      "name": "AttributeName1",
      "type": "boolean",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/attributes/5290a290-0313-11e6-9464-e4de00000020",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "5290a290-0313-11e6-9464-e4de00000020",
      "name": "AttributeName2",
      "type": "boolean",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56c504-2e58-11e6-8a84-bae500000069",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Новый",
      "color": 15106326,
      "stateType": "Regular",
      "entityType": "demand"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/states/fb56cae3-2e58-11e6-8a84-bae50000006a",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56cae3-2e58-11e6-8a84-bae50000006a",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Подтвержден",
      "color": 40931,
      "stateType": "Regular",
      "entityType": "demand"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/states/fb56cf4f-2e58-11e6-8a84-bae50000006b",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56cf4f-2e58-11e6-8a84-bae50000006b",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Собран",
      "color": 8767198,
      "stateType": "Regular",
      "entityType": "demand"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/states/fb56d433-2e58-11e6-8a84-bae50000006c",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56d433-2e58-11e6-8a84-bae50000006c",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Отгружен",
      "color": 10774205,
      "stateType": "Regular",
      "entityType": "demand"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/states/fb56d92f-2e58-11e6-8a84-bae50000006d",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56d92f-2e58-11e6-8a84-bae50000006d",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Доставлен",
      "color": 8825440,
      "stateType": "Successful",
      "entityType": "demand"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/states/fb56de0a-2e58-11e6-8a84-bae50000006e",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56de0a-2e58-11e6-8a84-bae50000006e",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Возврат",
      "color": 15280409,
      "stateType": "Unsuccessful",
      "entityType": "demand"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/states/fb56e2b4-2e58-11e6-8a84-bae50000006f",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56e2b4-2e58-11e6-8a84-bae50000006f",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Отменен",
      "color": 15280409,
      "stateType": "Unsuccessful",
      "entityType": "demand"
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/attributes/127d484e-3f81-11e6-8a84-bae5000000cb",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "127d484e-3f81-11e6-8a84-bae5000000cb",
  "name": "AttributeName1",
  "type": "boolean",
  "required": false
}

Шаблон ОтгрузкиШаблон Отгрузки
Запрос на получение предзаполненого стандартными значениями шаблона отгрузки без связи с каким-либо документом.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/demand/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d ''  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной отгрузки.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/105a788e-36e7-11e7-8a7f-40d000000069",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/103cca6f-36e7-11e7-8a7f-40d000000005",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2017-05-12 15:31:10",
  "applicable": true,
  "sum": 0,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/1076a96a-36e7-11e7-8a7f-40d000000092",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/107430bc-36e7-11e7-8a7f-40d000000090",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "positions": {
    "rows": []
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "payedSum": 0
}
Шаблон Отгрузки на основе
Запрос на получение шаблона отгрузки на основе заказа покупателя или счета покупателю.
В результате запроса, будет создан предзаполненный шаблон отгрузки на основе переданного
документа.
Запрос на создание отгрузки на основе заказа покупателя.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/demand/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "customerOrder": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/451cb4c0-3d1d-11e6-8a84-bae500000004",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
                "type": "customerorder",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной отгрузки.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-11-25 18:02:21",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b942743c-9128-11e6-8a84-bae500000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "rows": [
      {
        "quantity": 1,
        "price": 0.0,
        "discount": 0,
        "vat": 0,
        "vatEnabled": false,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/c55b5e7c-9128-11e6-8a84-bae500000087",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=392c045c-2842-11e9-ac12-000a00000002"
          }
        },
        "overhead": 0
      }
    ]
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "payedSum": 0,
  "customerOrder": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/559adab5-915c-11e6-8a84-bae500000014",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
      "type": "customerorder",
      "mediaType": "application/json"
    }
  }
}

Запрос на создание отгрузки на основе счета покупателя.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/demand/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "invoicesOut": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/1571eb25-d03d-11e7-6a80-332a00000002",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
                  "type": "invoiceout",
                  "mediaType": "application/json",
                  "uuidHref": "https://online.moysklad.ru/app/#invoiceout/edit?id=1571eb25-d03d-11e7-6a80-332a00000002"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной отгрузки.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/46073d61-ca1f-11e7-6a80-332a0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=46073d61-ca1f-11e7-6a80-332a0000002a"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/452fb22f-ca1f-11e7-6a80-332a00000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "name": "",
  "moment": "2017-11-23 13:59:29",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/464062ac-ca1f-11e7-6a80-332a00000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#currency/edit?id=464062ac-ca1f-11e7-6a80-332a00000058"
      }
    }
  },
  "sum": 0,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/463f8970-ca1f-11e7-6a80-332a00000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=463f8970-ca1f-11e7-6a80-332a00000053"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/463fe231-ca1f-11e7-6a80-332a00000056",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=463fe231-ca1f-11e7-6a80-332a00000056"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/463a706e-ca1f-11e7-6a80-332a00000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=463a706e-ca1f-11e7-6a80-332a00000051"
    }
  },
  "documents": {
    "rows": []
  },
  "positions": {
    "rows": [
      {
        "quantity": 1,
        "price": 100000.0,
        "discount": 0,
        "vat": 0,
        "vatEnabled": false,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/b5d94dd1-cab0-11e7-6a80-332a00000011",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
            "type": "variant",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
          }
        },
        "overhead": 0
      }
    ]
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "payedSum": 0,
  "invoicesOut": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/1571eb25-d03d-11e7-6a80-332a00000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
        "type": "invoiceout",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#invoiceout/edit?id=1571eb25-d03d-11e7-6a80-332a00000002"
      }
    }
  ]
}
ОтгрузкаПолучить Отгрузку
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Отгрузки.


Запрос на получение отдельной Отгрузки с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Отгрузки.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/405f69c0-019e-11e6-9464-e4de00000085",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
    "type": "demand",
    "mediaType": "application/json"
  },
  "id": "405f69c0-019e-11e6-9464-e4de00000085",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-15 15:48:46",
  "name": "24124",
  "externalCode": "ibWbdtWWhXiIwfZVEal6z2",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-14 11:03:00",
  "applicable": true,
  "vatEnabled": true,
  "vatIncluded": true,
  "sum": 346389501420,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/bc1b4fde-019a-11e6-9464-e4de00000073",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    },
    "value": 214
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/8ce3c179-015e-11e6-9464-e4de0000007a",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/51f263f9-0307-11e6-9464-e4de0000007c",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/850c8af2-f504-11e5-8a84-bae50000015f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078/accounts/9794f7a0-f689-11e5-8a84-bae500000079",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "salesChannel": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
      "type": "saleschannel",
      "mediaType": "application/json"
    }
  },
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/405f69c0-019e-11e6-9464-e4de00000085/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
      "type": "demandposition",
      "mediaType": "application/json",
      "size": 4,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 365939611804,
  "customerOrder": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/34efe2ee-015e-11e6-9464-e4de0000006b",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
      "type": "customerorder",
      "mediaType": "application/json"
    }
  },
  "consignee": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/869d7628-6396-11e6-8a84-bae50000000a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "transportFacilityNumber": "ло777v",
  "shippingInstructions": "Беречь от воздействия солнца",
  "cargoName": "Овощи",
  "transportFacility": "Mercedes benz",
  "goodPackQuantity": 500,
  "carrier": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/cffd2c81-62b4-11e6-8a84-bae500000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "overhead": {
    "sum": 200,
    "distribution": "price"
  },
  "shipmentAddress":"125009, Россия, г Москва, Москва, ул Тверская, 1, 123, addInfo",
  "shipmentAddressFull":{
    "postalCode":"125009",
    "country":{
      "meta":{
        "href":"https://api.moysklad.ru/api/remap/1.2/entity/country/9df7c2c3-7782-4c5c-a8ed-1102af611608",
        "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
        "type":"country",
        "mediaType":"application/json"
      }
    },
    "region":{
      "meta":{
        "href":"https://api.moysklad.ru/api/remap/1.2/entity/region/00000000-0000-0000-0000-000000000077",
        "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/region/metadata",
        "type":"region",
        "mediaType":"application/json"
      }
    },
    "city":"Москва",
    "street":"ул Тверская",
    "house":"1",
    "apartment":"123",
    "addInfo":"addinfo",
    "comment":"some words about address"
  }
}
Изменить Отгрузку
Запрос на обновление Отгрузки с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Отгрузки, кроме тех, что
помечены Только для чтения в описании атрибутов Отгрузки.
При обновлении полей organization и agent нужно также обновить поля organizationAccount и
agentAccount соответственно, иначе произойдет ошибка.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Отгрузки.


Пример запроса на обновление отдельной Отгрузки.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "887",
            "moment": "2004-01-14 19:03:00",
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/86c857d6-0302-11e6-9464-e4de00000072",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "code": "666",
            "applicable": false,
            "vatEnabled": true,
            "vatIncluded": true,
            "customerOrder": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c49e83b3-01af-11e6-9464-e4de00000026",
                "type": "customerorder",
                "mediaType": "application/json"
              }
            },
            "stateContractId": "s11233dsasd233",
            "shipmentAddressFull":{  
              "postalCode":"125009",
              "country":{  
                "meta":{  
                  "href":"https://api.moysklad.ru/api/remap/1.2/entity/country/9df7c2c3-7782-4c5c-a8ed-1102af611608",
                  "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
                  "type":"country",
                  "mediaType":"application/json"
                }
              },
              "region":{  
                "meta":{  
                  "href":"https://api.moysklad.ru/api/remap/1.2/entity/region/00000000-0000-0000-0000-000000000077",
                  "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/region/metadata",
                  "type":"region",
                  "mediaType":"application/json"
                }
              },
              "city":"Москва",
              "street":"ул Тверская",
              "house":"1",
              "apartment":"111",
              "addInfo":"addinfo",
              "comment":"some words about address"
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной Отгрузки.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/405f69c0-019e-11e6-9464-e4de00000085",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
    "type": "demand",
    "mediaType": "application/json"
  },
  "id": "405f69c0-019e-11e6-9464-e4de00000085",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-15 16:26:20",
  "name": "887",
  "code": "666",
  "externalCode": "ibWbdtWWhXiIwfZVEal6z2",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2004-01-14 19:03:00",
  "applicable": false,
  "vatEnabled": true,
  "vatIncluded": true,
  "sum": 346389501420,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/86c857d6-0302-11e6-9464-e4de00000072",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/8ce3c179-015e-11e6-9464-e4de0000007a",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/51f263f9-0307-11e6-9464-e4de0000007c",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/850c8af2-f504-11e5-8a84-bae50000015f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078/accounts/9794f7a0-f689-11e5-8a84-bae500000079",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "salesChannel": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
      "type": "saleschannel",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/405f69c0-019e-11e6-9464-e4de00000085/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
      "type": "demandposition",
      "mediaType": "application/json",
      "size": 4,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 365939611804,
  "customerOrder": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/34efe2ee-015e-11e6-9464-e4de0000006b",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
      "type": "customerorder",
      "mediaType": "application/json"
    }
  },
  "stateContractId": "s11233dsasd233",
  "shipmentAddress":"125009, Россия, г Москва, Москва, ул Тверская, 1, 111, addInfo",
  "shipmentAddressFull":{
    "postalCode":"125009",
    "country":{
      "meta":{
        "href":"https://api.moysklad.ru/api/remap/1.2/entity/country/9df7c2c3-7782-4c5c-a8ed-1102af611608",
        "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
        "type":"country",
        "mediaType":"application/json"
      }
    },
    "region":{
      "meta":{
        "href":"https://api.moysklad.ru/api/remap/1.2/entity/region/00000000-0000-0000-0000-000000000077",
        "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/region/metadata",
        "type":"region",
        "mediaType":"application/json"
      }
    },
    "city":"Москва",
    "street":"ул Тверская",
    "house":"1",
    "apartment":"111",
    "addInfo":"addinfo",
    "comment":"some words about address"
  }
}

Пример запроса на изменение Отгрузки с дополнительными полями.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "887",
            "moment": "2004-01-14 19:03:00",
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/86c857d6-0302-11e6-9464-e4de00000072",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "code": "666",
            "applicable": false,
            "vatEnabled": true,
            "vatIncluded": true,
            "customerOrder": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c49e83b3-01af-11e6-9464-e4de00000026",
                "type": "customerorder",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "name": "AttributeName1",
                "type": "boolean",
                "value": true
              }
            ],
            "consignee": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/869d7628-6396-11e6-8a84-bae50000000a",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "transportFacilityNumber": "МК2142",
            "shippingInstructions": "Огнеопасно",
            "cargoName": "масло",
            "transportFacility": "Камаз 2007",
            "carrier": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/cffd2c81-62b4-11e6-8a84-bae500000053",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "overhead": {
              "sum": 990,
              "distribution": "price"
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной Отгрузки.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/405f69c0-019e-11e6-9464-e4de00000085",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
    "type": "demand",
    "mediaType": "application/json"
  },
  "id": "405f69c0-019e-11e6-9464-e4de00000085",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-15 16:26:20",
  "name": "887",
  "code": "666",
  "externalCode": "ibWbdtWWhXiIwfZVEal6z2",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2004-01-14 19:03:00",
  "applicable": false,
  "vatEnabled": true,
  "vatIncluded": true,
  "sum": 346389501420,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/86c857d6-0302-11e6-9464-e4de00000072",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/8ce3c179-015e-11e6-9464-e4de0000007a",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/51f263f9-0307-11e6-9464-e4de0000007c",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/850c8af2-f504-11e5-8a84-bae50000015f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078/accounts/9794f7a0-f689-11e5-8a84-bae500000079",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "salesChannel": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
      "type": "saleschannel",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "23d3965d-0313-11e6-9464-e4de00000097",
      "name": "AttributeName1",
      "type": "boolean",
      "value": true
    }
  ],
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/405f69c0-019e-11e6-9464-e4de00000085/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
      "type": "demandposition",
      "mediaType": "application/json",
      "size": 4,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 365939611804,
  "customerOrder": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/34efe2ee-015e-11e6-9464-e4de0000006b",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
      "type": "customerorder",
      "mediaType": "application/json"
    }
  },
  "consignee": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/869d7628-6396-11e6-8a84-bae50000000a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "transportFacilityNumber": "МК2142",
  "shippingInstructions": "Огнеопасно",
  "cargoName": "масло",
  "transportFacility": "Камаз 2007",
  "carrier": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/cffd2c81-62b4-11e6-8a84-bae500000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "overhead": {
    "sum": 990,
    "distribution": "price"
  }
}

Пример запроса на обновление Отгрузки с позициями в теле запроса.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "887",
            "moment": "2004-01-14 19:03:00",
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/86c857d6-0302-11e6-9464-e4de00000072",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "code": "666",
            "applicable": false,
            "vatEnabled": true,
            "vatIncluded": true,
            "customerOrder": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/c49e83b3-01af-11e6-9464-e4de00000026",
                "type": "customerorder",
                "mediaType": "application/json"
              }
            },
            "positions": [
              {
                "id": "34f6344f-015e-11e6-9464-e4de0000006c",
                "quantity": 10,
                "price": 100.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/8b382799-f7d2-11e5-8a84-bae5000003a5",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                },
                "reserve": 10
              },
              {
                "id": "34f6344f-015e-11e6-9464-e4de0000006d",
                "quantity": 20,
                "price": 200.0,
                "discount": 0,
                "vat": 21,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/be903062-f504-11e5-8a84-bae50000019a",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                },
                "reserve": 20
              },
              {
                "id": "34f6344f-015e-11e6-9464-e4de0000006e",
                "quantity": 30,
                "price": 300.0,
                "discount": 0,
                "vat": 7,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/c02e3a5c-007e-11e6-9464-e4de00000006",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                },
                "reserve": 30
              }
            ],
            "overhead": {
              "sum": 1000,
              "distribution": "weight"
            }
          }
'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной Отгрузки.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/405f69c0-019e-11e6-9464-e4de00000085",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
    "type": "demand",
    "mediaType": "application/json"
  },
  "id": "405f69c0-019e-11e6-9464-e4de00000085",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-15 16:26:20",
  "name": "887",
  "code": "666",
  "externalCode": "ibWbdtWWhXiIwfZVEal6z2",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2004-01-14 19:03:00",
  "applicable": false,
  "vatEnabled": true,
  "vatIncluded": true,
  "sum": 346389501420,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/86c857d6-0302-11e6-9464-e4de00000072",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/8ce3c179-015e-11e6-9464-e4de0000007a",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/51f263f9-0307-11e6-9464-e4de0000007c",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e/accounts/850c8af2-f504-11e5-8a84-bae50000015f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078/accounts/9794f7a0-f689-11e5-8a84-bae500000079",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "salesChannel": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
      "type": "saleschannel",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/405f69c0-019e-11e6-9464-e4de00000085/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
      "type": "demandposition",
      "mediaType": "application/json",
      "size": 4,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 365939611804,
  "customerOrder": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/34efe2ee-015e-11e6-9464-e4de0000006b",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
      "type": "customerorder",
      "mediaType": "application/json"
    }
  },
  "stateContractId": "s11233dsasd233"
}
Позиции Отгрузки
Отдельный ресурс для управления позициями Отгрузки. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить позиции Отгрузки
Запрос на получение списка всех позиций данной Отгрузки.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой позиции Отгрузки.


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Отгрузки.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить позиции Отгрузки
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19/positions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельной Отгрузки.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19/positions",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
    "type": "demandposition",
    "mediaType": "application/json",
    "size": 4,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19/positions/40603fbd-019e-11e6-9464-e4de00000086",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
        "type": "demandposition",
        "mediaType": "application/json"
      },
      "id": "40603fbd-019e-11e6-9464-e4de00000086",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "quantity": 1,
      "sum": 123050,
      "discount": 0,
      "vat": 18,
      "vatEnabled": true,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/66ccbc9f-f7d2-11e5-8a84-bae500000076",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=63b1e1f15-2842-11e9-ac12-000c0000002f"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19/positions/40604612-019e-11e6-9464-e4de00000087",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
        "type": "demandposition",
        "mediaType": "application/json"
      },
      "id": "40604612-019e-11e6-9464-e4de00000087",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "quantity": 1,
      "sum": 214,
      "discount": 0,
      "vat": 18,
      "vatEnabled": true,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/service/60fc3826-00d7-11e6-9464-e4de00000097",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "service",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#service/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
        }
      },
      "cost": 34
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19/positions/40604a79-019e-11e6-9464-e4de00000088",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
        "type": "demandposition",
        "mediaType": "application/json"
      },
      "id": "40604a79-019e-11e6-9464-e4de00000088",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "quantity": 1,
      "sum": 346347237062,
      "discount": 0,
      "vat": 18,
      "vatEnabled": true,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/56c73633-ffe4-11e5-9464-e4de000000c6",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
          "type": "variant",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=392c045c-2842-11e9-ac12-000a00000002"
        }
      },
      "country": {
        "name": "Германия"
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19/positions/406055cb-019e-11e6-9464-e4de00000089",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
        "type": "demandposition",
        "mediaType": "application/json"
      },
      "id": "406055cb-019e-11e6-9464-e4de00000089",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "quantity": 1,
      "sum": 42141094,
      "discount": 0,
      "vat": 18,
      "vatEnabled": true,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/66cc36dc-f7d2-11e5-8a84-bae500000074",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
          "type": "variant",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
        }
      }
    }
  ]
}

Пример с кодами маркировки
ПоказатьСвернуть
curl --location --request GET 'https://api.moysklad.ru/api/remap/1.2/entity/demand/8830a022-8a03-11ea-0a80-01cb00000040/positions' \
--header 'Authorization: Basic <Credentials>'

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельной Отгрузки.
ПоказатьСвернуть
{
   "context":{
      "employee":{
         "meta":{
            "href":"https://api.moysklad.ru/api/remap/1.2/context/employee",
            "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
            "type":"employee",
            "mediaType":"application/json"
         }
      }
   },
   "meta":{
      "href":"https://api.moysklad.ru/api/remap/1.2/entity/demand/8830a022-8a03-11ea-0a80-01cb00000040/positions",
      "type":"demandposition",
      "mediaType":"application/json",
      "size":2,
      "limit":1000,
      "offset":0
   },
   "rows":[
      {
         "meta":{
            "href":"https://api.moysklad.ru/api/remap/1.2/entity/demand/8830a022-8a03-11ea-0a80-01cb00000040/positions/8830b0fe-8a03-11ea-0a80-01cb00000041",
            "type":"demandposition",
            "mediaType":"application/json"
         },
         "id":"8830b0fe-8a03-11ea-0a80-01cb00000041",
         "accountId":"de6b5113-8491-11ea-0a80-134500000014",
         "quantity":20.0,
         "price":200.0,
         "discount":0.0,
         "vat":21,
         "vatEnabled": true,
         "assortment":{
            "meta":{
               "href":"https://api.moysklad.ru/api/remap/1.2/entity/product/aa1b1814-8493-11ea-0a80-037a00000307",
               "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
               "type":"product",
               "mediaType":"application/json",
               "uuidHref":"https://online.moysklad.ru/app/#good/edit?id=aa1b0d42-8493-11ea-0a80-037a00000305"
            }
         },
         "trackingCodes":[
            {
               "cis":"012345678912345672",
               "type":"transportpack",
               "trackingCodes":[
                  {
                     "cis":"010463003759026521uHpIIf2111111",
                     "type":"trackingcode"
                  },
                  {
                     "cis":"010463003759026521uHpIIf2111114",
                     "type":"trackingcode"
                  }
               ]
            }
         ],
         "trackingCodes_1162":[
            {
               "cis_1162":"0000",
               "type":"transportpack",
               "trackingCodes_1162":[
                  {
                     "cis_1162":"444D043603BEF0F975487049496632313131313131",
                     "type":"trackingcode"
                  },
                  {
                     "cis_1162":"444D043603BEF0F975487049496632313131313134",
                     "type":"trackingcode"
                  }
               ]
            }
         ],
         "overhead": 0.0
      },
      {
         "meta":{
            "href":"https://api.moysklad.ru/api/remap/1.2/entity/demand/8830a022-8a03-11ea-0a80-01cb00000040/positions/770f45b4-8a04-11ea-0a80-01cb00000060",
            "type":"demandposition",
            "mediaType":"application/json"
         },
         "id":"770f45b4-8a04-11ea-0a80-01cb00000060",
         "accountId":"de6b5113-8491-11ea-0a80-134500000014",
         "quantity":10.0,
         "price":0.0,
         "discount":0.0,
         "vat":0,
         "vatEnabled": false,
         "assortment":{
            "meta":{
               "href":"https://api.moysklad.ru/api/remap/1.2/entity/product/b20184da-8493-11ea-0a80-037a00000314",
               "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
               "type":"product",
               "mediaType":"application/json",
               "uuidHref":"https://online.moysklad.ru/app/#good/edit?id=b20178fb-8493-11ea-0a80-037a00000312"
            }
         },
         "trackingCodes":[
            {
               "cis":"010463003759026521uHpIIf-nXIH>1",
               "type":"trackingcode"
            },
            {
               "cis":"012345678912345671",
               "type":"transportpack"
            },
            {
               "cis":"012345678912345678",
               "type":"transportpack",
               "trackingCodes":[
                  {
                     "cis":"010463003759026521uHpIIf-nXIH>0",
                     "type":"trackingcode"
                  },
                  {
                     "cis":"010463003759026521uHpIIf-nXIH>4",
                     "type":"trackingcode"
                  },
                  {
                     "cis":"010463003759026521uHpIIf-111114",
                     "type":"trackingcode"
                  }
               ]
            },
            {
               "cis":"010463003759026521uHpIIf-111122",
               "type":"trackingcode"
            },
            {
               "cis":"010463003759026521uHpIIf-nXIH>2",
               "type":"trackingcode"
            }
         ],
         "trackingCodes_1162":[
            {
               "cis_1162":"444D043603BEF0F97548704949662D6E5849483E31",
               "type":"trackingcode"
            },
            {
               "cis_1162":"0000",
               "type":"transportpack"
            },
            {
               "cis_1162":"0000",
               "type":"transportpack",
               "trackingCodes_1162":[
                  {
                     "cis_1162":"444D043603BEF0F97548704949662D6E5849483E30",
                     "type":"trackingcode"
                  },
                  {
                     "cis_1162":"444D043603BEF0F97548704949662D6E5849483E34",
                     "type":"trackingcode"
                  },
                  {
                     "cis_1162":"444D043603BEF0F97548704949662D313131313134",
                     "type":"trackingcode"
                  }
               ]
            },
            {
               "cis_1162":"444D043603BEF0F97548704949662D313131313232",
               "type":"trackingcode"
            },
            {
               "cis_1162":"444D043603BEF0F97548704949662D6E5849483E32",
               "type":"trackingcode"
            }
         ],
         "overhead": 0.0
      }
   ]
}
Позиция ОтгрузкиПолучить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Отгрузки.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Отгрузки.


Запрос на получение отдельной позиции Отгрузки с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Отгрузки.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
    "type": "demandposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "quantity": 20,
  "sum": 200,
  "discount": 0,
  "vat": 21,
  "vatEnabled": true,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/be903062-f504-11e5-8a84-bae50000019a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
    }
  }
}
Создать позицию
Запрос на создание новой позиции в Отгрузке.
Для успешного создания необходимо в теле запроса указать следующие поля:

assortment - Ссылка на товар/услугу/серию/модификацию/комплект, которую представляет собой позиция.
Также можно указать поле с именем service, consignment, variant в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании позиции Отгрузки
quantity - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций Отгрузки. Все созданные данным запросом позиции
будут добавлены к уже существующим.

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Отгрузки.


Пример создания одной позиции в Отгрузке.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 4,
            "price": 12345.0,
            "discount": 0,
            "vat": 0,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/66ccbc9f-f7d2-11e5-8a84-bae500000076",
                "type": "product",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельной Отгрузки.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19/positions/3bf025cc-0310-11e6-9464-e4de0000000e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
      "type": "demandposition",
      "mediaType": "application/json"
    },
    "id": "3bf025cc-0310-11e6-9464-e4de0000000e",
    "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
    "quantity": 4,
    "price": 12345.0,
    "discount": 0,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/66ccbc9f-f7d2-11e5-8a84-bae500000076",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
      }
    }
  }
]

Пример создания сразу нескольких позиций в Отгрузке.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "quantity": 103,
              "price": 1002.0,
              "discount": 0,
              "vat": 0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/8b382799-f7d2-11e5-8a84-bae5000003a5",
                  "type": "product",
                  "mediaType": "application/json"
                }
              }
            },
            {
              "quantity": 21,
              "price": 2300.0,
              "discount": 0,
              "vat": 21,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/be903062-f504-11e5-8a84-bae50000019a",
                  "type": "product",
                  "mediaType": "application/json"
                }
              }
            },
            {
              "quantity": 3,
              "price": 3500.0,
              "discount": 0,
              "vat": 7,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/service/c02e3a5c-007e-11e6-9464-e4de00000006",
                  "type": "service",
                  "mediaType": "application/json"
                }
              },
              "pack": {
                "id": "1bf22e62-8b47-11e8-56c0-000800000006"
              },
              "cost": 47
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка созданных позиций отдельной Отгрузки.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19/positions/727cf336-0310-11e6-9464-e4de00000013",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
      "type": "demandposition",
      "mediaType": "application/json"
    },
    "id": "727cf336-0310-11e6-9464-e4de00000013",
    "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
    "quantity": 10,
    "price": 100.0,
    "discount": 0,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/8b382799-f7d2-11e5-8a84-bae5000003a5",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
      }
    }
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19/positions/727cfce0-0310-11e6-9464-e4de00000014",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
      "type": "demandposition",
      "mediaType": "application/json"
    },
    "id": "727cfce0-0310-11e6-9464-e4de00000014",
    "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
    "quantity": 20,
    "price": 200.0,
    "discount": 0,
    "vat": 21,
    "vatEnabled": true,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/be903062-f504-11e5-8a84-bae50000019a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=392c045c-2842-11e9-ac12-000a00000002"
      }
    }
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19/positions/727d057f-0310-11e6-9464-e4de00000015",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
      "type": "demandposition",
      "mediaType": "application/json"
    },
    "id": "727d057f-0310-11e6-9464-e4de00000015",
    "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
    "quantity": 30,
    "price": 300.0,
    "discount": 0,
    "vat": 7,
    "vatEnabled": true,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/service/c02e3a5c-007e-11e6-9464-e4de00000006",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "service",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#service/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
      }
    },
    "pack": {
      "id": "1bf22e62-8b47-11e8-56c0-000800000006",
      "uom": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/uom/2ec1170c-3f69-4409-87bb-c68e0011b275",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/uom/metadata",
          "type": "uom",
          "mediaType": "application/json"
        }
      },
      "quantity": 2
    },
    "cost": 47
  }
]

Пример с кодами маркировки.
ПоказатьСвернуть
curl --location --request POST 'https://api.moysklad.ru/api/remap/1.2/entity/demand/8830a022-8a03-11ea-0a80-01cb00000040/positions' \
--header 'Authorization: Basic <Credentials>' \
--header 'Content-Type: application/json' \
--data-raw '{
   "quantity":10.0,
   "price":100.0,
   "discount":0.0,
   "vat":0,
   "assortment":{
      "meta":{
         "href":"https://api.moysklad.ru/api/remap/1.2/entity/product/b20184da-8493-11ea-0a80-037a00000314",
         "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
         "type":"product",
         "mediaType":"application/json",
         "uuidHref":"https://online.moysklad.ru/app/#good/edit?id=b20178fb-8493-11ea-0a80-037a00000312"
      }
   },
   "trackingCodes":[
      {
         "cis":"010463003759026521uHpIIf-111122",
         "type":"trackingcode"
      },
      {
         "cis":"012345678912345671",
         "type":"transportpack"
      },
      {
         "cis":"010463003759026521uHpIIf-nXIH>1",
         "type":"trackingcode"
      },
      {
         "cis":"012345678912345678",
         "type":"transportpack",
         "trackingCodes":[
            {
               "cis":"010463003759026521uHpIIf-111114",
               "type":"trackingcode"
            },
            {
               "cis":"010463003759026521uHpIIf-nXIH>4",
               "type":"trackingcode"
            },
            {
               "cis":"010463003759026521uHpIIf-nXIH>0",
               "type":"trackingcode"
            }
         ]
      },
      {
         "cis":"010463003759026521uHpIIf-nXIH>2",
         "type":"trackingcode"
      }
   ],
   "overhead": 0.0
}'

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельной Отгрузки.
ПоказатьСвернуть
[
   {
      "meta":{
         "href":"https://api.moysklad.ru/api/remap/1.2/entity/demand/8830a022-8a03-11ea-0a80-01cb00000040/positions/770f45b4-8a04-11ea-0a80-01cb00000060",
         "type":"demandposition",
         "mediaType":"application/json"
      },
      "id":"770f45b4-8a04-11ea-0a80-01cb00000060",
      "accountId":"de6b5113-8491-11ea-0a80-134500000014",
      "quantity":10.0,
      "price":100.0,
      "discount":0.0,
      "vat":0,
      "vatEnabled": false,
      "assortment":{
         "meta":{
            "href":"https://api.moysklad.ru/api/remap/1.2/entity/product/b20184da-8493-11ea-0a80-037a00000314",
            "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type":"product",
            "mediaType":"application/json",
            "uuidHref":"https://online.moysklad.ru/app/#good/edit?id=b20178fb-8493-11ea-0a80-037a00000312"
         }
      },
      "trackingCodes":[
         {
            "cis":"010463003759026521uHpIIf-111122",
            "type":"trackingcode"
         },
         {
            "cis":"012345678912345671",
            "type":"transportpack"
         },
         {
            "cis":"010463003759026521uHpIIf-nXIH>1",
            "type":"trackingcode"
         },
         {
            "cis":"012345678912345678",
            "type":"transportpack",
            "trackingCodes":[
               {
                  "cis":"010463003759026521uHpIIf-111114",
                  "type":"trackingcode"
               },
               {
                  "cis":"010463003759026521uHpIIf-nXIH>4",
                  "type":"trackingcode"
               },
               {
                  "cis":"010463003759026521uHpIIf-nXIH>0",
                  "type":"trackingcode"
               }
            ]
         },
         {
            "cis":"010463003759026521uHpIIf-nXIH>2",
            "type":"trackingcode"
         }
      ],
      "trackingCodes_1162":[
         {
            "cis_1162":"444D043603BEF0F97548704949662D313131313232",
            "type":"trackingcode"
         },
         {
            "cis_1162":"0000",
            "type":"transportpack"
         },
         {
            "cis_1162":"444D043603BEF0F97548704949662D6E5849483E31",
            "type":"trackingcode"
         },
         {
            "cis_1162":"0000",
            "type":"transportpack",
            "trackingCodes_1162":[
               {
                  "cis_1162":"444D043603BEF0F97548704949662D313131313134",
                  "type":"trackingcode"
               },
               {
                  "cis_1162":"444D043603BEF0F97548704949662D6E5849483E34",
                  "type":"trackingcode"
               },
               {
                  "cis_1162":"444D043603BEF0F97548704949662D6E5849483E30",
                  "type":"trackingcode"
               }
            ]
         },
         {
            "cis_1162":"444D043603BEF0F97548704949662D6E5849483E32",
            "type":"trackingcode"
         }
      ],
      "overhead": 0.0
   }
]
Изменить позицию
Запрос на обновление отдельной позиции Отгрузки. Для обновления позиции нет каких-либо
обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
При обновлении списка кодов маркировки учитывать, что их количество может отличаться от фактического количества единиц продукции.
Для изменения количества единиц продукции необходимо использовать параметр quantity.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Отгрузки.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Отгрузки.


Пример запроса на обновление отдельной позиции в Отгрузке.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 111,
            "price": 26332700.0,
            "discount": 0,
            "vat": 18,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/eeef177f-f648-11e5-8a84-bae50000007a",
                "type": "product",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной позиции Отгрузки.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
    "type": "demandposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "quantity": 111,
  "price": 26332700.0,
  "discount": 0,
  "vat": 18,
  "vatEnabled": true,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/eeef177f-f648-11e5-8a84-bae50000007a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
    }
  }
}
Удалить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Отгрузки.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Отгрузки.


Запрос на удаление отдельной позиции Отгрузки с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/demand/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление позиции Отгрузки.

Массовое удаление позиций
Параметры


Параметр
Описание



id
string (required) Example: 3e1c03bb-684f-11ee-ac12-000c000000b0 id Отгрузки.


Запрос на массовое удаление позиций Отгрузки.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/demand/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "demandposition",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "demandposition",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление позиций Отгрузки. 

Перемещение
Средствами JSON API можно создавать и обновлять сведения о Перемещениях, запрашивать списки Перемещений и сведения по отдельным Перемещениям. Позициями Перемещений можно управлять как в составе отдельного Перемещения, так и отдельно - с помощью специальных ресурсов для управления позициями Перемещения. Кодом сущности для Перемещения в составе JSON API является ключевое слово move.
ПеремещенияАтрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответеТолько для чтенияChange-handler


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответеChange-handler Update-provider


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта Change-handler Update-provider


code
String(255)
= != ~ ~= =~
Код Перемещения


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтенияChange-handler


deleted
DateTime
= != < > <= >=
Момент последнего удаления ПеремещенияТолько для чтения


demand
Meta

Метаданные Отгрузки, связанной с ПеремещениемТолько для чтения Expand


description
String(4096)
= != ~ ~= =~
Комментарий ПеремещенияChange-handler Update-provider


externalCode
String(255)
= != ~ ~= =~
Внешний код ПеремещенияОбязательное при ответеChange-handler


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID ПеремещенияОбязательное при ответе Только для чтенияChange-handler


internalOrder
Meta

Метаданные Внутреннего заказа, связанного с ПеремещениемExpand


customerOrder
Meta

Метаданные Заказа покупателя, связанного с ПеремещениемExpand


meta
Meta

Метаданные ПеремещенияОбязательное при ответеChange-handler


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответеChange-handler Update-provider


name
String(255)
= != ~ ~= =~
Наименование ПеремещенияОбязательное при ответеChange-handler Update-provider


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при созданииChange-handler Update-provider


overhead
Object

Накладные расходы. Подробнее тут. Если Позиции Перемещения не заданы, то накладные расходы нельзя задатьUpdate-provider


owner
Meta
= !=
Владелец (Сотрудник)Expand


positions
MetaArray

Метаданные позиций ПеремещенияОбязательное при ответе ExpandChange-handler Update-provider


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


project
Meta
= !=
Метаданные проектаExpandChange-handler Update-provider


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


rate
Object

Валюта. Подробнее тутОбязательное при ответеChange-handler Update-provider


shared
Boolean
= !=
Общий доступОбязательное при ответе


sourceStore
Meta

Метаданные склада, с которого совершается перемещениеОбязательное при ответе Expand Необходимо при созданииChange-handler Update-provider


state
Meta
= !=
Метаданные статуса ПеремещенияExpand Change-handler Update-provider


sum
Int
= != < > <= >=
Сумма Перемещения в копейкахОбязательное при ответе Только для чтенияChange-handler


supply
Meta

Метаданные Приемки, связанной с ПеремещениемТолько для чтения Expand


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


targetStore
Meta

Метаданные склада, на который совершается перемещениеОбязательное при ответе Expand Необходимо при созданииChange-handler Update-provider


updated
DateTime
= != < > <= >=
Момент последнего обновления ПеремещенияОбязательное при ответе Только для чтенияChange-handler


Накладные расходы
Описание полей overhead


Название
Тип
Описание



sum
Int
Сумма в копейкахОбязательное при ответе Update-provider


distribution
Enum
Распределение накладных расходов [weight, volume, price] -> [по весу, по объему, по цене]Обязательное при ответе Update-provider


Позиции Перемещения
Позиции Перемещения - это список товаров/модификаций/серий.
Объект позиции Перемещения содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтенияChange-handler


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияОбязательное при ответе ExpandChange-handler Update-provider


id
UUID
ID позицииОбязательное при ответе Только для чтенияChange-handler


overhead
Int
Накладные расходы. Подробнее тут. Если Позиции Перемещения не заданы, то накладные расходы нельзя задатьОбязательное при ответе Только для чтения


pack
Object
Упаковка Товара. Подробнее тутChange-handler Update-provider


price
Float
Цена товара/услуги в копейкахОбязательное при ответеChange-handler Update-provider


quantity
Float
Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.Обязательное при ответеChange-handler Update-provider


sourceSlot
Meta
Ячейка на складе, с которого совершается перемещение. Подробнее тутExpand


targetSlot
Meta
Ячейка на складе, на который совершается перемещение. Подробнее тутExpand


things
Array(String)
Серийные номера. Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете. В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута.Change-handler


Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете.
В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута.
С позициями можно работать с помощью специальных ресурсов для управления позициями Перемещения,
а также в составе отдельного Перемещения. При работе в составе отдельного Перемещения,
вы можете отправлять запросы на создание отдельного Перемещения с включенным в тело запроса
массивом позиций Перемещения. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Перемещения".
Также, при работе в составе отдельного Перемещения, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Перемещения. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Перемещения" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
О работе с доп. полями Перемещений можно прочитать здесь
Получить Перемещения
Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить Перемещения
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/move"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Перемещений.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/move",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
    "type": "move",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/5ac52c9a-4f67-11e6-8a84-bae500000084",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
        "type": "move",
        "mediaType": "application/json"
      },
      "id": "5ac52c9a-4f67-11e6-8a84-bae500000084",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-07-21 20:20:19",
      "name": "00002",
      "externalCode": "Avqi0FZqi8W400cwO1oHh2",
      "moment": "2016-07-21 20:19:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 0,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/722e39f0-313e-11e6-8a84-bae500000008",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "state": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata/states/64c4689e-4f67-11e6-8a84-bae5000000b5",
          "type": "state",
          "mediaType": "application/json"
        }
      },
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/5ac52c9a-4f67-11e6-8a84-bae500000084/positions",
          "type": "moveposition",
          "mediaType": "application/json",
          "size": 15,
          "limit": 1000,
          "offset": 0
        }
      },
      "sourceStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "targetStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/e94a6e65-4f64-11e6-8a84-bae500000066",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/ec94d9ff-4f64-11e6-8a84-bae500000069",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
        "type": "move",
        "mediaType": "application/json"
      },
      "id": "ec94d9ff-4f64-11e6-8a84-bae500000069",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-07-21 20:02:36",
      "name": "00001",
      "externalCode": "l7eb7QKZj1DtnXCLBuuUa1",
      "moment": "2016-07-21 19:37:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 0,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/ec94d9ff-4f64-11e6-8a84-bae500000069/positions",
          "type": "moveposition",
          "mediaType": "application/json",
          "size": 2,
          "limit": 1000,
          "offset": 0
        }
      },
      "sourceStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/e94a6e65-4f64-11e6-8a84-bae500000066",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "targetStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      }
    }
  ]
}
Создать Перемещение
Запрос на создание нового Перемещения. 
Обязательные для создания поля:

organization - Ссылка на ваше юрлицо в формате Метаданных
sourceStore - Ссылка на склад, с которого совершается перемещение, в формате Метаданных
targetStore - Ссылка на склад, на который совершается перемещение, в формате Метаданных

Пример создания нового Перемещения с телом запроса, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/move"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "targetStore": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "sourceStore": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/e94a6e65-4f64-11e6-8a84-bae500000066",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Перемещения.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/544236cb-4f6a-11e6-8a84-bae500000003",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
    "type": "move",
    "mediaType": "application/json"
  },
  "id": "544236cb-4f6a-11e6-8a84-bae500000003",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2007-02-07 17:16:41",
  "name": "705",
  "externalCode": "vosdjnodsfne3124pasf",
  "moment": "2016-07-21 15:44:33",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata/states/64c4689e-4f67-11e6-8a84-bae5000000b5",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/544236cb-4f6a-11e6-8a84-bae500000003/positions",
      "type": "moveposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "sourceStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/e94a6e65-4f64-11e6-8a84-bae500000066",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "targetStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  }
}
Массовое создание и обновление Перемещений
Массовое создание и обновление Перемещений.
В теле запроса нужно передать массив, содержащий JSON представления Перемещений, которые вы хотите создать или обновить.
Обновляемые Перемещения должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Перемещений
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/move"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "targetStore": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                  "type": "store",
                  "mediaType": "application/json"
                }
              },
              "sourceStore": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/e94a6e65-4f64-11e6-8a84-bae500000066",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                  "type": "store",
                  "mediaType": "application/json"
                }
              }
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/544236cb-4f6a-11e6-8a84-bae500000003",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
                "type": "move",
                "mediaType": "application/json"
              },
              "name": "705507",
              "description": "Переезд 2",
              "code": "12345",
              "externalCode": "12345678",
              "moment": "2016-07-21 19:44:33",
              "applicable": false,
              "state": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata/states/64c4689e-4f67-11e6-8a84-bae5000000b5",
                  "type": "state",
                  "mediaType": "application/json"
                }
              },
              "overhead": {
                "sum": 5555,
                "distribution": "weight"
              },
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "targetStore": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                  "type": "store",
                  "mediaType": "application/json"
                }
              },
              "sourceStore": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/e94a6e65-4f64-11e6-8a84-bae500000066",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                  "type": "store",
                  "mediaType": "application/json"
                }
              },
              "attributes": [
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata/attributes/954d6ab9-4f67-11e6-8a84-bae5000000bc",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": 43
                }
              ],
              "positions": []
            }
          ]
'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Перемещений.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/544236cb-4f6a-11e6-8a84-bae500000003",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
      "type": "move",
      "mediaType": "application/json"
    },
    "id": "544236cb-4f6a-11e6-8a84-bae500000003",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2007-02-07 17:16:41",
    "name": "705",
    "externalCode": "vosdjnodsfne3124pasf",
    "moment": "2016-07-21 15:44:33",
    "applicable": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 0,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "state": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata/states/64c4689e-4f67-11e6-8a84-bae5000000b5",
        "type": "state",
        "mediaType": "application/json"
      }
    },
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/544236cb-4f6a-11e6-8a84-bae500000003/positions",
        "type": "moveposition",
        "mediaType": "application/json",
        "size": 0,
        "limit": 1000,
        "offset": 0
      }
    },
    "sourceStore": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/e94a6e65-4f64-11e6-8a84-bae500000066",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "targetStore": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    }
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/544236cb-4f6a-11e6-8a84-bae500000003",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
      "type": "move",
      "mediaType": "application/json"
    },
    "id": "544236cb-4f6a-11e6-8a84-bae500000003",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-07-21 20:44:20",
    "name": "705507",
    "description": "Переезд 2",
    "code": "12345",
    "externalCode": "12345678",
    "moment": "2016-07-21 19:44:33",
    "applicable": false,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 0,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "state": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata/states/64c4689e-4f67-11e6-8a84-bae5000000b5",
        "type": "state",
        "mediaType": "application/json"
      }
    },
    "attributes": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata/attributes/954d62cc-4f67-11e6-8a84-bae5000000bb",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "954d62cc-4f67-11e6-8a84-bae5000000bb",
        "name": "AttributeName1",
        "type": "time",
        "value": "2016-07-21 20:28:53"
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata/attributes/954d6ab9-4f67-11e6-8a84-bae5000000bc",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "954d6ab9-4f67-11e6-8a84-bae5000000bc",
        "name": "AttributeName2",
        "type": "long",
        "value": 43
      }
    ],
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/544236cb-4f6a-11e6-8a84-bae500000003/positions",
        "type": "moveposition",
        "mediaType": "application/json",
        "size": 0,
        "limit": 1000,
        "offset": 0
      }
    },
    "sourceStore": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/e94a6e65-4f64-11e6-8a84-bae500000066",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "targetStore": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    }
  }
]
Удалить Перемещение
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Перемещения.


Запрос на удаление Перемещения с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Перемещения.

Массовое удаление Перемещений
В теле запроса нужно передать массив, содержащий JSON метаданных Перемещений, которые вы хотите удалить.
Запрос на массовое удаление Перемещений. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/move/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
                "type": "move",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
                "type": "move",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Перемещений.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'move' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'move' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Шаблон ПеремещенияШаблон Перемещения
Запрос на получение предзаполненого стандартными значениями шаблона перемещения без связи с каким-либо документом.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/move/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d ''  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного перемещения.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-11-25 18:02:50",
  "applicable": true,
  "printed": true,
  "published": true,
  "sum": 0,
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "positions": {
    "rows": []
  }
}
Шаблон Перемещения на основе
Запрос на получение предзаполненного шаблона перемещения на основе внутреннего заказа или заказа покупателя.
В ответ на запрос вернется предзаполненный шаблон перемещения, который
затем можно будет использовать для создания нового перемещения с помощью POST запроса.
Пример запроса на получение шаблона перемещения на основе внутреннего заказа.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/move/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "internalOrder": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/64e426af-b0d8-11e6-8a84-bae500000064",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata",
                "type": "internalorder",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного перемещения.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-11-25 18:02:21",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/b942e6f2-9128-11e6-8a84-bae500000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 9910,
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "rows": [
      {
        "quantity": 1,
        "price": 2230.0,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
          }
        },
        "overhead": 0
      },
      {
        "quantity": 1,
        "price": 100.0,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
          }
        },
        "overhead": 0
      },
      {
        "quantity": 2,
        "price": 500.0,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=392c045c-2842-11e9-ac12-000a00000002"
          }
        },
        "overhead": 0
      },
      {
        "quantity": 3,
        "price": 2230.0,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
          }
        },
        "overhead": 0
      }
    ]
  },
  "targetStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b942743c-9128-11e6-8a84-bae500000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "internalOrder": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/64e426af-b0d8-11e6-8a84-bae500000064",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/internalorder/metadata",
      "type": "internalorder",
      "mediaType": "application/json"
    }
  }
}

Пример запроса на получение шаблона перемещения на основе заказа покупателя.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/move/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "customerOrder": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/64e426af-b0d8-11e6-8a84-bae500000064",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
                "type": "customerorder",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного перемещения.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-11-25 18:02:21",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/b942e6f2-9128-11e6-8a84-bae500000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 9910,
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "rows": [
      {
        "quantity": 1,
        "price": 2230.0,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
          }
        },
        "overhead": 0
      },
      {
        "quantity": 1,
        "price": 100.0,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
          }
        },
        "overhead": 0
      },
      {
        "quantity": 2,
        "price": 500.0,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=392c045c-2842-11e9-ac12-000a00000002"
          }
        },
        "overhead": 0
      },
      {
        "quantity": 3,
        "price": 2230.0,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/f4ac4460-acf7-11e6-8a84-bae500000068",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
          }
        },
        "overhead": 0
      }
    ]
  },
  "targetStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b942743c-9128-11e6-8a84-bae500000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "customerOrder": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/64e426af-b0d8-11e6-8a84-bae500000064",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
      "type": "customerorder",
      "mediaType": "application/json"
    }
  }
}
Метаданные ПеремещенийМетаданные Перемещений
Запрос на получение метаданных Перемещений. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Перемещений


attributes
Массив объектов доп. полей Перемещений в формате Метаданных


states
Массив статусов Перемещений


createShared
создавать новые Перемещения с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Перемещений
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление метаданных Перемещений.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata/attributes/954d62cc-4f67-11e6-8a84-bae5000000bb",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "954d62cc-4f67-11e6-8a84-bae5000000bb",
      "name": "AttributeName1",
      "type": "time",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata/attributes/954d6ab9-4f67-11e6-8a84-bae5000000bc",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "954d6ab9-4f67-11e6-8a84-bae5000000bc",
      "name": "AttributeName2",
      "type": "long",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata/states/64c4689e-4f67-11e6-8a84-bae5000000b5",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "64c4689e-4f67-11e6-8a84-bae5000000b5",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Ожидает исполнения",
      "color": 10066329,
      "stateType": "Regular",
      "entityType": "move"
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata/attributes/954d6ab9-4f67-11e6-8a84-bae5000000bc",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "954d6ab9-4f67-11e6-8a84-bae5000000bc",
  "name": "AttributeName1",
  "type": "long",
  "required": false
}
ПеремещениеПолучить Перемещение
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Перемещения.


Запрос на получение отдельного Перемещения с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Перемещения.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/5ac52c9a-4f67-11e6-8a84-bae500000084",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
    "type": "move",
    "mediaType": "application/json"
  },
  "id": "5ac52c9a-4f67-11e6-8a84-bae500000084",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-21 20:20:19",
  "name": "00002",
  "externalCode": "Avqi0FZqi8W400cwO1oHh2",
  "moment": "2016-07-21 20:19:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/722e39f0-313e-11e6-8a84-bae500000008",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata/states/64c4689e-4f67-11e6-8a84-bae5000000b5",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/5ac52c9a-4f67-11e6-8a84-bae500000084/positions",
      "type": "moveposition",
      "mediaType": "application/json",
      "size": 15,
      "limit": 1000,
      "offset": 0
    }
  },
  "sourceStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "targetStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/e94a6e65-4f64-11e6-8a84-bae500000066",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  }
}
Изменить Перемещение
Запрос на обновление Перемещения с указанным id.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Перемещения.


Пример запроса на обновление отдельного Перемещения.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "705507",
            "description": "Переезд 2",
            "code": "12345",
            "externalCode": "12345678",
            "moment": "2016-07-21 19:44:33",
            "applicable": false,
            "state": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata/states/64c4689e-4f67-11e6-8a84-bae5000000b5",
                "type": "state",
                "mediaType": "application/json"
              }
            },
            "overhead": {
              "sum": 5555,
              "distribution": "weight"
            },
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "targetStore": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "sourceStore": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/e94a6e65-4f64-11e6-8a84-bae500000066",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata/attributes/954d6ab9-4f67-11e6-8a84-bae5000000bc",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": 43
              }
            ],
            "positions": []
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Перемещения.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/544236cb-4f6a-11e6-8a84-bae500000003",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata",
    "type": "move",
    "mediaType": "application/json"
  },
  "id": "544236cb-4f6a-11e6-8a84-bae500000003",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-21 20:44:20",
  "name": "705507",
  "description": "Переезд 2",
  "code": "12345",
  "externalCode": "12345678",
  "moment": "2016-07-21 19:44:33",
  "applicable": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata/states/64c4689e-4f67-11e6-8a84-bae5000000b5",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata/attributes/954d62cc-4f67-11e6-8a84-bae5000000bb",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "954d62cc-4f67-11e6-8a84-bae5000000bb",
      "name": "AttributeName1",
      "type": "time",
      "value": "2016-07-21 20:28:53"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/metadata/attributes/954d6ab9-4f67-11e6-8a84-bae5000000bc",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "954d6ab9-4f67-11e6-8a84-bae5000000bc",
      "name": "AttributeName2",
      "type": "long",
      "value": 43
    }
  ],
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/544236cb-4f6a-11e6-8a84-bae500000003/positions",
      "type": "moveposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "sourceStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/e94a6e65-4f64-11e6-8a84-bae500000066",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "targetStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  }
}
Позиции Перемещения
Отдельный ресурс для управления позициями Перемещения. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить позиции
Запрос на получение списка всех позиций данного Перемещения.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Перемещения.


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Перемещения.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить позиции
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного Перемещения.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions",
    "type": "moveposition",
    "mediaType": "application/json",
    "size": 15,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/5ac5407b-4f67-11e6-8a84-bae500000085",
        "type": "moveposition",
        "mediaType": "application/json"
      },
      "id": "5ac5407b-4f67-11e6-8a84-bae500000085",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 2,
      "price": 0.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e6447ee7-3303-11e6-8a84-bae5000149c2",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
        }
      },
      "overhead": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/5ac54d7a-4f67-11e6-8a84-bae500000086",
        "type": "moveposition",
        "mediaType": "application/json"
      },
      "id": "5ac54d7a-4f67-11e6-8a84-bae500000086",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 3,
      "price": 0.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e6475862-3303-11e6-8a84-bae5000149cc",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=392c045c-2842-11e9-ac12-000a00000002"
        }
      },
      "overhead": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/5ac55815-4f67-11e6-8a84-bae500000087",
        "type": "moveposition",
        "mediaType": "application/json"
      },
      "id": "5ac55815-4f67-11e6-8a84-bae500000087",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 4,
      "price": 0.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e84aed23-3303-11e6-8a84-bae500014dcd",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
        }
      },
      "overhead": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/5ac56175-4f67-11e6-8a84-bae500000088",
        "type": "moveposition",
        "mediaType": "application/json"
      },
      "id": "5ac56175-4f67-11e6-8a84-bae500000088",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 5,
      "price": 0.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e84e52e5-3303-11e6-8a84-bae500014dd7",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
        }
      },
      "overhead": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/5ac56a34-4f67-11e6-8a84-bae500000089",
        "type": "moveposition",
        "mediaType": "application/json"
      },
      "id": "5ac56a34-4f67-11e6-8a84-bae500000089",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 2,
      "price": 0.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e8530f64-3303-11e6-8a84-bae500014de6",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000042"
        }
      },
      "overhead": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/5ac572cd-4f67-11e6-8a84-bae50000008a",
        "type": "moveposition",
        "mediaType": "application/json"
      },
      "id": "5ac572cd-4f67-11e6-8a84-bae50000008a",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 0.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/328b0454-2e62-11e6-8a84-bae500000118",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000043"
        }
      },
      "overhead": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/5ac57b59-4f67-11e6-8a84-bae50000008b",
        "type": "moveposition",
        "mediaType": "application/json"
      },
      "id": "5ac57b59-4f67-11e6-8a84-bae50000008b",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 32,
      "price": 0.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0744d71b-2e59-11e6-8a84-bae50000007f",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000045"
        }
      },
      "overhead": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/5ac5843a-4f67-11e6-8a84-bae50000008c",
        "type": "moveposition",
        "mediaType": "application/json"
      },
      "id": "5ac5843a-4f67-11e6-8a84-bae50000008c",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 14,
      "price": 0.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a7daa6b-3c64-11e6-8a84-bae50000000a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
          "type": "variant",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=e64d0a86-2a99-11e9-ac12-000c00000046"
        }
      },
      "overhead": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/5ac58ea6-4f67-11e6-8a84-bae50000008d",
        "type": "moveposition",
        "mediaType": "application/json"
      },
      "id": "5ac58ea6-4f67-11e6-8a84-bae50000008d",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 5,
      "price": 0.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a81082f-3c64-11e6-8a84-bae50000000e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
          "type": "variant",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=e64d0a86-2a99-11e9-ac12-000c00000047"
        }
      },
      "overhead": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/5ac596ca-4f67-11e6-8a84-bae50000008e",
        "type": "moveposition",
        "mediaType": "application/json"
      },
      "id": "5ac596ca-4f67-11e6-8a84-bae50000008e",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 6,
      "price": 0.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a83c422-3c64-11e6-8a84-bae500000012",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
          "type": "variant",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=e64d0a86-2a99-11e9-ac12-000c00000048"
        }
      },
      "overhead": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/5ac59eb7-4f67-11e6-8a84-bae50000008f",
        "type": "moveposition",
        "mediaType": "application/json"
      },
      "id": "5ac59eb7-4f67-11e6-8a84-bae50000008f",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 34,
      "price": 0.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/4f05a1f2-3304-11e6-8a84-bae50001c687",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000049"
        }
      },
      "overhead": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/5ac5a711-4f67-11e6-8a84-bae500000090",
        "type": "moveposition",
        "mediaType": "application/json"
      },
      "id": "5ac5a711-4f67-11e6-8a84-bae500000090",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 32,
      "price": 0.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/4f785efd-3304-11e6-8a84-bae50001c6c4",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000040"
        }
      },
      "overhead": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/5ac5af07-4f67-11e6-8a84-bae500000091",
        "type": "moveposition",
        "mediaType": "application/json"
      },
      "id": "5ac5af07-4f67-11e6-8a84-bae500000091",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 12,
      "price": 0.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/4f918196-3304-11e6-8a84-bae50001c6d2",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000051"
        }
      },
      "overhead": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/5ac5c872-4f67-11e6-8a84-bae500000092",
        "type": "moveposition",
        "mediaType": "application/json"
      },
      "id": "5ac5c872-4f67-11e6-8a84-bae500000092",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 43,
      "price": 0.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/4f2a0659-3304-11e6-8a84-bae50001c6a1",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000052"
        }
      },
      "overhead": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/5ac5d0e5-4f67-11e6-8a84-bae500000093",
        "type": "moveposition",
        "mediaType": "application/json"
      },
      "id": "5ac5d0e5-4f67-11e6-8a84-bae500000093",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 32,
      "price": 0.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/27eba7b5-3303-11e6-8a84-bae500002b72",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000053"
        }
      },
      "overhead": 0
    }
  ]
}
Позиция ПеремещенияПолучить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Перемещения.


positionID
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b20 id Перемещения.


Запрос на получение отдельной позиции Перемещения с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Перемещения.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20",
    "type": "moveposition",
    "mediaType": "application/json"
  },
  "id": "7944ef04-f831-11e5-7a69-971500188b20",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "quantity": 4,
  "price": 0.0,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e84aed23-3303-11e6-8a84-bae500014dcd",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
    }
  },
  "overhead": 0
}
Создать позицию
Запрос на создание новой позиции в Перемещении.
Для успешного создания необходимо в теле запроса указать следующие поля:

assortment - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем service, consignment, variant в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании позиции Перемещения
quantity - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций Перемещения. Все созданные данным запросом позиции
будут добавлены к уже существующим.

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Перемещения.


Пример создания позиций в Перемещении.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "quantity": 43,
              "price": 670.0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/4f2a0659-3304-11e6-8a84-bae50001c6a1",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                  "type": "product",
                  "mediaType": "application/json"
                }
              },
              "overhead": 70
            },
            {
              "quantity": 32,
              "price": 640.0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/27eba7b5-3303-11e6-8a84-bae500002b72",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                  "type": "product",
                  "mediaType": "application/json"
                }
              },
              "overhead": 65
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного Перемещения.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/476d9c48-4f6b-11e6-8a84-bae500000013",
      "type": "moveposition",
      "mediaType": "application/json"
    },
    "id": "476d9c48-4f6b-11e6-8a84-bae500000013",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 43,
    "price": 670.0,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/4f2a0659-3304-11e6-8a84-bae50001c6a1",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
      }
    },
    "overhead": 0
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/476da9ce-4f6b-11e6-8a84-bae500000014",
      "type": "moveposition",
      "mediaType": "application/json"
    },
    "id": "476da9ce-4f6b-11e6-8a84-bae500000014",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 32,
    "price": 640.0,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/27eba7b5-3303-11e6-8a84-bae500002b72",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
      }
    },
    "overhead": 0
  }
]
Изменить позицию
Запрос на обновление отдельной позиции Перемещения. Для обновления позиции нет каких-либо
обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Перемещения.


positionID
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b20 id Перемещения.


Пример запроса на обновление отдельной позиции в Перемещении.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 44,
            "price": 222222.0
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной позиции Перемещения.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20",
    "type": "moveposition",
    "mediaType": "application/json"
  },
  "id": "7944ef04-f831-11e5-7a69-971500188b20",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "quantity": 44,
  "price": 222222.0,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/4f2a0659-3304-11e6-8a84-bae50001c6a1",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
    }
  },
  "overhead": 0
}
Удалить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Перемещения.


positionID
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b20 id Перемещения.


Запрос на удаление отдельной позиции Перемещения с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/move/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление позиции Перемещения.

Массовое удаление позиций
Параметры


Параметр
Описание



id
string (required) Example: 3e1c03bb-684f-11ee-ac12-000c000000b0 id Перемещения.


Запрос на массовое удаление позиций Перемещения.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/move/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "moveposition",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/move/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "moveposition",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление позиций Перемещения. 

Полученный отчет комиссионера
Средствами JSON API можно создавать и обновлять сведения о Полученных отчетах комиссионера, запрашивать списки Полученных отчетов комиссионера и сведения по отдельным Полученным отчетам комиссионера. Позициями отчетов комиссионера можно управлять как в составе отдельного отчета, так и с помощью специальных ресурсов для управления позициями. Кодом сущности для Полученного отчета комиссионера в составе JSON API является ключевое слово commissionreportin. Больше об отчетах комиссионера и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по  этой ссылке.
Полученные отчеты комиссионераАтрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


agent
Meta
= !=
Метаданные контрагентаОбязательное при ответе Expand Необходимо при создании


agentAccount
Meta

Метаданные счета контрагентаExpand


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта


code
String(255)
= != ~ ~= =~
Код Полученного отчета комиссионера


commissionOverhead
Object

Прочие расходы. Подробнее тут. Если Позиции Отчета комиссионера не заданы, то расходы нельзя задатьUpdate-provider


commissionPeriodEnd
DateTime

Конец периодаОбязательное при ответе Необходимо при создании


commissionPeriodStart
DateTime

Начало периодаОбязательное при ответе Необходимо при создании


commitentSum
Float

Сумма коммитента в установленной валютеТолько для чтения


contract
Meta
= !=
Метаданные договораОбязательное при ответе Expand Необходимо при создании


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления Полученного отчета комиссионераТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Полученного отчета комиссионера


externalCode
String(255)
= != ~ ~= =~
Внешний код Полученного отчета комиссионераОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID Полученного отчета комиссионераОбязательное при ответе Только для чтения


meta
Meta

Метаданные Полученного отчета комиссионераОбязательное при ответе Только для чтения


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование Полученного отчета комиссионераОбязательное при ответе


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании


organizationAccount
Meta

Метаданные счета юрлицаExpand


owner
Meta
= !=
Владелец (Сотрудник)Expand


payedSum
Float

Оплаченная суммаОбязательное при ответе Только для чтения


positions
MetaArray

Метаданные позиций реализовано комиссионером Полученного отчета комиссионераОбязательное при ответе Expand


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


project
Meta
= !=
Метаданные проектаExpand


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


rate
Object

Валюта. Подробнее тутОбязательное при ответе


returnToCommissionerPositions
MetaArray

Метаданные позиций возврата на склад комиссионера Полученного отчета комиссионераОбязательное при ответе Expand


rewardPercent
Int

Процент вознаграждения (всегда 0 если вознаграждение не рассчитывается)


rewardType
String(255)

Тип вознаграждения


salesChannel
Meta
= !=
Метаданные канала продажExpand


shared
Boolean
= !=
Общий доступОбязательное при ответе


state
Meta
= !=
Метаданные статуса Полученного отчета комиссионераExpand


sum
Int
= != < > <= >=
Сумма Полученного отчета комиссионера в копейкахОбязательное при ответе Только для чтения


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для измененияТолько для чтения


updated
DateTime
= != < > <= >=
Момент последнего обновления Полученного отчета комиссионераОбязательное при ответе Только для чтения


vatEnabled
Boolean

Учитывается ли НДСОбязательное при ответе


vatIncluded
Boolean

Включен ли НДС в цену


vatSum
Float

Сумма НДСОбязательное при ответе Только для чтения


Прочие расходы
Описание полей commissionOverhead:
Поле sum может быть отрицательным.


Название
Тип
Описание



sum
Int
Сумма в копейкахОбязательное при ответе Update-provider


Связи с другими документами


Название
Описание



payments
Массив ссылок на связанные платежи в формате Метаданных


Позиции Полученного отчета комиссионера
Позиции Полученного отчета комиссионера - это список товаров/модификаций/серий.
С позициями можно работать с помощью специальных ресурсов для управления позициями реализовано комиссионером и
позициями возврата на склад комиссионера,
а также в составе отдельного Полученного отчета комиссионера. При работе в составе отдельного Полученного отчета комиссионера,
вы можете отправлять запросы на создание Полученного отчета комиссионера с включенным в тело запроса
массивом реализованных позиций и позиций на возврат Полученного отчета комиссионера. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Реализованные позиции отчета комиссионера" и "Позиции на возврат отчета комиссионера".
Также, при работе в составе отдельного Полученного отчета комиссионера, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Полученного отчета комиссионера. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Полученного отчета комиссионера" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
Объект позиции реализовано комиссионером содержит следующие поля:
Поле reward может быть отрицательным.


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияОбязательное при ответе Expand


id
UUID
ID позицииОбязательное при ответе Только для чтения


pack
Object
Упаковка Товара. Подробнее тут


price
Float
Цена товара/услуги в копейкахОбязательное при ответе


quantity
Float
Количество товаров данного вида в позиции.Обязательное при ответе


reward
Float
ВознаграждениеОбязательное при ответе


vat
Int
НДС, которым облагается текущая позицияОбязательное при ответе


vatEnabled
Boolean
Включен ли НДС для позиции. С помощью этого флага для позиции можно выставлять НДС = 0 или НДС = "без НДС". (vat = 0, vatEnabled = false) -> vat = "без НДС", (vat = 0, vatEnabled = true) -> vat = 0%.Обязательное при ответе


Объект позиции возврата на склад комиссионера содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияОбязательное при ответе Expand


id
UUID
ID позицииОбязательное при ответе Только для чтения


price
Float
Цена товара/услуги в копейкахОбязательное при ответе


quantity
Float
Количество товаров данного вида в позиции.Обязательное при ответе


reward
Float
ВознаграждениеОбязательное при ответе


vat
Int
НДС, которым облагается текущая позицияОбязательное при ответе


vatEnabled
Boolean
Включен ли НДС для позиции. С помощью этого флага для позиции можно выставлять НДС = 0 или НДС = "без НДС". (vat = 0, vatEnabled = false) -> vat = "без НДС", (vat = 0, vatEnabled = true) -> vat = 0%.Обязательное при ответе


Получить отчеты комиссионера
Запрос всех Полученных отчетов комиссионера на учетной записи.
Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


incomingDate
string (optional) Example: 2016-04-15 15:48:46 Параметр для фильтрации выборки по входящей дате. Подробнее про данный параметр можно посмотреть в разделе Фильтрация выборки с помощью параметра filter. Формат строки : ГГГГ-ММ-ДД ЧЧ:ММ:СС[.ммм], Часовой пояс: MSK (Московское время)


Получить отчеты комиссионера
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Полученных отчетов комиссионера.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata",
    "type": "commissionreportin",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/392fb7a9-ab02-11e6-8a84-bae500000073",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata",
        "type": "commissionreportin",
        "mediaType": "application/json"
      },
      "id": "392fb7a9-ab02-11e6-8a84-bae500000073",
      "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-15 10:11:35",
      "name": "00001",
      "externalCode": "DfZi0N0mggqmVRt2hVf8t2",
      "moment": "2016-11-15 10:04:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 0,
      "contract": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
          "type": "contract",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/392fb7a9-ab02-11e6-8a84-bae500000073/positions",
          "type": "commissionreportinposition",
          "mediaType": "application/json",
          "size": 0,
          "limit": 1000,
          "offset": 0
        }
      },
      "returnToCommissionerPositions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/392fb7a9-ab02-11e6-8a84-bae500000073/returntocommissionerpositions",
          "type": "commissionreportinreturnedposition",
          "mediaType": "application/json",
          "size": 0,
          "limit": 1000,
          "offset": 0
        }
      },
      "vatEnabled": true,
      "vatIncluded": true,
      "vatSum": 0,
      "commissionPeriodStart": "2016-11-09 10:07:00",
      "commissionPeriodEnd": "2016-11-09 10:07:00",
      "rewardType": "PercentOfSales",
      "rewardPercent": 0,
      "commitentSum": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/6348c14c-ab39-11e6-8a84-bae500000064",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata",
        "type": "commissionreportin",
        "mediaType": "application/json"
      },
      "id": "6348c14c-ab39-11e6-8a84-bae500000064",
      "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-17 17:10:23",
      "name": "00002",
      "externalCode": "ec21rBixjdrEm0CVkCiOJ0",
      "moment": "2016-11-15 14:19:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 0,
      "contract": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
          "type": "contract",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/6348c14c-ab39-11e6-8a84-bae500000064/positions",
          "type": "commissionreportinposition",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      },
      "returnToCommissionerPositions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/6348c14c-ab39-11e6-8a84-bae500000064/returntocommissionerpositions",
          "type": "commissionreportinreturnedposition",
          "mediaType": "application/json",
          "size": 0,
          "limit": 1000,
          "offset": 0
        }
      },
      "vatEnabled": true,
      "vatIncluded": true,
      "vatSum": 0,
      "commissionPeriodStart": "2016-11-15 14:19:00",
      "commissionPeriodEnd": "2016-11-15 14:22:00",
      "rewardType": "None",
      "rewardPercent": 0,
      "commitentSum": 0,
      "payments": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/e39851ec-ab43-11e6-8a84-bae50000007a",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata",
            "type": "paymentin",
            "mediaType": "application/json"
          },
          "linkedSum": 0
        }
      ]
    }
  ]
}

Создать Полученный отчет комиссионера
Запрос на создание нового Полученного отчета комиссионера.
Обязательные для создания поля:

agent - контрагент
contract - договор
organization - юрлицо
commissionPeriodStart - начало периода
commissionPeriodEnd - конец периода
organizationAccount - счет юрлица (если у юрлица несколько счетов)
agentAccount - счет контрагента (если у контрагента несколько счетов)

При указании поля contract важно:

Чтобы договор был заключен с указанным в поле agent контрагентом
Договор имел тип "Договор комиссии"

Пример создания нового Полученного отчета комиссионера.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "owner": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                "type": "employee",
                "mediaType": "application/json"
              }
            },
            "shared": false,
            "group": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                "type": "group",
                "mediaType": "application/json"
              }
            },
            "name": "3335551",
            "externalCode": "extCod1",
            "moment": "2016-12-16 11:22:33",
            "applicable": true,
            "sum": 0,
            "contract": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
                "type": "contract",
                "mediaType": "application/json"
              }
            },
            "project": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
                "type": "project",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "organizationAccount": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
                "type": "account",
                "mediaType": "application/json"
              }
            },
            "positions": [
              {
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36eb1628-912b-11e6-8a84-bae500000124",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                },
                "quantity": 2,
                "price": 132.05,
                "vat": 10,
                "reward": 123
              },
              {
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                },
                "quantity": 15,
                "price": 99.99,
                "vat": 0,
                "reward": 100
              }
            ],
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata/attributes/4930a123-acda-11e6-8a84-bae50000006d",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "value"
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata/attributes/4930a9c5-acda-11e6-8a84-bae50000006e",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "values"
              }
            ],
            "vatEnabled": true,
            "vatIncluded": true,
            "vatSum": 0,
            "commissionPeriodStart": "2016-11-01 10:07:00",
            "commissionPeriodEnd": "2016-11-29 10:07:00",
            "rewardType": "PercentOfSales",
            "rewardPercent": 15
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Полученного отчета комиссионера.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/cc5beac8-acdb-11e6-8a84-bae500000000",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata",
    "type": "commissionreportin",
    "mediaType": "application/json"
  },
  "id": "cc5beac8-acdb-11e6-8a84-bae500000000",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-17 18:37:50",
  "name": "3335551",
  "externalCode": "extCod1",
  "moment": "2016-12-16 11:22:33",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 1764,
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata/attributes/4930a123-acda-11e6-8a84-bae50000006d",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "4930a123-acda-11e6-8a84-bae50000006d",
      "name": "AttributeName1",
      "type": "string",
      "value": "value"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata/attributes/4930a9c5-acda-11e6-8a84-bae50000006e",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "4930a9c5-acda-11e6-8a84-bae50000006e",
      "name": "AttributeName2",
      "type": "string",
      "value": "values"
    }
  ],
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/cc5beac8-acdb-11e6-8a84-bae500000000/positions",
      "type": "commissionreportinposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "returnToCommissionerPositions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/cc5beac8-acdb-11e6-8a84-bae500000000/returntocommissionerpositions",
      "type": "commissionreportinreturnedposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "vatSum": 24,
  "commissionPeriodStart": "2016-11-01 10:07:00",
  "commissionPeriodEnd": "2016-11-29 10:07:00",
  "rewardType": "PercentOfSales",
  "rewardPercent": 15,
  "commitentSum": 1499
}
Массовое создание и обновление Полученных отчетов комиссионера
Массовое создание и обновление Полученных отчетов комиссионера.
В теле запроса нужно передать массив, содержащий JSON представления Полученных отчетов комиссионера, которые вы хотите создать или обновить.
Обновляемые Полученные отчеты комиссионера должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Полученных отчетов комиссионера
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "owner": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                  "type": "employee",
                  "mediaType": "application/json"
                }
              },
              "shared": false,
              "group": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                  "type": "group",
                  "mediaType": "application/json"
                }
              },
              "name": "3335551",
              "externalCode": "extCod1",
              "moment": "2016-12-16 11:22:33",
              "applicable": true,
              "sum": 0,
              "contract": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
                  "type": "contract",
                  "mediaType": "application/json"
                }
              },
              "project": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
                  "type": "project",
                  "mediaType": "application/json"
                }
              },
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                  "type": "counterparty",
                  "mediaType": "application/json"
                }
              },
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "organizationAccount": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
                  "type": "account",
                  "mediaType": "application/json"
                }
              },
              "positions": [
                {
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36eb1628-912b-11e6-8a84-bae500000124",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                      "type": "variant",
                      "mediaType": "application/json"
                    }
                  },
                  "quantity": 2,
                  "price": 132.05,
                  "vat": 10,
                  "reward": 123
                },
                {
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                      "type": "variant",
                      "mediaType": "application/json"
                    }
                  },
                  "quantity": 15,
                  "price": 99.99,
                  "vat": 0,
                  "reward": 100
                }
              ],
              "attributes": [
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata/attributes/4930a123-acda-11e6-8a84-bae50000006d",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": "value"
                },
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata/attributes/4930a9c5-acda-11e6-8a84-bae50000006e",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": "values"
                }
              ],
              "vatEnabled": true,
              "vatIncluded": true,
              "vatSum": 0,
              "commissionPeriodStart": "2016-11-01 10:07:00",
              "commissionPeriodEnd": "2016-11-29 10:07:00",
              "rewardType": "PercentOfSales",
              "rewardPercent": 15
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/cc5beac8-acdb-11e6-8a84-bae500000000",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata",
                "type": "commissionreportin",
                "mediaType": "application/json"
              },
              "externalCode": "extCod1",
              "moment": "2016-12-16 11:22:33",
              "applicable": true,
              "sum": 0,
              "contract": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
                  "type": "contract",
                  "mediaType": "application/json"
                }
              },
              "project": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
                  "type": "project",
                  "mediaType": "application/json"
                }
              },
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                  "type": "counterparty",
                  "mediaType": "application/json"
                }
              },
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "organizationAccount": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
                  "type": "account",
                  "mediaType": "application/json"
                }
              },
              "positions": [
                {
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36eb1628-912b-11e6-8a84-bae500000124",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                      "type": "variant",
                      "mediaType": "application/json"
                    }
                  },
                  "quantity": 12,
                  "price": 132.05,
                  "vat": 10,
                  "reward": 123
                },
                {
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                      "type": "variant",
                      "mediaType": "application/json"
                    }
                  },
                  "quantity": 15,
                  "price": 99.399,
                  "vat": 0,
                  "reward": 100
                }
              ],
              "returnToCommissionerPositions": [
                {
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                      "type": "variant",
                      "mediaType": "application/json"
                    }
                  },
                  "quantity": 1,
                  "price": 99.399,
                  "vat": 0,
                  "reward": 100
                }
              ],
              "attributes": [
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata/attributes/4930a123-acda-11e6-8a84-bae50000006d",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": "Newvalue"
                }
              ],
              "vatEnabled": true,
              "vatIncluded": true,
              "vatSum": 0,
              "commissionPeriodStart": "2016-11-01 10:07:00",
              "commissionPeriodEnd": "2016-12-29 10:07:00",
              "rewardType": "PercentOfSales",
              "rewardPercent": 12
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Полученных отчетов комиссионера.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/cc5beac8-acdb-11e6-8a84-bae500000000",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata",
      "type": "commissionreportin",
      "mediaType": "application/json"
    },
    "id": "cc5beac8-acdb-11e6-8a84-bae500000000",
    "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-11-17 18:37:50",
    "name": "3335551",
    "externalCode": "extCod1",
    "moment": "2016-12-16 11:22:33",
    "applicable": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 1764,
    "contract": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
        "type": "contract",
        "mediaType": "application/json"
      }
    },
    "project": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
        "type": "project",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "attributes": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata/attributes/4930a123-acda-11e6-8a84-bae50000006d",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "4930a123-acda-11e6-8a84-bae50000006d",
        "name": "AttributeName1",
        "type": "string",
        "value": "value"
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata/attributes/4930a9c5-acda-11e6-8a84-bae50000006e",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "4930a9c5-acda-11e6-8a84-bae50000006e",
        "name": "AttributeName2",
        "type": "string",
        "value": "values"
      }
    ],
    "created": "2007-02-07 17:16:41",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/cc5beac8-acdb-11e6-8a84-bae500000000/positions",
        "type": "commissionreportinposition",
        "mediaType": "application/json",
        "size": 2,
        "limit": 1000,
        "offset": 0
      }
    },
    "returnToCommissionerPositions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/cc5beac8-acdb-11e6-8a84-bae500000000/returntocommissionerpositions",
        "type": "commissionreportinreturnedposition",
        "mediaType": "application/json",
        "size": 0,
        "limit": 1000,
        "offset": 0
      }
    },
    "vatEnabled": true,
    "vatIncluded": true,
    "vatSum": 24,
    "commissionPeriodStart": "2016-11-01 10:07:00",
    "commissionPeriodEnd": "2016-11-29 10:07:00",
    "rewardType": "PercentOfSales",
    "rewardPercent": 15,
    "commitentSum": 1499
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/cc5beac8-acdb-11e6-8a84-bae500000000",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata",
      "type": "commissionreportin",
      "mediaType": "application/json"
    },
    "id": "cc5beac8-acdb-11e6-8a84-bae500000000",
    "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-11-17 20:11:40",
    "name": "3335551",
    "externalCode": "extCod1",
    "moment": "2016-12-16 11:22:33",
    "applicable": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 3069,
    "contract": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
        "type": "contract",
        "mediaType": "application/json"
      }
    },
    "project": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
        "type": "project",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "state": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata/states/40ca02eb-acda-11e6-8a84-bae500000069",
        "type": "state",
        "mediaType": "application/json"
      }
    },
    "attributes": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata/attributes/4930a123-acda-11e6-8a84-bae50000006d",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "4930a123-acda-11e6-8a84-bae50000006d",
        "name": "AttributeName3",
        "type": "string",
        "value": "Newvalue"
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata/attributes/4930a9c5-acda-11e6-8a84-bae50000006e",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "4930a9c5-acda-11e6-8a84-bae50000006e",
        "name": "AttributeName2",
        "type": "string",
        "value": "values"
      }
    ],
    "created": "2007-02-07 17:16:41",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/cc5beac8-acdb-11e6-8a84-bae500000000/positions",
        "type": "commissionreportinposition",
        "mediaType": "application/json",
        "size": 2,
        "limit": 1000,
        "offset": 0
      }
    },
    "returnToCommissionerPositions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/cc5beac8-acdb-11e6-8a84-bae500000000/returntocommissionerpositions",
        "type": "commissionreportinreturnedposition",
        "mediaType": "application/json",
        "size": 1,
        "limit": 1000,
        "offset": 0
      }
    },
    "vatEnabled": true,
    "vatIncluded": true,
    "vatSum": 144,
    "commissionPeriodStart": "2016-11-01 10:07:00",
    "commissionPeriodEnd": "2016-12-29 10:07:00",
    "rewardType": "PercentOfSales",
    "rewardPercent": 12,
    "commitentSum": 2701
  }
]
Удалить Полученный отчет комиссионера
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Полученного отчета комиссионера.


Запрос на удаление Полученного отчета комиссионера с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Полученного отчета комиссионера.

Массовое удаление Полученных отчетов комиссионера
В теле запроса нужно передать массив, содержащий JSON метаданных Полученных отчетов комиссионера, которые вы хотите удалить.
Запрос на массовое удаление Полученных отчетов комиссионера. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata",
                "type": "commissionreportin",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata",
                "type": "commissionreportin",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Полученных отчетов комиссионера.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'commissionreportin' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'commissionreportin' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные Полученного отчетаМетаданные Полученного отчета
Запрос на получение метаданных отчетов комиссионера. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные отчетов комиссионера


attributes
Массив объектов доп. полей отчетов комиссионера формате Метаданных


states
Массив статусов отчетов комиссионера


createShared
создавать новые отчеты комиссионера с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Полученного отчета
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление метаданных Полученного отчета комиссионера.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata/attributes/4930a123-acda-11e6-8a84-bae50000006d",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "4930a123-acda-11e6-8a84-bae50000006d",
      "name": "AttributeName1",
      "type": "string",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata/attributes/4930a9c5-acda-11e6-8a84-bae50000006e",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "4930a9c5-acda-11e6-8a84-bae50000006e",
      "name": "AttributeName2",
      "type": "string",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata/states/40ca02eb-acda-11e6-8a84-bae500000069",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "40ca02eb-acda-11e6-8a84-bae500000069",
      "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
      "name": "Статус",
      "color": 10066329,
      "stateType": "Regular",
      "entityType": "commissionreportin"
    }
  ],
  "createShared": false
}

Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata/attributes/4930a123-acda-11e6-8a84-bae50000006d",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "4930a123-acda-11e6-8a84-bae50000006d",
  "name": "AttributeName1",
  "type": "string",
  "required": false
}
Полученный отчет комиссионераПолучить отчет комиссионера
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Полученного отчета комиссионера.


Запрос на Получение отдельного отчета комиссионера с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Полученного отчета комиссионера.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata",
    "type": "commissionreportin",
    "mediaType": "application/json"
  },
  "id": "7944ef04-f831-11e5-7a69-971500188b19",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-15 10:11:35",
  "name": "00001",
  "externalCode": "DfZi0N0mggqmVRt2hVf8t2",
  "moment": "2016-11-15 10:04:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/positions",
      "type": "commissionreportinposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "returnToCommissionerPositions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/returnToCommissionerPositions",
      "type": "commissionreportinreturnedposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "vatSum": 0,
  "commissionPeriodStart": "2016-11-09 10:07:00",
  "commissionPeriodEnd": "2016-11-09 10:07:00",
  "rewardType": "PercentOfSales",
  "rewardPercent": 0,
  "commitentSum": 0
}

Изменить Полученный отчет комиссионера
Запрос на обновление Полученного отчета комиссионера с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Полученного отчета комиссионера, кроме тех, что
помечены Только для чтения в описании атрибутов Полученного отчета комиссионера.
При обновлении полей organization и agent нужно также обновить поля organizationAccount и
agentAccount соответственно, иначе произойдет ошибка.
При указании поля contract важно:

Чтобы договор был заключен с указанным в поле agent контрагентом
Договор имел тип "Договор комиссии"

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Полученного отчета комиссионера.


Пример запроса на обновление отдельного отчета комиссионера.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "externalCode": "extCod1",
            "moment": "2016-12-16 11:22:33",
            "applicable": true,
            "sum": 0,
            "contract": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
                "type": "contract",
                "mediaType": "application/json"
              }
            },
            "project": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
                "type": "project",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "organizationAccount": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
                "type": "account",
                "mediaType": "application/json"
              }
            },
            "positions": [
              {
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36eb1628-912b-11e6-8a84-bae500000124",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                },
                "quantity": 12,
                "price": 132.05,
                "vat": 10,
                "reward": 123
              },
              {
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                },
                "quantity": 15,
                "price": 99.399,
                "vat": 0,
                "reward": 100
              }
            ],
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata/attributes/4930a123-acda-11e6-8a84-bae50000006d",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "Newvalue"
              }
            ],
            "vatEnabled": true,
            "vatIncluded": true,
            "vatSum": 0,
            "commissionPeriodStart": "2016-11-01 10:07:00",
            "commissionPeriodEnd": "2016-12-29 10:07:00",
            "rewardType": "PercentOfSales",
            "rewardPercent": 12
          }
'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного отчета комиссионера.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata",
    "type": "commissionreportin",
    "mediaType": "application/json"
  },
  "id": "7944ef04-f831-11e5-7a69-971500188b19",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-17 20:11:40",
  "name": "3335551",
  "externalCode": "extCod1",
  "moment": "2016-12-16 11:22:33",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 3069,
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/92df2d9c-ab02-11e6-8a84-bae500000084",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051/accounts/b932bc5b-9128-11e6-8a84-bae500000052",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata/states/40ca02eb-acda-11e6-8a84-bae500000069",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata/attributes/4930a123-acda-11e6-8a84-bae50000006d",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "4930a123-acda-11e6-8a84-bae50000006d",
      "name": "AttributeName1",
      "type": "string",
      "value": "Newvalue"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata/attributes/4930a9c5-acda-11e6-8a84-bae50000006e",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "4930a9c5-acda-11e6-8a84-bae50000006e",
      "name": "AttributeName2",
      "type": "string",
      "value": "values"
    }
  ],
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/positions",
      "type": "commissionreportinposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "returnToCommissionerPositions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/returnToCommissionerPositions",
      "type": "commissionreportinreturnedposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "vatSum": 144,
  "commissionPeriodStart": "2016-11-01 10:07:00",
  "commissionPeriodEnd": "2016-12-29 10:07:00",
  "rewardType": "PercentOfSales",
  "rewardPercent": 12,
  "commitentSum": 2701
}
Позиции реализовано комиссионером
Отдельный ресурс для управления позициями реализовано комиссионером Полученного отчета комиссионера. С его помощью вы можете управлять позициями большого документа, 
количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 1000. 
Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить позиции реализовано комиссионером
Запрос на получение списка всех позиций данного Полученного отчета комиссионера.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Полученного отчета комиссионера.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить позиции реализовано комиссионером
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/positions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка реализованных позиций отдельного отчета комиссионера.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/positions",
    "type": "commissionreportinposition",
    "mediaType": "application/json",
    "size": 1,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/positions/94aef79a-accf-11e6-8a84-bae500000064",
        "type": "commissionreportinposition",
        "mediaType": "application/json"
      },
      "id": "94aef79a-accf-11e6-8a84-bae500000064",
      "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 0.0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/ca976541-96d1-11e6-8a84-bae50000002e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3c6dc9b8-2842-11e9-ac12-000c00000071"
        }
      },
      "reward": 0
    }
  ]
}
Получить позицию реализовано комиссионером
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Полученного отчета комиссионера.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции реализовано комиссионером Полученного отчета комиссионера.


Запрос на получение отдельной позиции реализовано комиссионером с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции реализовано комиссионером.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "commissionreportinposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "quantity": 1,
  "price": 0.0,
  "vat": 0,
  "vatEnabled": false,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/ca976541-96d1-11e6-8a84-bae50000002e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3c6dc9b8-2842-11e9-ac12-000c00000071"
    }
  },
  "reward": 0
}
Создать позицию реализовано комиссионером
Для успешного создания необходимо в теле запроса указать следующие поля:

assortment - Ссылка на товар/серию/модификацию, которую представляет собой позиция.
Подробнее об этом поле можно прочитать в описании позиции отчета комиссионера
quantity - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну, так и несколько позиций отчета комиссионера. Все созданные данным запросом позиции
будут добавлены к уже существующим.

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Полученного отчета комиссионера.


Пример создания одной позиции реализовано комиссионером в Полученном отчете комиссионера.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "quantity": 2,
              "price": 1300.0,
              "vat": 0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                  "type": "variant",
                  "mediaType": "application/json"
                }
              },
              "reward": 12
            },
            {
              "quantity": 15,
              "price": 1020.0,
              "vat": 0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                  "type": "variant",
                  "mediaType": "application/json"
                }
              },
              "reward": 22
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного отчета комиссионера.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/positions/a7a61c8b-acdd-11e6-8a84-bae500000000",
      "type": "commissionreportinposition",
      "mediaType": "application/json"
    },
    "id": "a7a61c8b-acdd-11e6-8a84-bae500000000",
    "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
    "quantity": 2,
    "price": 1300.0,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3c6dc9b8-2842-11e9-ac12-000c00000071"
      }
    },
    "reward": 12
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/positions/a7a6c749-acdd-11e6-8a84-bae500000001",
      "type": "commissionreportinposition",
      "mediaType": "application/json"
    },
    "id": "a7a6c749-acdd-11e6-8a84-bae500000001",
    "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
    "quantity": 15,
    "price": 1020.0,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=e639e90c-2a99-11e9-ac12-000c0000003e"
      }
    },
    "reward": 22
  }
]
Изменить позицию реализовано комиссионером
Для обновления позиции нет каких-либо обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Полученного отчета комиссионера.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции реализовано комиссионером Полученного отчета комиссионера.


Пример запроса на обновление отдельной позиции реализовано комиссионером в Полученном отчете комиссионера.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 14,
            "price": 1301.0,
            "vat": 10,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                "type": "variant",
                "mediaType": "application/json"
              }
            },
            "reward": 0
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной позиции реализовано комиссионером.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "commissionreportinposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "quantity": 14,
  "price": 1301.0,
  "vat": 10,
  "vatEnabled": true,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
      "type": "variant",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3c6dc9b8-2842-11e9-ac12-000c00000071"
    }
  },
  "reward": 0
}
Удалить позицию реализовано комиссионером
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Полученного отчета комиссионера.


positionID
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id позиции реализовано комиссионером Полученного отчета комиссионера.


Запрос на удаление позиции реализовано комиссионером с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление позиции реализовано комиссионером.

Массовое удаление позиций реализовано комиссионером
Параметры


Параметр
Описание



id
string (required) Example: 3e1c03bb-684f-11ee-ac12-000c000000b0 id Полученного отчета комиссионера.


Запрос на массовое удаление позиций реализовано комиссионером.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "commissionreportinposition",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "commissionreportinposition",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление позиций реализовано комиссионером.

Позиции возврата на склад комиссионера
Отдельный ресурс для управления позициями возврата на склад комиссионера в Полученном отчете комиссионера. С его помощью вы можете управлять позициями большого документа,
количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 1000.
Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Товары в позициях возврата на склад комиссионера должны содержаться в позициях реализовано комиссионером и не могут превышать количество реализованного товара.
Получить позиции возврата на склад комиссионера
Запрос на получение списка всех позиций возврата на склад комиссионера данного Полученного отчета комиссионера.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Полученного отчета комиссионера.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить позиции возврата на склад комиссионера
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/returntocommissionerpositions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций возврата на склад отдельного отчета комиссионера.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/returntocommissionerpositions",
    "type": "commissionreportinreturnedposition",
    "mediaType": "application/json",
    "size": 1,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/returntocommissionerpositions/94aef79a-accf-11e6-8a84-bae500000064",
        "type": "commissionreportinreturnedposition",
        "mediaType": "application/json"
      },
      "id": "94aef79a-accf-11e6-8a84-bae500000064",
      "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 0.0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/ca976541-96d1-11e6-8a84-bae50000002e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3c6dc9b8-2842-11e9-ac12-000c00000071"
        }
      },
      "reward": 0
    }
  ]
}
Получить позицию возврата на склад комиссионера
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Полученного отчета комиссионера.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции возврата на склад комиссионера Полученного отчета комиссионера.


Запрос на получение отдельной позиции возврата на склад комиссионера с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/returntocommissionerpositions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции возврата на склад комиссионера.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/returntocommissionerpositions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "commissionreportinreturnedposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "quantity": 1,
  "price": 0.0,
  "vat": 0,
  "vatEnabled": false,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/ca976541-96d1-11e6-8a84-bae50000002e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3c6dc9b8-2842-11e9-ac12-000c00000071"
    }
  },
  "reward": 0
}
Создать позицию возврата на склад комиссионера
Для успешного создания необходимо в теле запроса указать следующие поля:

assortment - Ссылка на товар/серию/модификацию, которую представляет собой позиция.
Подробнее об этом поле можно прочитать в описании позиции отчета комиссионера
quantity - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну, так и несколько позиций отчета комиссионера. Все созданные данным запросом позиции
будут добавлены к уже существующим.

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Полученного отчета комиссионера.


Пример создания одной позиции возврата на склад комиссионера в Полученном отчете комиссионера.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/returntocommissionerpositions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "quantity": 15,
              "price": 1300.0,
              "vat": 0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                  "type": "variant",
                  "mediaType": "application/json"
                }
              },
              "reward": 225
            },
            {
              "quantity": 15,
              "price": 1020.0,
              "vat": 0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                  "type": "variant",
                  "mediaType": "application/json"
                }
              },
              "reward": 12
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного отчета комиссионера.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/returntocommissionerpositions/a7a61c8b-acdd-11e6-8a84-bae500000000",
      "type": "commissionreportinreturnedposition",
      "mediaType": "application/json"
    },
    "id": "a7a61c8b-acdd-11e6-8a84-bae500000000",
    "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
    "quantity": 15,
    "price": 1300.0,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3c6dc9b8-2842-11e9-ac12-000c00000071"
      }
    },
    "reward": 225
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/returntocommissionerpositions/a7a6c749-acdd-11e6-8a84-bae500000001",
      "type": "commissionreportinreturnedposition",
      "mediaType": "application/json"
    },
    "id": "a7a6c749-acdd-11e6-8a84-bae500000001",
    "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
    "quantity": 15,
    "price": 1020.0,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=e639e90c-2a99-11e9-ac12-000c0000003e"
      }
    },
    "reward": 12
  }
]
Изменить позицию возврата на склад комиссионера
Для обновления позиции нет каких-либо обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Полученного отчета комиссионера.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции возврата на склад комиссионера Полученного отчета комиссионера.


Пример запроса на обновление отдельной позиции возврата на склад комиссионера в Полученном отчете комиссионера.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/returntocommissionerpositions/34f6344f-015e-11e6-9464-e4de0000006c"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 14,
            "price": 1301.0,
            "vat": 10,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                "type": "variant",
                "mediaType": "application/json"
              }
            },
            "reward": 0
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной позиции возврата на склад комиссионера.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/returntocommissionerpositions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "commissionreportinreturnedposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "b8b74698-9128-11e6-8a84-bae500000001",
  "quantity": 14,
  "price": 1301.0,
  "vat": 10,
  "vatEnabled": true,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/36edadbe-912b-11e6-8a84-bae500000128",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
      "type": "variant",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3c6dc9b8-2842-11e9-ac12-000c00000071"
    }
  },
  "reward": 0
}
Удалить позицию возврата на склад комиссионера
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Полученного отчета комиссионера.


positionID
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id позиции возврата на склад комиссионера Полученного отчета комиссионера.


Запрос на удаление позиции возврата на склад комиссионера с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/7944ef04-f831-11e5-7a69-971500188b19/returntocommissionerpositions/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление позиции возврата на склад комиссионера.

Массовое удаление позиций возврата на склад комиссионера
Параметры


Параметр
Описание



id
string (required) Example: 3e1c03bb-684f-11ee-ac12-000c000000b0 id Полученного отчета комиссионера.


Запрос на массовое удаление позиций возврата на склад комиссионера
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/3e1c03bb-684f-11ee-ac12-000c000000b0/returntocommissionerpositions/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/3e1c03bb-684f-11ee-ac12-000c000000b0/returntocommissionerpositions/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "commissionreportinreturnedposition",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/3e1c03bb-684f-11ee-ac12-000c000000b0/returntocommissionerpositions/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "commissionreportinreturnedposition",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление позиций возврата на склад комиссионера

Прайс-лист
Средствами JSON API можно создавать и обновлять сведения о Прайс-листах, запрашивать списки Прайс-листов и сведения по отдельным Прайс-листам. Позициями Прайс-листов можно управлять как в составе отдельного Прайс-листа, так и отдельно - с помощью специальных ресурсов для управления позициями Прайс-листа. Кодом сущности для Прайс-листа в составе JSON API является ключевое слово pricelist. Больше о Прайс-листах и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по  этой ссылке.
Прайс-листыАтрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта


code
String(255)
= != ~ ~= =~
Код Прайс-листа


columns
Array(Object)

Массив столбцов описания таблицыОбязательное при ответе Необходимо при создании После создания изменить нельзя


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления Прайс-листаТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Прайс-листа


externalCode
String(255)
= != ~ ~= =~
Внешний код Прайс-листаОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID Прайс-листаОбязательное при ответе Только для чтения


meta
Meta

Метаданные Прайс-листаОбязательное при ответе


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование Прайс-листаОбязательное при ответе


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand


owner
Meta
= !=
Владелец (Сотрудник)Expand


positions
MetaArray

Метаданные позиций Прайс-листаОбязательное при ответе Expand


priceType
Object

Объект типа ценыОбязательное при ответе Только для чтения


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


shared
Boolean
= !=
Общий доступОбязательное при ответе


state
Meta
= !=
Метаданные статуса Прайс-листаExpand


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


updated
DateTime
= != < > <= >=
Момент последнего обновления Прайс-листаОбязательное при ответе Только для чтения


Тип цены


Название
Тип
Описание



externalCode
String(255)
Внешний код Типа ценыОбязательное при ответе


id
UUID
ID типа ценыОбязательное при ответе Только для чтения


meta
Meta
Метаданные Типа ценыОбязательное при ответе Только для чтения


name
String(255)
Наименование Типа ценыОбязательное при ответе Необходимо при создании


Позиции Прайс-листа
Позиции Прайс-листа - это список товаров/услуг/модификаций/комплектов.
Объект позиции Прайс-листа содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияExpand


cells
Array(Object)
Массив значений столбцов в позиции Прайс-листаОбязательное при ответе


id
UUID
ID позицииОбязательное при ответе Только для чтения


pack
Object
Упаковки Товара. Подробнее тут


С позициями можно работать с помощью специальных ресурсов для управления позициями Прайс-листа,
а также в составе отдельного Прайс-листа. При работе в составе отдельного Прайс-листа,
вы можете отправлять запросы на создание отдельного Прайс-листа с включенным в тело запроса
массивом позиций Прайс-листа. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Прайс-листа".
Также, при работе в составе отдельной Прайс-листа, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Прайс-листа. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Прайс-листа" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
Столбцы
Поле columns - массив, содержащий в себе объекты со следующими атрибутами:


Название
Тип
Описание



name
String(255)
Наименование Прайс-листаОбязательное при ответе Необходимо при создании


percentageDiscount
Int
Процентная наценка или скидка по умолчанию для столбца


На столбцы налагаются следующие ограничения:

Название столбца не может отсутствовать или быть пустым
Название столбца должно быть уникальным в пределах одного Прайс-листа
Опциональное значение percentageDiscount должно быть числом.

Ячейки
Поле cells - массив, содержащий в себе объекты со следующими атрибутами:


Название
Тип
Описание



column
String(255)
Название столбца, к которому относится данная ячейкаОбязательное при ответе Необходимо при создании


sum
Int
Числовое значение ячейкиОбязательное при ответе Необходимо при создании


При создании если значения ячеек позиций Прайс-листа были не указаны, то заполнятся значениями по умолчанию те ячейки,
столбцы которых имеют значение скидки(наценки) по умолчанию. Элементы массива cells соотносятся с колонками по названию
по значению поля column.
О работе с доп. полями Прайс-листов можно прочитать здесь
Получить список Прайс-листов
Запрос всех Прайс-листов на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Прайс-листы.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить список Прайс-листов
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/pricelist"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Прайс-листов.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata",
    "type": "pricelist",
    "mediaType": "application/json",
    "size": 1,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/312cc207-afe9-11e6-8af5-581e0000002c",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata",
        "type": "pricelist",
        "mediaType": "application/json"
      },
      "id": "312cc207-afe9-11e6-8af5-581e0000002c",
      "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9575ba6d-9609-11e6-8af5-581e000000ad",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/956169fa-9609-11e6-8af5-581e00000009",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-21 15:51:16",
      "name": "Прайс-лист от 21.21.2016 (5)",
      "description": "test",
      "externalCode": "m-9OZzfBiAjolWhnBjTff0",
      "moment": "2016-11-21 15:51:16",
      "applicable": true,
      "printed": true,
      "published": true,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/312cc207-afe9-11e6-8af5-581e0000002c/positions",
          "type": "pricelistrow",
          "mediaType": "application/json",
          "size": 2,
          "limit": 1000,
          "offset": 0
        }
      },
      "priceType": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/context/companysettings/pricetype/672559f1-cbf3-11e1-9eb9-889ffa6f49fd",
          "type": "pricetype",
          "mediaType": "application/json"
        },
        "id": "672559f1-cbf3-11e1-9eb9-889ffa6f49fd",
        "name": "Цена продажи",
        "externalCode": "cbcf493b-55bc-11d9-848a-00112f43529a"
      },
      "columns": [
        {
          "name": "a"
        },
        {
          "name": "b",
          "percentageDiscount": 1000
        }
      ]
    }
  ]
}
Создать Прайс-лист
Запрос на создание нового Прайс-листа.
Обязательные для создания поля:

columns - Массив объектов, описывающих столбцы нового прайс-листа

Примечание: если при создании Прайс-листа указать несуществующий тип цен, то Прайс-лист создастся с типом цен продаж по умолчанию.
Пример создания нового Прайс-листа с телом запроса, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/pricelist"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "columns": [
              {
                "name": "column without discount"
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Прайс-листа.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/7370448e-afe9-11e6-8af5-581e00000036",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata",
    "type": "pricelist",
    "mediaType": "application/json"
  },
  "id": "7370448e-afe9-11e6-8af5-581e00000036",
  "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9575ba6d-9609-11e6-8af5-581e000000ad",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/956169fa-9609-11e6-8af5-581e00000009",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-21 15:53:07",
  "name": "Прайс-лист от 21.21.2016 (6)",
  "externalCode": "dj7x7PvbhjeR8u3eiVAFo3",
  "moment": "2016-11-21 15:53:08",
  "applicable": true,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/7370448e-afe9-11e6-8af5-581e00000036/positions",
      "type": "pricelistrow",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "columns": [
    {
      "name": "column without discount"
    }
  ]
}

Пример создания нового Прайс-листа с более насыщенным телом запроса.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/pricelist"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "shared": true,
            "name": "Новый прайс-лист",
            "description": "test",
            "externalCode": "m-9OZzfBiAjolWhnBjTff0",
            "moment": "2016-11-21 15:51:16",
            "applicable": true,
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "positions": {
              "rows": [
                {
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/987148b8-9a09-11e6-8af5-581e0000006f",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  },
                  "cells": [
                    {
                      "column": "without_discount",
                      "sum": 90000
                    }
                  ]
                },
                {
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/987148b8-9a09-11e6-8af5-581e0000006f",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  },
                  "cells": [
                    {
                      "column": "with_discount",
                      "sum": 1000
                    },
                    {
                      "column": "without_discount",
                      "sum": 1000
                    }
                  ]
                }
              ]
            },
            "priceType": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/context/companysettings/pricetype/672559f1-cbf3-11e1-9eb9-889ffa6f49fd",
                "type": "pricetype",
                "mediaType": "application/json"
              },
              "id": "672559f1-cbf3-11e1-9eb9-889ffa6f49fd",
              "name": "Цена продажи",
              "externalCode": "cbcf493b-55bc-11d9-848a-00112f43529a"
            },
            "columns": [
              {
                "name": "without_discount"
              },
              {
                "name": "with_discount",
                "percentageDiscount": 1000
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Прайс-листа.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/c41abcd9-afea-11e6-8af5-581e0000003c",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata",
    "type": "pricelist",
    "mediaType": "application/json"
  },
  "id": "c41abcd9-afea-11e6-8af5-581e0000003c",
  "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9575ba6d-9609-11e6-8af5-581e000000ad",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": true,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/956169fa-9609-11e6-8af5-581e00000009",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-21 16:02:32",
  "name": "Новый прайс-лист",
  "description": "test",
  "externalCode": "m-9OZzfBiAjolWhnBjTff0",
  "moment": "2016-11-21 15:51:16",
  "applicable": true,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/c41abcd9-afea-11e6-8af5-581e0000003c/positions",
      "type": "pricelistrow",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "priceType": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/context/companysettings/pricetype/672559f1-cbf3-11e1-9eb9-889ffa6f49fd",
      "type": "pricetype",
      "mediaType": "application/json"
    },
    "id": "672559f1-cbf3-11e1-9eb9-889ffa6f49fd",
    "name": "Цена продажи",
    "externalCode": "cbcf493b-55bc-11d9-848a-00112f43529a"
  },
  "columns": [
    {
      "name": "without_discount"
    },
    {
      "name": "with_discount",
      "percentageDiscount": 1000
    }
  ]
}

Пример запроса на создание Прайс-листа с доп. полями.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/pricelist"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "applicable": true,
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata/attributes/666f86f9-afec-11e6-8af5-581e00000087",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "значение"
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata/attributes/666ffdb9-afec-11e6-8af5-581e00000088",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": 1
              }
            ],
            "columns": [
              {
                "name": "стандартная колонка"
              }
            ]
          }
'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Прайс-листа.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/a6d8eee9-afee-11e6-8af5-581e00000049",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata",
    "type": "pricelist",
    "mediaType": "application/json"
  },
  "id": "a6d8eee9-afee-11e6-8af5-581e00000049",
  "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9575ba6d-9609-11e6-8af5-581e000000ad",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/956169fa-9609-11e6-8af5-581e00000009",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-21 16:30:21",
  "name": "Прайс-лист от 21.21.2016 (7)",
  "externalCode": "dfeEd7Hvgx4bj4R8LItpZ0",
  "moment": "2016-11-21 16:30:21",
  "applicable": true,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata/attributes/666f86f9-afec-11e6-8af5-581e00000087",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "666f86f9-afec-11e6-8af5-581e00000087",
      "name": "AttributeName1",
      "type": "string",
      "value": "значение"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata/attributes/666ffdb9-afec-11e6-8af5-581e00000088",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "666ffdb9-afec-11e6-8af5-581e00000088",
      "name": "AttributeName2",
      "type": "long",
      "value": 1
    }
  ],
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/a6d8eee9-afee-11e6-8af5-581e00000049/positions",
      "type": "pricelistrow",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "columns": [
    {
      "name": "стандартная колонка"
    }
  ]
}

Пример запроса на создание Прайс-листа с позициями в теле запроса.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/pricelist"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "positions": {
              "rows": [
                {
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/987148b8-9a09-11e6-8af5-581e0000006f",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  },
                  "cells": [
                    {
                      "column": "обычная колонка",
                      "sum": 10000
                    }
                  ]
                }
              ]
            },
            "columns": [
              {
                "name": "обычная колонка"
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Прайс-листа.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/d983f7fc-afef-11e6-8af5-581e00000050",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata",
    "type": "pricelist",
    "mediaType": "application/json"
  },
  "id": "d983f7fc-afef-11e6-8af5-581e00000050",
  "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9575ba6d-9609-11e6-8af5-581e000000ad",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/956169fa-9609-11e6-8af5-581e00000009",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-21 16:38:56",
  "name": "Прайс-лист от 21.21.2016 (8)",
  "externalCode": "rZNA7Lf3hWJwwpGy5HMoN1",
  "moment": "2016-11-21 16:38:56",
  "applicable": true,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/d983f7fc-afef-11e6-8af5-581e00000050/positions",
      "type": "pricelistrow",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "columns": [
    {
      "name": "обычная колонка"
    }
  ]
}
Массовое создание и обновление Прайс-листов
Массовое создание и обновление Прайс-листов.
В теле запроса нужно передать массив, содержащий JSON представления Прайс-листов, которые вы хотите создать или обновить.
Обновляемые Прайс-листы должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Прайс-листов
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/pricelist"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "columns": [
                {
                  "name": "column without discount"
                }
              ]
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/312cc207-afe9-11e6-8af5-581e0000002c",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata",
                "type": "pricelist",
                "mediaType": "application/json"
              },
              "shared": true,
              "name": "Новое название",
              "description": "Новое описание",
              "moment": "2016-11-21 15:51:16",
              "applicable": false,
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              }
            }
          ]
'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Прайс-листов.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/7370448e-afe9-11e6-8af5-581e00000036",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata",
      "type": "pricelist",
      "mediaType": "application/json"
    },
    "id": "7370448e-afe9-11e6-8af5-581e00000036",
    "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9575ba6d-9609-11e6-8af5-581e000000ad",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/956169fa-9609-11e6-8af5-581e00000009",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-11-21 15:53:07",
    "name": "Прайс-лист от 21.21.2016 (6)",
    "externalCode": "dj7x7PvbhjeR8u3eiVAFo3",
    "moment": "2016-11-21 15:53:08",
    "applicable": true,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "created": "2007-02-07 17:16:41",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/7370448e-afe9-11e6-8af5-581e00000036/positions",
        "type": "pricelistrow",
        "mediaType": "application/json",
        "size": 0,
        "limit": 1000,
        "offset": 0
      }
    },
    "columns": [
      {
        "name": "column without discount"
      }
    ]
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/312cc207-afe9-11e6-8af5-581e0000002c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata",
      "type": "pricelist",
      "mediaType": "application/json"
    },
    "id": "312cc207-afe9-11e6-8af5-581e0000002c",
    "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9575ba6d-9609-11e6-8af5-581e000000ad",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": true,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/956169fa-9609-11e6-8af5-581e00000009",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-11-21 16:21:07",
    "name": "Новое название",
    "description": "Новое описание",
    "externalCode": "m-9OZzfBiAjolWhnBjTff0",
    "moment": "2016-11-21 15:51:16",
    "applicable": false,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "created": "2007-02-07 17:16:41",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/312cc207-afe9-11e6-8af5-581e0000002c/positions",
        "type": "pricelistrow",
        "mediaType": "application/json",
        "size": 2,
        "limit": 1000,
        "offset": 0
      }
    },
    "priceType": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/companysettings/pricetype/672559f1-cbf3-11e1-9eb9-889ffa6f49fd",
        "type": "pricetype",
        "mediaType": "application/json"
      },
      "id": "672559f1-cbf3-11e1-9eb9-889ffa6f49fd",
      "name": "Цена продажи",
      "externalCode": "cbcf493b-55bc-11d9-848a-00112f43529a"
    },
    "columns": [
      {
        "name": "a"
      },
      {
        "name": "b",
        "percentageDiscount": 1000
      }
    ]
  }
]
Удалить Прайс-лист
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Прайс-листа.


Запрос на удаление Прайс-листа с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Прайс-листа.

Массовое удаление Прайс-листов
В теле запроса нужно передать массив, содержащий JSON метаданных Прайс-листов, которые вы хотите удалить.
Запрос на массовое удаление Прайс-листов. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata",
                "type": "pricelist",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata",
                "type": "pricelist",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Прайс-листов.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'pricelist' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'pricelist' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные Прайс-листовМетаданные Прайс-листов
Запрос на получение метаданных Прайс-листов. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Прайс-листов


attributes
Массив объектов доп. полей Прайс-листов формате Метаданных


states
Массив статусов Прайс-листов


createShared
создавать новые Прайс-листы с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Прайс-листов
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Прайс-листов.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata/attributes/666f86f9-afec-11e6-8af5-581e00000087",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "666f86f9-afec-11e6-8af5-581e00000087",
      "name": "AttributeName1",
      "type": "string",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata/attributes/666ffdb9-afec-11e6-8af5-581e00000088",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "666ffdb9-afec-11e6-8af5-581e00000088",
      "name": "AttributeName2",
      "type": "long",
      "required": false
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
666f86f9-afec-11e6-8af5-581e00000087 (required, string) - id Доп. поля


Отдельное доп. поле
Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata/attributes/666f86f9-afec-11e6-8af5-581e00000087"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata/attributes/666f86f9-afec-11e6-8af5-581e00000087",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "666f86f9-afec-11e6-8af5-581e00000087",
  "name": "AttributeName1",
  "type": "string",
  "required": false
}
Прайс-листПолучить Прайс-лист
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Прайс-листа.


Запрос на получение отдельного Прайс-листа с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Прайс-листа.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/312cc207-afe9-11e6-8af5-581e0000002c",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata",
    "type": "pricelist",
    "mediaType": "application/json"
  },
  "id": "312cc207-afe9-11e6-8af5-581e0000002c",
  "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9575ba6d-9609-11e6-8af5-581e000000ad",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/956169fa-9609-11e6-8af5-581e00000009",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-21 15:51:16",
  "name": "Прайс-лист от 21.21.2016 (5)",
  "description": "test",
  "externalCode": "m-9OZzfBiAjolWhnBjTff0",
  "moment": "2016-11-21 15:51:16",
  "applicable": true,
  "printed": true,
  "published": true,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/312cc207-afe9-11e6-8af5-581e0000002c/positions",
      "type": "pricelistrow",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "priceType": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/context/companysettings/pricetype/672559f1-cbf3-11e1-9eb9-889ffa6f49fd",
      "type": "pricetype",
      "mediaType": "application/json"
    },
    "id": "672559f1-cbf3-11e1-9eb9-889ffa6f49fd",
    "name": "Цена продажи",
    "externalCode": "cbcf493b-55bc-11d9-848a-00112f43529a"
  },
  "columns": [
    {
      "name": "a"
    },
    {
      "name": "b",
      "percentageDiscount": 1000
    }
  ]
}
Изменить Прайс-лист
Запрос на обновление Прайс-листа с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Прайс-листа, кроме тех, что
помечены Только для чтения в описании атрибутов Прайс-листа.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Прайс-листа.


Пример запроса на обновление отдельного Прайс-листа.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "shared": true,
            "name": "Новое название",
            "description": "Новое описание",
            "moment": "2016-11-21 15:51:16",
            "applicable": false,
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Прайс-листа.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/312cc207-afe9-11e6-8af5-581e0000002c",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata",
    "type": "pricelist",
    "mediaType": "application/json"
  },
  "id": "312cc207-afe9-11e6-8af5-581e0000002c",
  "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9575ba6d-9609-11e6-8af5-581e000000ad",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": true,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/956169fa-9609-11e6-8af5-581e00000009",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-21 16:21:07",
  "name": "Новое название",
  "description": "Новое описание",
  "externalCode": "m-9OZzfBiAjolWhnBjTff0",
  "moment": "2016-11-21 15:51:16",
  "applicable": false,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/312cc207-afe9-11e6-8af5-581e0000002c/positions",
      "type": "pricelistrow",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "priceType": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/context/companysettings/pricetype/672559f1-cbf3-11e1-9eb9-889ffa6f49fd",
      "type": "pricetype",
      "mediaType": "application/json"
    },
    "id": "672559f1-cbf3-11e1-9eb9-889ffa6f49fd",
    "name": "Цена продажи",
    "externalCode": "cbcf493b-55bc-11d9-848a-00112f43529a"
  },
  "columns": [
    {
      "name": "a"
    },
    {
      "name": "b",
      "percentageDiscount": 1000
    }
  ]
}

Пример запроса на изменение Прайс-листа с дополнительными полями.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "meta": {
              "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/28bd7720-afee-11e6-8af5-581e00000093",
              "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata",
              "type": "pricelist",
              "mediaType": "application/json"
            },
            "id": "28bd7720-afee-11e6-8af5-581e00000093",
            "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
            "owner": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9575ba6d-9609-11e6-8af5-581e000000ad",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                "type": "employee",
                "mediaType": "application/json"
              }
            },
            "shared": false,
            "applicable": true,
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata/attributes/666f86f9-afec-11e6-8af5-581e00000087",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "новое значение"
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata/attributes/666ffdb9-afec-11e6-8af5-581e00000088",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": 2
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Прайс-листа.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/28bd7720-afee-11e6-8af5-581e00000093",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata",
    "type": "pricelist",
    "mediaType": "application/json"
  },
  "id": "28bd7720-afee-11e6-8af5-581e00000093",
  "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9575ba6d-9609-11e6-8af5-581e000000ad",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/956169fa-9609-11e6-8af5-581e00000009",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-21 16:27:07",
  "name": "Прайс-лист от 21.21.2016 (5)",
  "externalCode": "w08cWHC6jzNZr7i7ZwTN63",
  "moment": "2016-11-21 16:26:00",
  "applicable": true,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata/attributes/666f86f9-afec-11e6-8af5-581e00000087",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "666f86f9-afec-11e6-8af5-581e00000087",
      "name": "AttributeName1",
      "type": "string",
      "value": "новое значение"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata/attributes/666ffdb9-afec-11e6-8af5-581e00000088",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "666ffdb9-afec-11e6-8af5-581e00000088",
      "name": "AttributeName2",
      "type": "long",
      "value": 2
    }
  ],
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/28bd7720-afee-11e6-8af5-581e00000093/positions",
      "type": "pricelistrow",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "columns": [
    {
      "name": "стандртная колонка"
    }
  ]
}

Пример запроса на обновление Прайс-листа с позициями в теле запроса.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "positions": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/28bd7720-afee-11e6-8af5-581e00000093/positions",
                "type": "pricelistrow",
                "mediaType": "application/json",
                "size": 1,
                "limit": 1000,
                "offset": 0
              },
              "rows": [
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/28bd7720-afee-11e6-8af5-581e00000093/positions/33026e32-afee-11e6-8af5-581e0000009a",
                    "type": "pricelistrow",
                    "mediaType": "application/json"
                  },
                  "id": "33026e32-afee-11e6-8af5-581e0000009a",
                  "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/987148b8-9a09-11e6-8af5-581e0000006f",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  },
                  "cells": []
                },
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/28bd7720-afee-11e6-8af5-581e00000093/positions/001d16d0-affe-11e6-8af5-581e0000000f",
                    "type": "pricelistrow",
                    "mediaType": "application/json"
                  },
                  "id": "001d16d0-affe-11e6-8af5-581e0000000f",
                  "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/987148b8-9a09-11e6-8af5-581e0000006f",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  },
                  "cells": [
                    {
                      "column": "стандртная колонка",
                      "sum": 100000
                    }
                  ]
                }
              ]
            },
            "columns": [
              {
                "name": "стандртная колонка"
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Прайс-листа.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/28bd7720-afee-11e6-8af5-581e00000093?expand=positions",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata",
    "type": "pricelist",
    "mediaType": "application/json"
  },
  "id": "28bd7720-afee-11e6-8af5-581e00000093",
  "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9575ba6d-9609-11e6-8af5-581e000000ad",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/956169fa-9609-11e6-8af5-581e00000009",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-21 18:00:28",
  "name": "123123",
  "externalCode": "w08cWHC6jzNZr7i7ZwTN63",
  "moment": "2016-11-21 16:26:00",
  "applicable": true,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata/attributes/666f86f9-afec-11e6-8af5-581e00000087",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "666f86f9-afec-11e6-8af5-581e00000087",
      "name": "AttributeName1",
      "type": "string",
      "value": "новое значение"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/metadata/attributes/666ffdb9-afec-11e6-8af5-581e00000088",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "666ffdb9-afec-11e6-8af5-581e00000088",
      "name": "AttributeName2",
      "type": "long",
      "value": 2
    }
  ],
  "created": "2007-02-07 17:16:41",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/28bd7720-afee-11e6-8af5-581e00000093/positions",
      "type": "pricelistrow",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    },
    "rows": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/28bd7720-afee-11e6-8af5-581e00000093/positions/33026e32-afee-11e6-8af5-581e0000009a",
          "type": "pricelistrow",
          "mediaType": "application/json"
        },
        "id": "33026e32-afee-11e6-8af5-581e0000009a",
        "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/987148b8-9a09-11e6-8af5-581e0000006f",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
          }
        },
        "cells": []
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/28bd7720-afee-11e6-8af5-581e00000093/positions/001d16d0-affe-11e6-8af5-581e0000000f",
          "type": "pricelistrow",
          "mediaType": "application/json"
        },
        "id": "001d16d0-affe-11e6-8af5-581e0000000f",
        "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/987148b8-9a09-11e6-8af5-581e0000006f",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
          }
        },
        "cells": [
          {
            "column": "стандртная колонка",
            "sum": 100000
          }
        ]
      }
    ]
  },
  "columns": [
    {
      "name": "стандртная колонка"
    }
  ]
}

Позиции Прайс-листа
Отдельный ресурс для управления позициями Прайс-листа. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить позиции Прайс-листа
Запрос на получение списка всех позиций данного Прайс-листа.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой позиции Прайс-листа.


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Прайс-листа.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить позиции Прайс-листа
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/7944ef04-f831-11e5-7a69-971500188b19/positions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного Прайс-листа.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/7944ef04-f831-11e5-7a69-971500188b19/positions",
    "type": "pricelistrow",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/7944ef04-f831-11e5-7a69-971500188b19/positions/33026e32-afee-11e6-8af5-581e0000009a",
        "type": "pricelistrow",
        "mediaType": "application/json"
      },
      "id": "33026e32-afee-11e6-8af5-581e0000009a",
      "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/987148b8-9a09-11e6-8af5-581e0000006f",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
        }
      },
      "cells": [
        {
          "column": "стандртная колонка",
          "sum": 100000
        }
      ]
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/7944ef04-f831-11e5-7a69-971500188b19/positions/001d16d0-affe-11e6-8af5-581e0000000f",
        "type": "pricelistrow",
        "mediaType": "application/json"
      },
      "id": "001d16d0-affe-11e6-8af5-581e0000000f",
      "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/987148b8-9a09-11e6-8af5-581e0000006f",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
        }
      },
      "cells": [
        {
          "column": "стандртная колонка",
          "sum": 200000
        }
      ]
    }
  ]
}
Позиция Прайс-листаПолучить позицию
Параметры


Параметр
Описание



id
string (required) Example: d72b4281-b000-11e6-8af5-581e00000074 id Прайс-листа.


positionID
string (required) Example: 9560e3e3-9609-11e6-8af5-581e00000008 id позиции Прайс-листа.


Запрос на получение отдельной позиции Прайс-листа с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/d72b4281-b000-11e6-8af5-581e00000074/positions/9560e3e3-9609-11e6-8af5-581e00000008"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Прайс-листа.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/d72b4281-b000-11e6-8af5-581e00000074/positions/9560e3e3-9609-11e6-8af5-581e00000008",
    "type": "pricelistrow",
    "mediaType": "application/json"
  },
  "id": "9560e3e3-9609-11e6-8af5-581e00000008",
  "accountId": "9560e3e3-9609-11e6-8af5-581e00000007",
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/987148b8-9a09-11e6-8af5-581e0000006f",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
    }
  },
  "cells": [
    {
      "column": "123",
      "sum": 100000
    }
  ]
}

Создать позицию
Запрос на создание новой позиции в Прайс-листе.
Для успешного создания необходимо в теле запроса указать следующие поля:

assortment - Ссылка на товар/услугу/модификацию, которую представляет собой позиция.
cells - Массив ячеек цен для новой позиции. Может быть не указан, в таком случае создадутся те ячейки, у которых есть процентная наценка по умолчанию.

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Прайс-листа.


Пример создания одной позиции в Прайс-листе.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/987148b8-9a09-11e6-8af5-581e0000006f",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                "type": "product",
                "mediaType": "application/json"
              }
            },
            "cells": [
              {
                "column": "123",
                "sum": 100000
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного Прайс-листа.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/7944ef04-f831-11e5-7a69-971500188b19/positions/eb3e4026-b001-11e6-8af5-581e00000000",
      "type": "pricelistrow",
      "mediaType": "application/json"
    },
    "id": "eb3e4026-b001-11e6-8af5-581e00000000",
    "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/987148b8-9a09-11e6-8af5-581e0000006f",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
      }
    },
    "cells": [
      {
        "column": "123",
        "sum": 100000
      }
    ]
  }
]

Пример создания сразу нескольких позиций в Прайс-листе.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/987148b8-9a09-11e6-8af5-581e0000006f",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                  "type": "product",
                  "mediaType": "application/json"
                }
              },
              "cells": [
                {
                  "column": "123",
                  "sum": 100000
                }
              ]
            },
            {
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/987148b8-9a09-11e6-8af5-581e0000006f",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                  "type": "product",
                  "mediaType": "application/json"
                }
              },
              "cells": [
                {
                  "column": "123",
                  "sum": 100000
                }
              ]
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка созданных позиций отдельного Прайс-листа.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/7944ef04-f831-11e5-7a69-971500188b19/positions/7756e86b-b005-11e6-8af5-581e0000000e",
      "type": "pricelistrow",
      "mediaType": "application/json"
    },
    "id": "7756e86b-b005-11e6-8af5-581e0000000e",
    "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/987148b8-9a09-11e6-8af5-581e0000006f",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
      }
    },
    "cells": [
      {
        "column": "123",
        "sum": 100000
      }
    ]
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/7944ef04-f831-11e5-7a69-971500188b19/positions/7756fee5-b005-11e6-8af5-581e00000010",
      "type": "pricelistrow",
      "mediaType": "application/json"
    },
    "id": "7756fee5-b005-11e6-8af5-581e00000010",
    "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/987148b8-9a09-11e6-8af5-581e0000006f",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
      }
    },
    "cells": [
      {
        "column": "123",
        "sum": 100000
      }
    ]
  }
]
Изменить позицию
Запрос на обновление отдельной позиции Прайс-листа. Для обновления позиции нет каких-либо
обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
Параметры


Параметр
Описание



id
string (required) Example: d72b4281-b000-11e6-8af5-581e00000074 id Прайс-листа.


positionID
string (required) Example: 9560e3e3-9609-11e6-8af5-581e00000008 id позиции Прайс-листа.


Пример запроса на обновление отдельной позиции в Прайс-листе.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/d72b4281-b000-11e6-8af5-581e00000074/positions/9560e3e3-9609-11e6-8af5-581e00000008"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "cells": [
              {
                "column": "123",
                "sum": 100002
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной позиции Прайс-листа.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/d72b4281-b000-11e6-8af5-581e00000074/positions/9560e3e3-9609-11e6-8af5-581e00000008",
    "type": "pricelistrow",
    "mediaType": "application/json"
  },
  "id": "9560e3e3-9609-11e6-8af5-581e00000008",
  "accountId": "9560e3e3-9609-11e6-8af5-581e00000007",
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/987148b8-9a09-11e6-8af5-581e0000006f",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
    }
  },
  "cells": [
    {
      "column": "123",
      "sum": 100002
    }
  ]
}
Удалить Позицию
Параметры


Параметр
Описание



id
string (required) Example: d72b4281-b000-11e6-8af5-581e00000074 id Прайс-листа.


positionID
string (required) Example: 9560e3e3-9609-11e6-8af5-581e00000008 id позиции Прайс-листа.


Запрос на удаление позиции Прайс-листа с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/d72b4281-b000-11e6-8af5-581e00000074/positions/9560e3e3-9609-11e6-8af5-581e00000008"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление позиции Прайс-листа.

Массовое удаление позиций
Параметры


Параметр
Описание



id
string (required) Example: 3e1c03bb-684f-11ee-ac12-000c000000b0 id Прайс-листа.


Запрос на массовое удаление позиций Прайс-листа.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "pricelistrow",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/pricelist/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "pricelistrow",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление позиций Прайс-листа. 

ПредоплатаПредоплаты
Средствами JSON API можно запрашивать списки Предоплат и сведения по отдельным Предоплатам. Кодом сущности для Предоплаты в составе JSON API является ключевое слово prepayment. Больше о Предоплатах и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по этой ссылке.
По данной сущности можно осуществлять контекстный поиск с помощью специального параметра search. Подробнее можно узнать по ссылке. Поиск с параметром search отличается от других тем, что поиск не префиксный, без токенизации и идет только по одному полю одновременно. Ищет такие строки, в которые входит значение строки поиска.
Поиск среди объектов предоплат на соответствие поисковой строке будет осуществлён по следующим полям:

по наименованию предоплаты name

Атрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


agent
Meta
= !=
Метаданные контрагентаОбязательное при ответе Expand


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта


cashSum
Float

Оплачено наличнымиОбязательное при ответе


code
String(255)
= != ~ ~= =~
Код Предоплаты


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


customerOrder
Meta

Метаданные Заказа ПокупателяОбязательное при ответе Expand


deleted
DateTime
= != < > <= >=
Момент последнего удаления ПредоплатыТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Предоплаты


externalCode
String(255)
= != ~ ~= =~
Внешний код ПредоплатыОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID ПредоплатыОбязательное при ответе Только для чтения


meta
Meta

Метаданные ПредоплатыОбязательное при ответе


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование ПредоплатыОбязательное при ответе


noCashSum
Float

Оплачено картойОбязательное при ответе


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании


owner
Meta
= !=
Владелец (Сотрудник)Expand


positions
MetaArray

Метаданные позиций ПредоплатыОбязательное при ответе Expand


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


qrSum
Float

Оплачено по QR-кодуОбязательное при ответе


rate
Object

Валюта. Подробнее тутОбязательное при ответе


retailShift
Meta
= !=
Метаданные Розничной сменыОбязательное при ответе Expand Необходимо при создании


retailStore
Meta
= !=
Метаданные Точки продажОбязательное при ответе Expand


returns
Array(Object)

Коллекция метаданных на связанные возвратыExpand


shared
Boolean
= !=
Общий доступОбязательное при ответе


state
Meta
= !=
Метаданные статуса ПредоплатыExpand


sum
Int
= != < > <= >=
Сумма Предоплаты в копейкахОбязательное при ответе Только для чтения


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


taxSystem
Enum

Код системы налогообложения. Подробнее тут


updated
DateTime
= != < > <= >=
Момент последнего обновления ПредоплатыОбязательное при ответе Только для чтения


vatEnabled
Boolean

Учитывается ли НДСОбязательное при ответе


vatIncluded
Boolean

Включен ли НДС в цену


vatSum
Float

Сумма НДСОбязательное при ответе


Код системы налогообложения
Значения поля taxSystem.


Значение
Описание



GENERAL_TAX_SYSTEM
ОСН


SIMPLIFIED_TAX_SYSTEM_INCOME
УСН. Доход


SIMPLIFIED_TAX_SYSTEM_INCOME_OUTCOME
УСН. Доход-Расход


UNIFIED_AGRICULTURAL_TAX
ЕСХН


PRESUMPTIVE_TAX_SYSTEM
ЕНВД


PATENT_BASED
Патент


Позиции Предоплаты
Позиции Предоплаты - это список товаров/услуг/модификаций/серий.
Объект позиции Предоплаты содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияОбязательное при ответе Expand


discount
Int
Процент скидки или наценки. Наценка указывается отрицательным числом, т.е. -10 создаст наценку в 10%Обязательное при ответе


id
UUID
ID позицииОбязательное при ответе Только для чтения


pack
Object
Упаковка Товара. Подробнее тут


price
Float
Цена товара/услуги в копейкахОбязательное при ответе


quantity
Float
Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.Обязательное при ответе


vat
Int
НДС, которым облагается текущая позицияОбязательное при ответе


vatEnabled
Boolean
Включен ли НДС для позиции. С помощью этого флага для позиции можно выставлять НДС = 0 или НДС = "без НДС". (vat = 0, vatEnabled = false) -> vat = "без НДС", (vat = 0, vatEnabled = true) -> vat = 0%.Обязательное при ответе


Атрибуты доступные для фильтрации


Значение
Описание



agent
Ссылка на контрагента


applicable
Отметка о проведении


created
Дата создания


deleted
Момент последнего удаления сущности


description
Комментарий Предоплаты


externalCode
Внешний код Предоплаты


group
Отдел сотрудника


id
ID в формате UUID


isDeleted
Удалена ли Предоплата


moment
Дата Предоплаты


name
номер Предоплаты


organization
Ссылка на ваше юрлицо


owner
Ссылка на Владельца (Сотрудника)


shared
Общий доступ


state
Статус Предоплаты


sum
Сумма Предоплаты в установленной валюте


syncId
ID синхронизации


updated
Момент последнего обновления сущности


updatedBy
Автор последнего обновления сущности в формате uid (admin@admin)


Атрибуты доступные для сортировки


Значение
Описание



applicable
Отметка о проведении


created
Дата создания


description
Комментарий Предоплаты


externalCode
Внешний код Предоплаты


id
ID в формате UUID


moment
Дата Предоплаты


name
номер Предоплаты


sum
Сумма Предоплаты в установленной валюте


syncId
ID синхронизации


updated
Момент последнего обновления сущности


Получить список Предоплат
Запрос всех Предоплат на данной учётной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Предоплаты.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить список Предоплат
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/prepayment"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Предоплат.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepayment",
    "type": "prepayment",
    "mediaType": "application/json",
    "size": 1,
    "limit": 25,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/857c7a16-366b-11e9-ac12-000b00000070",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/metadata",
        "type": "prepayment",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#prepayment/edit?id=857c7a16-366b-11e9-ac12-000b00000070"
      },
      "id": "857c7a16-366b-11e9-ac12-000b00000070",
      "accountId": "783e70de-2e92-11e9-ac12-000b00000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/78d0453c-2e92-11e9-ac12-000e0000002f",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=78d0453c-2e92-11e9-ac12-000e0000002f"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/783fd0fd-2e92-11e9-ac12-000b00000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2019-02-25 12:22:11",
      "name": "00004",
      "description": "Комментарий",
      "externalCode": "wkOsJvdDguUeVJOB-g1LN1",
      "moment": "2019-02-22 09:31:00",
      "applicable": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/790def39-2e92-11e9-ac12-000e00000061",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#currency/edit?id=790def39-2e92-11e9-ac12-000e00000061"
          }
        }
      },
      "sum": 30000,
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/790cd2d0-2e92-11e9-ac12-000e0000005f",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=790cd2d0-2e92-11e9-ac12-000e0000005f"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/7906d621-2e92-11e9-ac12-000e0000005a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=7906d621-2e92-11e9-ac12-000e0000005a"
        }
      },
      "created": "2016-08-25 19:55:00",
      "printed": true,
      "published": true,      
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/857c7a16-366b-11e9-ac12-000b00000070/positions",
          "type": "prepaymentposition",
          "mediaType": "application/json",
          "size": 1,
          "limit": 100,
          "offset": 0
        }
      },
      "vatEnabled": true,
      "vatIncluded": true,
      "vatSum": 5000,
      "retailStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/79749705-2e92-11e9-ac12-000e00000071",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
          "type": "retailstore",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#retailstore/edit?id=79749705-2e92-11e9-ac12-000e00000071"
        }
      },
      "customerOrder": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/81ff1592-366b-11e9-ac12-000b00000069",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
          "type": "customerorder",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#customerorder/edit?id=81ff1592-366b-11e9-ac12-000b00000069"
        }
      },
      "retailShift": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/49734306-366a-11e9-ac12-000b0000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
          "type": "retailshift",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#retailshift/edit?id=49734306-366a-11e9-ac12-000b0000002a"
        }
      },
      "cashSum": 15000,
      "noCashSum": 15000,
      "qrSum": 0,
      "taxSystem": "GENERAL_TAX_SYSTEM"
    }
  ]
}
Метаданные ПредоплатМетаданные Предоплат
Запрос на получение метаданных Заказов покупателей. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Предоплат


attributes
Массив объектов доп. полей Предоплат в формате Метаданных


states
Массив статусов Предоплат


createShared
создавать новые Предоплаты с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Предоплат
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление метаданных Предоплат.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/metadata/attributes/7c60b035-38df-11e9-ac12-000c0000004a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "7c60b035-38df-11e9-ac12-000c0000004a",
      "name": "Label",
      "type": "string",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/metadata/states/727d2656-38df-11e9-ac12-000c00000046",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/metadata",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "727d2656-38df-11e9-ac12-000c00000046",
      "accountId": "783e70de-2e92-11e9-ac12-000b00000001",
      "name": "Новая",
      "color": 10066329,
      "stateType": "Regular",
      "entityType": "prepayment"
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Отдельное доп. поле
Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "7944ef04-f831-11e5-7a69-971500188b19",
  "name": "Label",
  "type": "string",
  "required": false
}
ПредоплатаПолучить Предоплату
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Предоплаты.


Запрос на получение отдельной Предоплаты с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Предоплаты.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/7944ef04-f831-11e5-7a69-971500188b19",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/metadata",
    "type": "prepayment",
    "mediaType": "application/json",
    "uuidHref": "https://online.moysklad.ru/app/#prepayment/edit?id=7944ef04-f831-11e5-7a69-971500188b19"
  },
  "id": "7944ef04-f831-11e5-7a69-971500188b19",
  "accountId": "783e70de-2e92-11e9-ac12-000b00000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/78d0453c-2e92-11e9-ac12-000e0000002f",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=78d0453c-2e92-11e9-ac12-000e0000002f"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/783fd0fd-2e92-11e9-ac12-000b00000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "version": 2,
  "updated": "2019-02-25 12:22:11",
  "name": "00004",
  "description": "Комментарий",
  "externalCode": "wkOsJvdDguUeVJOB-g1LN1",
  "moment": "2019-02-22 09:31:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/790def39-2e92-11e9-ac12-000e00000061",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#currency/edit?id=790def39-2e92-11e9-ac12-000e00000061"
      }
    }
  },
  "sum": 30000,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/790cd2d0-2e92-11e9-ac12-000e0000005f",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=790cd2d0-2e92-11e9-ac12-000e0000005f"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/7906d621-2e92-11e9-ac12-000e0000005a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=7906d621-2e92-11e9-ac12-000e0000005a"
    }
  },
  "documents": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/7944ef04-f831-11e5-7a69-971500188b19/documents",
      "mediaType": "application/json",
      "size": 0,
      "limit": 100,
      "offset": 0
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/7944ef04-f831-11e5-7a69-971500188b19/positions",
      "type": "prepaymentposition",
      "mediaType": "application/json",
      "size": 1,
      "limit": 100,
      "offset": 0
    }
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "vatSum": 5000,
  "retailStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/79749705-2e92-11e9-ac12-000e00000071",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
      "type": "retailstore",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#retailstore/edit?id=79749705-2e92-11e9-ac12-000e00000071"
    }
  },
  "customerOrder": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/81ff1592-366b-11e9-ac12-000b00000069",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
      "type": "customerorder",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#customerorder/edit?id=81ff1592-366b-11e9-ac12-000b00000069"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/49734306-366a-11e9-ac12-000b0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#retailshift/edit?id=49734306-366a-11e9-ac12-000b0000002a"
    }
  },
  "cashSum": 15000,
  "noCashSum": 15000,
  "qrSum": 0
}
Удалить Предоплату
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Предоплаты.


Запрос на удаление Предоплаты с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Предоплаты.

Позиции Предоплаты
Отдельный ресурс для управления позициями Предоплаты. С его помощью вы можете запросить позиции большого документа, количество строк в котором превышает лимит на количество строк в выдаче документа. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить позиции Предоплаты
Запрос на получение списка всех позиций данной Предоплаты.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой позиции Предоплаты.


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Предоплаты.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Запрос на получение списка всех позиций данной Предоплаты.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/7944ef04-f831-11e5-7a69-971500188b19/positions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельной Предоплаты.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/7944ef04-f831-11e5-7a69-971500188b19/positions",
    "type": "prepaymentposition",
    "mediaType": "application/json",
    "size": 1,
    "limit": 25,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
        "type": "prepaymentposition",
        "mediaType": "application/json"
      },
      "id": "34f6344f-015e-11e6-9464-e4de0000006c",
      "accountId": "783e70de-2e92-11e9-ac12-000b00000001",
      "quantity": 2,
      "price": 15000.0,
      "discount": 0,
      "vat": 20,
      "vatEnabled": true,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/58e50cd3-366a-11e9-ac12-000b00000036",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=58e4982f-366a-11e9-ac12-000b00000034"
        }
      }
    }
  ]
}
Позиция Предоплаты
Отдельная позиция Предоплаты с указанным id позиции.
Получить позицию Предоплаты
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Предоплаты.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Предоплаты.


Запрос на получение отдельной позиции Предоплаты с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Предоплаты.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/prepayment/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "prepaymentposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "783e70de-2e92-11e9-ac12-000b00000001",
  "quantity": 2,
  "price": 15000.0,
  "discount": 0,
  "vat": 20,
  "vatEnabled": true,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/58e50cd3-366a-11e9-ac12-000b00000036",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=58e4982f-366a-11e9-ac12-000b00000034"
    }
  }
}
Приемка
Средствами JSON API можно создавать и обновлять сведения об Приемках, запрашивать списки Приемок и сведения по отдельным Приемкам. Позициями Приемок можно управлять как в составе отдельной Приемки, так и отдельно - с помощью специальных ресурсов для управления позициями Приемки. Кодом сущности для Приемки в составе JSON API является ключевое слово supply. Больше об Приемках и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по  этой ссылке.
ПриемкиАтрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения Change-handler


agent
Meta
= !=
Метаданные контрагентаОбязательное при ответе Expand Необходимо при создании Change-handler Update-provider


agentAccount
Meta

Метаданные счета контрагентаExpand Change-handler Update-provider


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе Change-handler Update-provider


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объектаChange-handler Update-provider


code
String(255)
= != ~ ~= =~
Код Приемки


contract
Meta
= !=
Метаданные договораExpand Change-handler Update-provider


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения Change-handler


deleted
DateTime
= != < > <= >=
Момент последнего удаления ПриемкиТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий ПриемкиChange-handler Update-provider


externalCode
String(255)
= != ~ ~= =~
Внешний код ПриемкиОбязательное при ответе Change-handler


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID ПриемкиОбязательное при ответе Только для чтения Change-handler


incomingDate
DateTime

Входящая датаChange-handler Update-provider


incomingNumber
String(255)

Входящий номерChange-handler Update-provider


meta
Meta

Метаданные ПриемкиОбязательное при ответе Change-handler


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе Change-handler Update-provider


name
String(255)
= != ~ ~= =~
Наименование ПриемкиОбязательное при ответе Change-handler Update-provider


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании Change-handler Update-provider


organizationAccount
Meta

Метаданные счета юрлицаExpand Change-handler Update-provider


overhead
Object

Накладные расходы. Подробнее тут. Если Позиции Приемки не заданы, то накладные расходы нельзя задатьUpdate-provider


owner
Meta
= !=
Владелец (Сотрудник)Expand


payedSum
Float

Сумма входящих платежей по ПриемкеОбязательное при ответе Только для чтения


positions
MetaArray

Метаданные позиций ПриемкиОбязательное при ответе Expand Change-handler Update-provider


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


project
Meta
= !=
Метаданные проектаExpand Change-handler Update-provider


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


rate
Object

Валюта. Подробнее тутОбязательное при ответе Change-handler Update-provider


shared
Boolean
= !=
Общий доступОбязательное при ответе


state
Meta
= !=
Метаданные статуса ПриемкиExpand Change-handler Update-provider


store
Meta
= !=
Метаданные складаОбязательное при ответе Expand Необходимо при создании Change-handler Update-provider


sum
Int
= != < > <= >=
Сумма Приемки в копейкахОбязательное при ответе Только для чтения Change-handler


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


updated
DateTime
= != < > <= >=
Момент последнего обновления ПриемкиОбязательное при ответе Только для чтения Change-handler


vatEnabled
Boolean

Учитывается ли НДСОбязательное при ответе Change-handler Update-provider


vatIncluded
Boolean

Включен ли НДС в ценуChange-handler Update-provider


vatSum
Float

Сумма НДСОбязательное при ответе Только для чтения Change-handler


Накладные расходы
Описание полей overhead


Название
Тип
Описание



sum
Int
Сумма в копейкахОбязательное при ответе Update-provider


distribution
Enum
Распределение накладных расходов [weight, volume, price] -> [по весу, по объему, по цене]Обязательное при ответе Update-provider


Связи с другими документами


Название
Описание



purchaseOrder
Ссылка на связанный заказ поставщику в формате Метаданных


factureIn
Ссылка на Счет-фактуру полученный, с которым связана эта Приемка в формате Метаданных


invoicesIn
Массив ссылок на связанные счета поставщиков в формате Метаданных


payments
Массив ссылок на связанные платежи в формате Метаданных


returns
Массив ссылок на связанные возвраты в формате Метаданных


Позиции Приемки
Позиции Приемки - это список товаров/услуг/модификаций/серий.
Объект позиции Приемки содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения Change-handler


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияОбязательное при ответе Expand Change-handler Update-provider


country
Meta
Метаданные страныExpand


discount
Int
Процент скидки или наценки. Наценка указывается отрицательным числом, т.е. -10 создаст наценку в 10%Обязательное при ответе Change-handler Update-provider


gtd
Object
ГТД. Подробнее тут


id
UUID
ID позицииОбязательное при ответе Только для чтения Change-handler


pack
Object
Упаковка Товара. Подробнее тутChange-handler Update-provider


price
Float
Цена товара/услуги в копейкахОбязательное при ответе Change-handler Update-provider


quantity
Float
Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.Обязательное при ответе Change-handler Update-provider


slot
Meta
Ячейка на складе. Подробнее тутExpand


things
Array(String)
Серийные номера. Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете. В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута.


trackingCodes
Array(Object)
Коды маркировки товаров и транспортных упаковок. Подробнее тут


overhead
Int
Накладные расходы. Подробнее тут. Если Позиции Приемки не заданы, то накладные расходы нельзя задать.Обязательное при ответе Только для чтения


vat
Boolean
НДС, которым облагается текущая позицияОбязательное при ответе Change-handler Update-provider


vatEnabled
Boolean
Включен ли НДС для позиции. С помощью этого флага для позиции можно выставлять НДС = 0 или НДС = "без НДС". (vat = 0, vatEnabled = false) -> vat = "без НДС", (vat = 0, vatEnabled = true) -> vat = 0%.Обязательное при ответе Change-handler Update-provider


С позициями можно работать с помощью специальных ресурсов для управления позициями Приемки,
а также в составе отдельной Приемки. При работе в составе отдельной Приемки,
вы можете отправлять запросы на создание отдельной Приемки с включенным в тело запроса
массивом позиций Приемки. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Приемки".
Также, при работе в составе отдельной Приемки, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Приемки. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Приемки" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
О работе с доп. полями Приемок можно прочитать здесь
Коды маркировки товаров и транспортных упаковок
Поддержаны в виде иерархической структуры JSON. 


Название
Тип
Описание



cis
String
Значение кода маркировкиОбязательное при ответе Необходимо при создании


type
Enum
Тип кода маркировки. Возможные значения: trackingcode, consumerpack, transportpackОбязательное при ответе Необходимо при создании


trackingCodes
Array(Object)
Массив вложенных кодов маркировки. Может присутствовать, только если type имеет значения consumerpack или transportpack


Значение кода указывается в атрибуте cis. 
Для каждого кода указывается тип type: trackingcode (код маркировки товара), consumerpack (код маркировки потребительской упаковки) или transportpack (код транспортной упаковки). 
Допустима вложенность кодов маркировки товаров в транспортные упаковки. Транспортные упаковки не могут иметь вложенных упаковок. 
Коды упаковок могут отсутствовать - в этом случае структура не будет вложенной. 
Если продукция не является маркированной, то коды маркировки для позиции не будут сохранены. 
Количество кодов маркировки может отличаться от фактического количества единиц продукции.
Особенности работы с кодами маркировки и серийными номерами для позиции документа
При работе с позицией Приемки следует учитывать следующие особенности.

Количество кодов маркировки trackingCodes в позиции документа не влияет на количество единиц quantity в позиции.
Количество серийных номеров things в позиции документа строго соответствует количеству единиц quantity в позиции. 
Изменение quantity на значение, не соответствующее количеству серийных номеров, недопустимо. 
Для обновления списка кодов маркировки trackingCodes и списка серийных номеров things позиции Приемки, 
необходимо передавать их полный список, включающий как старые, так и новые значения. Отсутствующие значения при обновлении будут удалены.

Недопустимо сохранение дублирующихся кодов маркировки и серийных номеров внутри документа Приемки. 
Получить список Приемок
Запрос всех Приемок на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Приемки.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить список Приемок
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/supply"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Приемок.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
    "type": "supply",
    "mediaType": "application/json",
    "size": 3,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/a3a404e4-2e5d-11e6-8a84-bae5000000fd",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
        "type": "supply",
        "mediaType": "application/json"
      },
      "id": "a3a404e4-2e5d-11e6-8a84-bae5000000fd",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-06-27 10:48:47",
      "name": "00001",
      "externalCode": "0ULmxwN1jHJwT9nYPawwO2",
      "moment": "2016-06-10 09:26:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 16136135600,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/faf44002-2e58-11e6-8a84-bae500000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "vatEnabled": true,
      "vatIncluded": true,
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/a3a404e4-2e5d-11e6-8a84-bae5000000fd/positions",
          "type": "supplyposition",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      },
      "payedSum": 0,
      "incomingDate": "2016-06-04 00:00:00"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/b1008773-313f-11e6-8a84-bae500000089",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
        "type": "supply",
        "mediaType": "application/json"
      },
      "id": "b1008773-313f-11e6-8a84-bae500000089",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-06-13 11:20:30",
      "name": "00002",
      "externalCode": "zDCH0byNj4OtLFybETa560",
      "moment": "2016-06-13 11:20:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 0,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/faf44002-2e58-11e6-8a84-bae500000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "vatEnabled": true,
      "vatIncluded": true,
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/b1008773-313f-11e6-8a84-bae500000089/positions",
          "type": "supplyposition",
          "mediaType": "application/json",
          "size": 2,
          "limit": 1000,
          "offset": 0
        }
      },
      "payedSum": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/f39a60f5-313f-11e6-8a84-bae5000000b4",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
        "type": "supply",
        "mediaType": "application/json"
      },
      "id": "f39a60f5-313f-11e6-8a84-bae5000000b4",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-06-15 12:22:08",
      "name": "00003",
      "externalCode": "M69h5veIhqsaDAZI88LUy0",
      "moment": "2016-06-13 11:21:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 16000,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/faf44002-2e58-11e6-8a84-bae500000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "vatEnabled": true,
      "vatIncluded": true,
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/f39a60f5-313f-11e6-8a84-bae5000000b4/positions",
          "type": "supplyposition",
          "mediaType": "application/json",
          "size": 3,
          "limit": 1000,
          "offset": 0
        }
      },
      "payedSum": 0
    }
  ]
}
Создать Приемку
Запрос на создание новой Приемки.
Обязательные для создания поля:


Параметр
Описание



organization
Ссылка на ваше юрлицо в формате Метаданных


agent
Ссылка на контрагента в формате Метаданных


store
Ссылка на склад в формате Метаданных


Пример создания новой Приемки.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/supply"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "404050",
            "description": "Приемка от 12.12.12",
            "code": "776762312",
            "externalCode": "77sea2as12",
            "moment": "2012-12-12 12:12:12",
            "applicable": true,
            "vatEnabled": false,
            "vatIncluded": false,
            "rate": {
              "currency": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/faf45b9a-2e58-11e6-8a84-bae500000055",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
                  "type": "currency",
                  "mediaType": "application/json"
                }
              },
              "value": 71
            },
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "state": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/states/918e5abd-3f66-11e6-8a84-bae500000083",
                "type": "state",
                "mediaType": "application/json"
              }
            },
            "incomingNumber": "12412412",
            "incomingDate": "2012-12-12 12:12:12"
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Приемки.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/f106723d-3f66-11e6-8a84-bae500000037",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
    "type": "supply",
    "mediaType": "application/json"
  },
  "id": "f106723d-3f66-11e6-8a84-bae500000037",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 11:36:44",
  "name": "404050",
  "description": "Приемка от 12.12.12",
  "code": "776762312",
  "externalCode": "77sea2as12",
  "moment": "2012-12-12 11:12:12",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/faf45b9a-2e58-11e6-8a84-bae500000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/states/918e5abd-3f66-11e6-8a84-bae500000083",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "vatEnabled": false,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/f106723d-3f66-11e6-8a84-bae500000037/positions",
      "type": "supplyposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "incomingNumber": "12412412",
  "incomingDate": "2012-12-12 11:12:12"
}

Пример запроса на создание Приемки с доп. полями.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/supply"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "404050124",
            "description": "Приемка от 909090",
            "code": "776762312",
            "externalCode": "77sea2as12",
            "moment": "2016-02-22 22:22:53",
            "applicable": true,
            "vatEnabled": true,
            "vatIncluded": true,
            "rate": {
              "currency": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/faf45b9a-2e58-11e6-8a84-bae500000055",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
                  "type": "currency",
                  "mediaType": "application/json"
                }
              },
              "value": 71
            },
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "state": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/states/918e5abd-3f66-11e6-8a84-bae500000083",
                "type": "state",
                "mediaType": "application/json"
              }
            },
            "incomingNumber": "12412412",
            "incomingDate": "2012-12-12 12:12:12",
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/a31685ae-3f62-11e6-8a84-bae50000007b",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "2017-02-22 02:12:53"
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/c16fd9aa-3f62-11e6-8a84-bae50000007e",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": 47
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/c16fe013-3f62-11e6-8a84-bae50000007f",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "Пример удачной сделки"
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Приемки.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/ad890c61-3f67-11e6-8a84-bae50000003b",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
    "type": "supply",
    "mediaType": "application/json"
  },
  "id": "ad890c61-3f67-11e6-8a84-bae50000003b",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 11:42:00",
  "name": "404050124",
  "description": "Приемка от 909090",
  "code": "776762312",
  "externalCode": "77sea2as12",
  "moment": "2016-02-22 22:22:53",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/faf45b9a-2e58-11e6-8a84-bae500000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/states/918e5abd-3f66-11e6-8a84-bae500000083",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/a31685ae-3f62-11e6-8a84-bae50000007b",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "a31685ae-3f62-11e6-8a84-bae50000007b",
      "name": "AttributeName1",
      "type": "time",
      "value": "2017-02-22 02:12:53"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/c16fd9aa-3f62-11e6-8a84-bae50000007e",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c16fd9aa-3f62-11e6-8a84-bae50000007e",
      "name": "AttributeName2",
      "type": "long",
      "value": 47
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/c16fe013-3f62-11e6-8a84-bae50000007f",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c16fe013-3f62-11e6-8a84-bae50000007f",
      "name": "AttributeName3",
      "type": "text",
      "value": "Пример удачной сделки"
    }
  ],
  "vatEnabled": true,
  "vatIncluded": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/ad890c61-3f67-11e6-8a84-bae50000003b/positions",
      "type": "supplyposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "incomingNumber": "12412412",
  "incomingDate": "2012-12-12 11:12:12"
}

Пример запроса на создание Приемки с позициями в теле запроса.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/supply"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
   "name":"2000124",
   "description":"Приемка от 909090",
   "code":"776762312",
   "externalCode":"77sea2as12",
   "moment":"2016-02-22 22:22:53",
   "applicable":true,
   "vatEnabled":true,
   "vatIncluded":true,
   "rate":{
      "currency":{
         "meta":{
            "href":"https://api.moysklad.ru/api/remap/1.2/entity/currency/faf45b9a-2e58-11e6-8a84-bae500000055",
            "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type":"currency",
            "mediaType":"application/json"
         }
      },
      "value":71
   },
   "organization":{
      "meta":{
         "href":"https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
         "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
         "type":"organization",
         "mediaType":"application/json"
      }
   },
   "agent":{
      "meta":{
         "href":"https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
         "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
         "type":"counterparty",
         "mediaType":"application/json"
      }
   },
   "store":{
      "meta":{
         "href":"https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
         "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
         "type":"store",
         "mediaType":"application/json"
      }
   },
   "state":{
      "meta":{
         "href":"https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/states/918e5abd-3f66-11e6-8a84-bae500000083",
         "type":"state",
         "mediaType":"application/json"
      }
   },
   "incomingNumber":"12412412",
   "incomingDate":"2012-12-12 12:12:12",
   "attributes":[
      {
         "meta":{
            "href":"https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/a31685ae-3f62-11e6-8a84-bae50000007b",
            "type":"attributemetadata",
            "mediaType":"application/json"
         },
         "value":"2017-02-22 02:12:53"
      },
      {
         "meta":{
            "href":"https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/c16fd9aa-3f62-11e6-8a84-bae50000007e",
            "type":"attributemetadata",
            "mediaType":"application/json"
         },
         "value":47
      },
      {
         "meta":{
            "href":"https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/c16fe013-3f62-11e6-8a84-bae50000007f",
            "type":"attributemetadata",
            "mediaType":"application/json"
         },
         "value":"Пример удачной сделки"
      }
   ],
   "positions":[
      {
         "quantity":10,
         "price":100,
         "discount":0,
         "vat":0,
         "assortment":{
            "meta":{
               "href":"https://api.moysklad.ru/api/remap/1.2/entity/variant/7a7daa6b-3c64-11e6-8a84-bae50000000a",
               "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
               "type":"variant",
               "mediaType":"application/json"
            }
         },
         "overhead":10
      },
      {
         "quantity":20,
         "price":200,
         "discount":0,
         "vat":21,
         "assortment":{
            "meta":{
               "href":"https://api.moysklad.ru/api/remap/1.2/entity/variant/7a81082f-3c64-11e6-8a84-bae50000000e",
               "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
               "type":"variant",
               "mediaType":"application/json"
            }
         },
         "trackingCodes":[
            {
               "cis":"012345678912345672",
               "type":"transportpack",
               "trackingCodes":[
                  {
                     "cis":"010463003759026521uHpIIf2111111",
                     "type":"trackingcode"
                  },
                  {
                     "cis":"010463003759026521uHpIIf2111114",
                     "type":"trackingcode"
                  }
               ]
            }
         ],
         "overhead":20
      }
   ]
}'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Приемки.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/5b493f0e-3f68-11e6-8a84-bae500000042",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
    "type": "supply",
    "mediaType": "application/json"
  },
  "id": "5b493f0e-3f68-11e6-8a84-bae500000042",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 11:46:52",
  "name": "2000124",
  "description": "Приемка от 909090",
  "code": "776762312",
  "externalCode": "77sea2as12",
  "moment": "2016-02-22 22:22:53",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/faf45b9a-2e58-11e6-8a84-bae500000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 5000,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/states/918e5abd-3f66-11e6-8a84-bae500000083",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/a31685ae-3f62-11e6-8a84-bae50000007b",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "a31685ae-3f62-11e6-8a84-bae50000007b",
      "name": "AttributeName1",
      "type": "time",
      "value": "2017-02-22 02:12:53"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/c16fd9aa-3f62-11e6-8a84-bae50000007e",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c16fd9aa-3f62-11e6-8a84-bae50000007e",
      "name": "AttributeName2",
      "type": "long",
      "value": 47
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/c16fe013-3f62-11e6-8a84-bae50000007f",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c16fe013-3f62-11e6-8a84-bae50000007f",
      "name": "AttributeName3",
      "type": "text",
      "value": "Пример удачной сделки"
    }
  ],
  "vatEnabled": true,
  "vatIncluded": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/5b493f0e-3f68-11e6-8a84-bae500000042/positions",
      "type": "supplyposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "incomingNumber": "12412412",
  "incomingDate": "2012-12-12 11:12:12",
  "overhead": {
    "sum": 30,
    "distribution": "price"
  }
}
Массовое создание и обновление Приемок
Массовое создание и обновление Приемок.
В теле запроса нужно передать массив, содержащий JSON представления Приемок, которые вы хотите создать или обновить.
Обновляемые Приемки должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Приемок
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/supply"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "name": "404050",
              "description": "Приемка от 12.12.12",
              "code": "776762312",
              "externalCode": "77sea2as12",
              "moment": "2012-12-12 12:12:12",
              "applicable": true,
              "vatEnabled": false,
              "vatIncluded": false,
              "rate": {
                "currency": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/faf45b9a-2e58-11e6-8a84-bae500000055",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
                    "type": "currency",
                    "mediaType": "application/json"
                  }
                },
                "value": 71
              },
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                  "type": "counterparty",
                  "mediaType": "application/json"
                }
              },
              "store": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                  "type": "store",
                  "mediaType": "application/json"
                }
              },
              "state": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/states/918e5abd-3f66-11e6-8a84-bae500000083",
                  "type": "state",
                  "mediaType": "application/json"
                }
              },
              "incomingNumber": "12412412",
              "incomingDate": "2012-12-12 12:12:12"
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/5b493f0e-3f68-11e6-8a84-bae500000042",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
                "type": "supply",
                "mediaType": "application/json"
              },
              "name": "2000700",
              "description": "Приемка от контрагента",
              "code": "1241242ы421",
              "externalCode": "keksea2as12",
              "moment": "2011-12-12 11:11:11",
              "applicable": false,
              "vatEnabled": true,
              "vatIncluded": false,
              "rate": {
                "currency": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/cdbc62de-3f68-11e6-8a84-bae500000050",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
                    "type": "currency",
                    "mediaType": "application/json"
                  }
                },
                "value": 33
              },
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                  "type": "counterparty",
                  "mediaType": "application/json"
                }
              },
              "store": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                  "type": "store",
                  "mediaType": "application/json"
                }
              },
              "state": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/states/918e5abd-3f66-11e6-8a84-bae500000083",
                  "type": "state",
                  "mediaType": "application/json"
                }
              },
              "incomingNumber": "12412412",
              "incomingDate": "2012-12-12 12:12:12",
              "attributes": [
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/a31685ae-3f62-11e6-8a84-bae50000007b",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": "2082-02-22 02:12:53"
                },
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/c16fd9aa-3f62-11e6-8a84-bae50000007e",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": "Пример крайне удачной сделки"
                }
              ],
              "positions": [
                {
                  "quantity": 101,
                  "price": 190.0,
                  "discount": 0,
                  "vat": 0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a7daa6b-3c64-11e6-8a84-bae50000000a",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                      "type": "variant",
                      "mediaType": "application/json"
                    }
                  }
                },
                {
                  "quantity": 20,
                  "price": 2.0,
                  "discount": 0,
                  "vat": 21,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a81082f-3c64-11e6-8a84-bae50000000e",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                      "type": "variant",
                      "mediaType": "application/json"
                    }
                  }
                }
              ]
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Приемок.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/f106723d-3f66-11e6-8a84-bae500000037",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
      "type": "supply",
      "mediaType": "application/json"
    },
    "id": "f106723d-3f66-11e6-8a84-bae500000037",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-07-01 11:36:44",
    "name": "404050",
    "description": "Приемка от 12.12.12",
    "code": "776762312",
    "externalCode": "77sea2as12",
    "moment": "2012-12-12 11:12:12",
    "applicable": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/faf45b9a-2e58-11e6-8a84-bae500000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 0,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "state": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/states/918e5abd-3f66-11e6-8a84-bae500000083",
        "type": "state",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "agentAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "vatEnabled": false,
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/f106723d-3f66-11e6-8a84-bae500000037/positions",
        "type": "supplyposition",
        "mediaType": "application/json",
        "size": 0,
        "limit": 1000,
        "offset": 0
      }
    },
    "payedSum": 0,
    "incomingNumber": "12412412",
    "incomingDate": "2012-12-12 11:12:12"
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/5b493f0e-3f68-11e6-8a84-bae500000042",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
      "type": "supply",
      "mediaType": "application/json"
    },
    "id": "5b493f0e-3f68-11e6-8a84-bae500000042",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-07-01 11:51:34",
    "name": "2000700",
    "description": "Приемка от контрагента",
    "code": "1241242ы421",
    "externalCode": "keksea2as12",
    "moment": "2011-12-12 10:11:11",
    "applicable": false,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/cdbc62de-3f68-11e6-8a84-bae500000050",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      },
      "value": 63
    },
    "sum": 19238,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "state": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/states/918e5abd-3f66-11e6-8a84-bae500000083",
        "type": "state",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "agentAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "attributes": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/a31685ae-3f62-11e6-8a84-bae50000007b",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "a31685ae-3f62-11e6-8a84-bae50000007b",
        "name": "AttributeName1",
        "type": "time",
        "value": "2082-02-22 02:12:53"
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/c16fd9aa-3f62-11e6-8a84-bae50000007e",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "c16fd9aa-3f62-11e6-8a84-bae50000007e",
        "name": "AttributeName2",
        "type": "long",
        "value": 47
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/c16fe013-3f62-11e6-8a84-bae50000007f",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "c16fe013-3f62-11e6-8a84-bae50000007f",
        "name": "AttributeName3",
        "type": "text",
        "value": "Пример крайне удачной сделки"
      }
    ],
    "vatEnabled": true,
    "vatIncluded": false,
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/5b493f0e-3f68-11e6-8a84-bae500000042/positions",
        "type": "supplyposition",
        "mediaType": "application/json",
        "size": 2,
        "limit": 1000,
        "offset": 0
      }
    },
    "payedSum": 0,
    "incomingNumber": "12412412",
    "incomingDate": "2012-12-12 11:12:12"
  }
]

Удалить Приемку
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Приемки.


Запрос на удаление Приемки с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/supply/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Приемки.

Массовое удаление Приемок
В теле запроса нужно передать массив, содержащий JSON метаданных Приемок, которые вы хотите удалить.
Запрос на массовое удаление Приемок. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/supply/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
                "type": "supply",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
                "type": "supply",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Приемок.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'supply' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'supply' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные ПриемокМетаданные Приемок
Запрос на получение метаданных Приемок. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Приемок


attributes
Массив объектов доп. полей Приемок в формате Метаданных


states
Массив статусов Приемок


createShared
создавать новые Приемки с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Приемок 
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Приемок.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/a31685ae-3f62-11e6-8a84-bae50000007b",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "a31685ae-3f62-11e6-8a84-bae50000007b",
      "name": "AttributeName1",
      "type": "time",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/c16fd9aa-3f62-11e6-8a84-bae50000007e",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c16fd9aa-3f62-11e6-8a84-bae50000007e",
      "name": "AttributeName2",
      "type": "long",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/c16fe013-3f62-11e6-8a84-bae50000007f",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c16fe013-3f62-11e6-8a84-bae50000007f",
      "name": "AttributeName3",
      "type": "text",
      "required": false
    }
  ],
  "createShared": false
}

Шаблон ПриемкиШаблон Приемки
Запрос на получение предзаполненого стандартными значениями шаблона приемки без связи с каким-либо документом.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/supply/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d ''  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной приемки.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/46073d61-ca1f-11e7-6a80-332a0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=46073d61-ca1f-11e7-6a80-332a0000002a"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/452fb22f-ca1f-11e7-6a80-332a00000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "name": "",
  "moment": "2017-11-22 19:05:33",
  "applicable": true,
  "sum": 0,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/463f8970-ca1f-11e7-6a80-332a00000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=463f8970-ca1f-11e7-6a80-332a00000053"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/463a706e-ca1f-11e7-6a80-332a00000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=463a706e-ca1f-11e7-6a80-332a00000051"
    }
  },
  "documents": {
    "rows": []
  },
  "positions": {
    "rows": []
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "payedSum": 0
}
Шаблон Приемки на основе
Запрос на получение предзаполненной приемки на основе заказа поставщику.
В результате запроса, будет создан предзаполненный шаблон приемки на основе переданного
заказа поставщику.
Запрос на создание приемки на основе заказа поставщику.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/supply/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "purchaseOrder": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/22b4caaa-3f74-11e6-8a84-bae500000069",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
                "type": "purchaseorder",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной приемки.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/46073d61-ca1f-11e7-6a80-332a0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=46073d61-ca1f-11e7-6a80-332a0000002a"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/452fb22f-ca1f-11e7-6a80-332a00000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "name": "",
  "moment": "2017-11-22 16:16:29",
  "applicable": true,
  "sum": 0,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/463f8970-ca1f-11e7-6a80-332a00000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=463f8970-ca1f-11e7-6a80-332a00000053"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/463a706e-ca1f-11e7-6a80-332a00000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=463a706e-ca1f-11e7-6a80-332a00000051"
    }
  },
  "documents": {
    "rows": []
  },
  "positions": {
    "rows": [
      {
        "quantity": 1,
        "price": 1000.0,
        "discount": 0,
        "vat": 0,
        "vatEnabled": false,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/b5d94dd1-cab0-11e7-6a80-332a00000011",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
            "type": "variant",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
          }
        },
        "overhead": 0
      }
    ]
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "payedSum": 0,
  "invoicesIn": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/dbf1e704-cf7b-11e7-6a80-332a00000000",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
        "type": "invoicein",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#invoicein/edit?id=dbf1e704-cf7b-11e7-6a80-332a00000000"
      }
    }
  ],
  "purchaseOrder": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/22b4caaa-3f74-11e6-8a84-bae500000069",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
      "type": "purchaseorder",
      "mediaType": "application/json"
    }
  }
}

Запрос на создание приемки на основе счета поставщика.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/supply/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "invoicesIn": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/dbf1e704-cf7b-11e7-6a80-332a00000000",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
                  "type": "invoicein",
                  "mediaType": "application/json",
                  "uuidHref": "https://online.moysklad.ru/app/#invoicein/edit?id=dbf1e704-cf7b-11e7-6a80-332a00000000"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной приемки.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/46073d61-ca1f-11e7-6a80-332a0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=46073d61-ca1f-11e7-6a80-332a0000002a"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/452fb22f-ca1f-11e7-6a80-332a00000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "name": "",
  "moment": "2017-11-22 16:16:29",
  "applicable": true,
  "sum": 0,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/463f8970-ca1f-11e7-6a80-332a00000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=463f8970-ca1f-11e7-6a80-332a00000053"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/463a706e-ca1f-11e7-6a80-332a00000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=463a706e-ca1f-11e7-6a80-332a00000051"
    }
  },
  "documents": {
    "rows": []
  },
  "positions": {
    "rows": [
      {
        "quantity": 1,
        "price": 1000.0,
        "discount": 0,
        "vat": 0,
        "vatEnabled": false,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/b5d94dd1-cab0-11e7-6a80-332a00000011",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
            "type": "variant",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
          }
        },
        "overhead": 0
      }
    ]
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "payedSum": 0,
  "invoicesIn": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/dbf1e704-cf7b-11e7-6a80-332a00000000",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
        "type": "invoicein",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#invoicein/edit?id=dbf1e704-cf7b-11e7-6a80-332a00000000"
      }
    }
  ]
}
Отдельное доп. полеОтдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/a31685ae-3f62-11e6-8a84-bae50000007b",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "a31685ae-3f62-11e6-8a84-bae50000007b",
  "name": "AttributeName1",
  "type": "time",
  "required": false
}
ПриемкаПолучить Приемку
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Приемки.


Запрос на получение отдельной Приемки с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/supply/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Приемки.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/a3a404e4-2e5d-11e6-8a84-bae5000000fd",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
    "type": "supply",
    "mediaType": "application/json"
  },
  "id": "a3a404e4-2e5d-11e6-8a84-bae5000000fd",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-06-27 10:48:47",
  "name": "00001",
  "externalCode": "0ULmxwN1jHJwT9nYPawwO2",
  "moment": "2016-06-10 09:26:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 16136135600,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/faf44002-2e58-11e6-8a84-bae500000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/a3a404e4-2e5d-11e6-8a84-bae5000000fd/positions",
      "type": "supplyposition",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "incomingDate": "2016-06-04 00:00:00"
}

Изменить Приемку
Запрос на обновление Приемки с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Приемки, кроме тех, что
помечены Только для чтения в описании атрибутов Приемки.
При обновлении полей organization и agent нужно также обновить поля organizationAccount и
agentAccount соответственно, иначе произойдет ошибка.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Приемки.


Пример запроса на обновление отдельной Приемки.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/supply/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "2000700",
            "description": "Приемка от контрагента",
            "code": "1241242ы421",
            "externalCode": "keksea2as12",
            "moment": "2011-12-12 11:11:11",
            "applicable": false,
            "vatEnabled": true,
            "vatIncluded": false,
            "rate": {
              "currency": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/cdbc62de-3f68-11e6-8a84-bae500000050",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
                  "type": "currency",
                  "mediaType": "application/json"
                }
              },
              "value": 33
            },
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "state": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/states/918e5abd-3f66-11e6-8a84-bae500000083",
                "type": "state",
                "mediaType": "application/json"
              }
            },
            "incomingNumber": "12412412",
            "incomingDate": "2012-12-12 12:12:12",
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/a31685ae-3f62-11e6-8a84-bae50000007b",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "2082-02-22 02:12:53"
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/c16fd9aa-3f62-11e6-8a84-bae50000007e",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "Пример крайне удачной сделки"
              }
            ],
            "positions": [
              {
                "quantity": 101,
                "price": 190.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a7daa6b-3c64-11e6-8a84-bae50000000a",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 20,
                "price": 2.0,
                "discount": 0,
                "vat": 21,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a81082f-3c64-11e6-8a84-bae50000000e",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной Приемки.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/5b493f0e-3f68-11e6-8a84-bae500000042",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
    "type": "supply",
    "mediaType": "application/json"
  },
  "id": "5b493f0e-3f68-11e6-8a84-bae500000042",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 11:51:34",
  "name": "2000700",
  "description": "Приемка от контрагента",
  "code": "1241242ы421",
  "externalCode": "keksea2as12",
  "moment": "2011-12-12 10:11:11",
  "applicable": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/cdbc62de-3f68-11e6-8a84-bae500000050",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    },
    "value": 63
  },
  "sum": 19238,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/states/918e5abd-3f66-11e6-8a84-bae500000083",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/a31685ae-3f62-11e6-8a84-bae50000007b",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "a31685ae-3f62-11e6-8a84-bae50000007b",
      "name": "AttributeName1",
      "type": "time",
      "value": "2082-02-22 02:12:53"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/c16fd9aa-3f62-11e6-8a84-bae50000007e",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c16fd9aa-3f62-11e6-8a84-bae50000007e",
      "name": "AttributeName2",
      "type": "long",
      "value": 47
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata/attributes/c16fe013-3f62-11e6-8a84-bae50000007f",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c16fe013-3f62-11e6-8a84-bae50000007f",
      "name": "AttributeName3",
      "type": "text",
      "value": "Пример крайне удачной сделки"
    }
  ],
  "vatEnabled": true,
  "vatIncluded": false,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/5b493f0e-3f68-11e6-8a84-bae500000042/positions",
      "type": "supplyposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "incomingNumber": "12412412",
  "incomingDate": "2012-12-12 11:12:12"
}
Позиции Приемки
Отдельный ресурс для управления позициями Приемки. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить позиции Приемки
Запрос на получение списка всех позиций данной Приемки.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих позиции Приемки.


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Приемки.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить позиции Приемки
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/supply/7944ef04-f831-11e5-7a69-971500188b19/positions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельной Приемки.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/7944ef04-f831-11e5-7a69-971500188b19/positions",
    "type": "supplyposition",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/7944ef04-f831-11e5-7a69-971500188b19/positions/b100a7fc-313f-11e6-8a84-bae50000008a",
        "type": "supplyposition",
        "mediaType": "application/json"
      },
      "id": "b100a7fc-313f-11e6-8a84-bae50000008a",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1241,
      "price": 0.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/328b0454-2e62-11e6-8a84-bae500000118",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
        }
      },
      "gtd": {
        "name": "12345678/121217/1212321"
      },
      "country": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/country/40e6f69a-991c-4fbc-8be9-d0d906cad180",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
          "type": "country",
          "mediaType": "application/json"
        }
      },
      "overhead": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/7944ef04-f831-11e5-7a69-971500188b19/positions/b100b367-313f-11e6-8a84-bae50000008b",
        "type": "supplyposition",
        "mediaType": "application/json"
      },
      "id": "b100b367-313f-11e6-8a84-bae50000008b",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 700,
      "price": 0.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/20485cfd-2e62-11e6-8a84-bae500000112",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=392c045c-2842-11e9-ac12-000a00000002"
        }
      },
      "gtd": {
        "name": "12345678/121217/1242523"
      },
      "country": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/country/3b1e1f15-2842-11e9-ac12-000c0000002f",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
          "type": "country",
          "mediaType": "application/json"
        }
      },
      "overhead": 0
    }
  ]
}

Пример с кодами маркировки
ПоказатьСвернуть
curl --location --request GET 'https://api.moysklad.ru/api/remap/1.2/entity/supply/63918a49-886e-11ea-0a80-151b0000007f?expand=positions' \
--header 'Authorization: Basic <Credentials>'

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельной Приемки.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/63918a49-886e-11ea-0a80-151b0000007f?expand=positions",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
    "type": "supply",
    "mediaType": "application/json",
    "uuidHref": "https://online.moysklad.ru/app/#supply/edit?id=63918a49-886e-11ea-0a80-151b0000007f"
  },
  "id": "63918a49-886e-11ea-0a80-151b0000007f",
  "accountId": "de6b5113-8491-11ea-0a80-134500000014",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/de79b4a8-8491-11ea-0a80-037a00000271",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=de79b4a8-8491-11ea-0a80-037a00000271"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/de6baafa-8491-11ea-0a80-134500000015",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2020-04-28 15:53:04.288",
  "name": "00008",
  "description": "Импорт приемки из ЭДО от 25.09.2017",
  "externalCode": "k-nV33MtgVIeGt7S-XY4R3",
  "moment": "2020-04-27 13:03:00.000",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/de8b754f-8491-11ea-0a80-037a000002b4",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#currency/edit?id=de8b754f-8491-11ea-0a80-037a000002b4"
      }
    }
  },
  "sum": 244200.0,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/de8b4d0e-8491-11ea-0a80-037a000002af",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=de8b4d0e-8491-11ea-0a80-037a000002af"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/de965214-8491-11ea-0a80-037a000002c1",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=de965214-8491-11ea-0a80-037a000002c1"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/de8a609d-8491-11ea-0a80-037a000002ad",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=de8a609d-8491-11ea-0a80-037a000002ad"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/63918a49-886e-11ea-0a80-151b0000007f/positions",
      "type": "supplyposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    },
    "rows": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/63918a49-886e-11ea-0a80-151b0000007f/positions/6391a58a-886e-11ea-0a80-151b00000080",
          "type": "supplyposition",
          "mediaType": "application/json"
        },
        "id": "6391a58a-886e-11ea-0a80-151b00000080",
        "accountId": "de6b5113-8491-11ea-0a80-134500000014",
        "quantity": 10.0,
        "price": 11100.0,
        "discount": 0.0,
        "vat": 0,
        "vatEnabled": false,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/aa1b1814-8493-11ea-0a80-037a00000307",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=aa1b0d42-8493-11ea-0a80-037a00000305"
          }
        },
        "trackingCodes": [
          {
            "cis": "012345678912345678",
            "type": "transportpack"
          },
          {
            "cis": "012345678912345678",
            "type": "transportpack",
            "trackingCodes": [
              {
                "cis": "010463003759026521uHpIIf-nXIH>0",
                "type": "trackingcode"
              },
              {
                "cis": "010463003759026521uHpIIf-nXIH>4",
                "type": "trackingcode"
              },
              {
                "cis": "010463003759026521uHpIIf-111114",
                "type": "trackingcode"
              }
            ]
          },
          {
            "cis": "010463003759026521uHpIIf-111114",
            "type": "trackingcode"
          },
          {
            "cis": "010463003759026521uHpIIf-nXIH>4",
            "type": "trackingcode"
          },
          {
            "cis": "010463003759026521uHpIIf-nXIH>0",
            "type": "trackingcode"
          }
        ],
        "overhead": 0.0
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/63918a49-886e-11ea-0a80-151b0000007f/positions/639235ac-886e-11ea-0a80-151b000000ad",
          "type": "supplyposition",
          "mediaType": "application/json"
        },
        "id": "639235ac-886e-11ea-0a80-151b000000ad",
        "accountId": "de6b5113-8491-11ea-0a80-134500000014",
        "quantity": 12.0,
        "price": 11100.0,
        "discount": 0.0,
        "vat": 0,
        "vatEnabled": false,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/aa1b1814-8493-11ea-0a80-037a00000307",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=aa1b0d42-8493-11ea-0a80-037a00000305"
          }
        },
        "trackingCodes": [
          {
            "cis": "123456123456123456",
            "type": "transportpack"
          },
          {
            "cis": "012345678901234567",
            "type": "transportpack"
          }
        ],
        "overhead": 0.0
      }
    ]
  },
  "vatEnabled": true,
  "vatIncluded": false,
  "vatSum": 0.0,
  "payedSum": 0.0,
  "incomingNumber": "1",
  "incomingDate": "2017-09-25 00:00:00.000"
}
Позиция ПриемкиПолучить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Приемки.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Приемки.


Запрос на получение отдельной позиции Приемки с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/supply/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Приемки.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "supplyposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "quantity": 1241,
  "price": 0.0,
  "discount": 0,
  "vat": 0,
  "vatEnabled": false,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/328b0454-2e62-11e6-8a84-bae500000118",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=392c045c-2842-11e9-ac12-000a00000002"
    }
  },
  "overhead": 0
}
Создать позицию
Запрос на создание новой позиции в Приемке.
Для успешного создания необходимо в теле запроса указать следующие поля:

assortment - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем service, consignment, variant в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании позиции Приемки
quantity - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций Приемки. Все созданные данным запросом позиции
будут добавлены к уже существующим.

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Приемки.


Пример создания одной позиции в Приемке.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/supply/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 44,
            "price": 700.0,
            "discount": 23,
            "vat": 10,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a7daa6b-3c64-11e6-8a84-bae50000000a",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                "type": "variant",
                "mediaType": "application/json"
              }
            },
            "country": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/country/000d77a9-3000-4f81-a995-6b9cffdee1d2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
                "type": "country",
                "mediaType": "application/json"
              }
            },
            "overhead": 300
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельной Приемки.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/7944ef04-f831-11e5-7a69-971500188b19/positions/e33f101b-3f64-11e6-8a84-bae500000025",
      "type": "supplyposition",
      "mediaType": "application/json"
    },
    "id": "e33f101b-3f64-11e6-8a84-bae500000025",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 44,
    "price": 700.0,
    "discount": 23,
    "vat": 10,
    "vatEnabled": true,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a7daa6b-3c64-11e6-8a84-bae50000000a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
      }
    },
    "country": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/country/000d77a9-3000-4f81-a995-6b9cffdee1d2",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
        "type": "country",
        "mediaType": "application/json"
      }
    },
    "overhead": 0
  }
]

Пример создания сразу нескольких позиций в Приемке.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/supply/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "quantity": 44,
              "price": 700.0,
              "discount": 23,
              "vat": 10,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a7daa6b-3c64-11e6-8a84-bae50000000a",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                  "type": "variant",
                  "mediaType": "application/json"
                }
              },
              "country": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/country/000d77a9-3000-4f81-a995-6b9cffdee1d2",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
                  "type": "country",
                  "mediaType": "application/json"
                }
              },
              "overhead": 300
            },
            {
              "quantity": 3,
              "price": 3500.0,
              "discount": 0,
              "vat": 7,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a81082f-3c64-11e6-8a84-bae50000000e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                  "type": "variant",
                  "mediaType": "application/json"
                }
              }
            },
            {
              "quantity": 21,
              "price": 2300.0,
              "discount": 0,
              "vat": 21,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a81082f-3c64-11e6-8a84-bae50000000e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                  "type": "variant",
                  "mediaType": "application/json"
                }
              }
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка созданных позиций отдельной Приемки.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/7944ef04-f831-11e5-7a69-971500188b19/positions/3b5fdebd-3f65-11e6-8a84-bae50000002a",
      "type": "supplyposition",
      "mediaType": "application/json"
    },
    "id": "3b5fdebd-3f65-11e6-8a84-bae50000002a",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 44,
    "price": 700.0,
    "discount": 23,
    "vat": 10,
    "vatEnabled": true,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a7daa6b-3c64-11e6-8a84-bae50000000a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
      }
    },
    "country": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/country/000d77a9-3000-4f81-a995-6b9cffdee1d2",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/country/metadata",
        "type": "country",
        "mediaType": "application/json"
      }
    },
    "overhead": 0
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/7944ef04-f831-11e5-7a69-971500188b19/positions/3b5fe7b8-3f65-11e6-8a84-bae50000002b",
      "type": "supplyposition",
      "mediaType": "application/json"
    },
    "id": "3b5fe7b8-3f65-11e6-8a84-bae50000002b",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 3,
    "price": 3500.0,
    "discount": 0,
    "vat": 7,
    "vatEnabled": true,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a81082f-3c64-11e6-8a84-bae50000000e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
      }
    },
    "overhead": 0
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/7944ef04-f831-11e5-7a69-971500188b19/positions/3b5ffcfd-3f65-11e6-8a84-bae50000002c",
      "type": "supplyposition",
      "mediaType": "application/json"
    },
    "id": "3b5ffcfd-3f65-11e6-8a84-bae50000002c",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 21,
    "price": 2300.0,
    "discount": 0,
    "vat": 21,
    "vatEnabled": true,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a81082f-3c64-11e6-8a84-bae50000000e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=392c045c-2842-11e9-ac12-000a00000002"
      }
    },
    "overhead": 0
  }
]

Пример с кодами маркировки
ПоказатьСвернуть
curl --location --request POST 'https://api.moysklad.ru/api/remap/1.2/entity/supply/63918a49-886e-11ea-0a80-151b0000007f/positions' \
--header 'Authorization: Basic <Credentials>' \
--header 'Content-Type: application/json' \
--data-raw '{
   "quantity":10.0,
   "price":11100.0,
   "discount":0.0,
   "vat":0,
   "assortment":{
      "meta":{
         "href":"https://api.moysklad.ru/api/remap/1.2/entity/product/aa1b1814-8493-11ea-0a80-037a00000307",
         "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
         "type":"product",
         "mediaType":"application/json",
         "uuidHref":"https://online.moysklad.ru/app/#good/edit?id=aa1b0d42-8493-11ea-0a80-037a00000305"
      }
   },
   "trackingCodes":[
      {
         "cis":"012345678912345671",
         "type":"transportpack"
      },
      {
         "cis":"012345678912345678",
         "type":"transportpack",
         "trackingCodes":[
            {
               "cis":"010463003759026521uHpIIf-111114",
               "type":"trackingcode"
            },
            {
               "cis":"010463003759026521uHpIIf-nXIH>4",
               "type":"trackingcode"
            },
            {
               "cis":"010463003759026521uHpIIf-nXIH>0",
               "type":"trackingcode"
            }
         ]
      },
      {
         "cis":"010463003759026521uHpIIf-nXIH>1",
         "type":"trackingcode"
      },
      {
         "cis":"010463003759026521uHpIIf-nXIH>2",
         "type":"trackingcode"
      },
      {
         "cis":"010463003759026521uHpIIf-111122",
         "type":"trackingcode"
      }
   ]
}'

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельной Приемки.
ПоказатьСвернуть
[
   {
      "meta":{
         "href":"https://api.moysklad.ru/api/remap/1.2/entity/supply/63918a49-886e-11ea-0a80-151b0000007f/positions/94d7af93-894f-11ea-0a80-05770000000d",
         "type":"supplyposition",
         "mediaType":"application/json"
      },
      "id":"94d7af93-894f-11ea-0a80-05770000000d",
      "accountId":"de6b5113-8491-11ea-0a80-134500000014",
      "quantity":10.0,
      "price":11100.0,
      "discount":0.0,
      "vat":0,
      "vatEnabled": false,
      "assortment":{
         "meta":{
            "href":"https://api.moysklad.ru/api/remap/1.2/entity/product/aa1b1814-8493-11ea-0a80-037a00000307",
            "metadataHref":"https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type":"product",
            "mediaType":"application/json",
            "uuidHref":"https://online.moysklad.ru/app/#good/edit?id=aa1b0d42-8493-11ea-0a80-037a00000305"
         }
      },
      "trackingCodes":[
         {
            "cis":"012345678912345678",
            "type":"transportpack",
            "trackingCodes":[
               {
                  "cis":"010463003759026521uHpIIf-nXIH>4",
                  "type":"trackingcode"
               },
               {
                  "cis":"010463003759026521uHpIIf-111114",
                  "type":"trackingcode"
               },
               {
                  "cis":"010463003759026521uHpIIf-nXIH>0",
                  "type":"trackingcode"
               }
            ]
         },
         {
            "cis":"010463003759026521uHpIIf-111122",
            "type":"trackingcode"
         },
         {
            "cis":"010463003759026521uHpIIf-nXIH>2",
            "type":"trackingcode"
         },
         {
            "cis":"012345678912345671",
            "type":"transportpack"
         },
         {
            "cis":"010463003759026521uHpIIf-nXIH>1",
            "type":"trackingcode"
         }
      ],
      "overhead":0.0
   }
]
Изменить позицию
Запрос на обновление отдельной позиции Приемки. Для обновления позиции нет каких-либо
обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
При обновлении списка кодов маркировки учитывать, что их количество может отличаться от фактического количества единиц продукции.
Для изменения количества единиц продукции необходимо использовать параметр quantity.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Приемки.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Приемки.


Пример запроса на обновление отдельной позиции в Приемке.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/supply/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 700,
            "price": 2355.0,
            "discount": 69,
            "vat": 10,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a81082f-3c64-11e6-8a84-bae50000000e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                "type": "variant",
                "mediaType": "application/json"
              }
            },
            "overhead": 2
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной позиции Приемки.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "supplyposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "quantity": 700,
  "price": 2355.0,
  "discount": 69,
  "vat": 10,
  "vatEnabled": true,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a81082f-3c64-11e6-8a84-bae50000000e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
      "type": "variant",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=392c045c-2842-11e9-ac12-000a00000002"
    }
  },
  "overhead": 0
}
Удалить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Приемки.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Приемки.


Запрос на удаление отдельной позиции Приемки с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/supply/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление позиции Приемки.

Массовое удаление позиций
Параметры


Параметр
Описание



id
string (required) Example: 3e1c03bb-684f-11ee-ac12-000c000000b0 id Приемки.


Запрос на массовое удаление позиций Приемки.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/supply/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "supplyposition",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "supplyposition",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление позиций Приемки. 

Приходный ордерПриходные ордера
Средствами JSON API можно создавать и обновлять сведения о Приходном ордере, запрашивать списки Приходных ордеров и сведения по отдельным Приходным ордерам.Кодом сущности для Приходного ордера в составе JSON API является ключевое слово cashin.
Атрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


agent
Meta
= !=
Метаданные контрагентаОбязательное при ответе Expand Необходимо при создании


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта


code
String(255)
= != ~ ~= =~
Код Приходного ордера


contract
Meta
= !=
Метаданные договораExpand


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления Приходного ордераТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Приходного ордера


externalCode
String(255)
= != ~ ~= =~
Внешний код Приходного ордераОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID Приходного ордераОбязательное при ответе Только для чтения


meta
Meta

Метаданные Приходного ордераОбязательное при ответе


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование Приходного ордераОбязательное при ответе


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании


owner
Meta
= !=
Владелец (Сотрудник)Expand


paymentPurpose
String(255)
= != ~ ~= =~
ОснованиеОбязательное при ответе


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


project
Meta
= !=
Метаданные проектаExpand


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


rate
Object

Валюта. Подробнее тутОбязательное при ответе


salesChannel
Meta
= !=
Метаданные канала продажExpand


shared
Boolean
= !=
Общий доступОбязательное при ответе


state
Meta
= !=
Метаданные статуса Приходного ордераExpand


sum
Int
= != < > <= >=
Сумма Приходного ордера в установленной валютеОбязательное при ответе


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


updated
DateTime
= != < > <= >=
Момент последнего обновления Приходного ордераОбязательное при ответе Только для чтения


vatSum
Float

Сумма НДСОбязательное при ответе


Связи с другими документами


Название
Описание



factureIn
Ссылка на Счет-фактуру полученный, с которым связан этот платеж в формате Метаданных


operations
Массив ссылок на связанные операции в формате Метаданных


Разрешенные типы связанных операций:

Заказ покупателя (customerorder)
Возврат поставщику (purchasereturn)
Отгрузка (demand)
Счет покупателю (invoiceout)
Полученный отчет комиссионера (commissionreportin)
Смена (retailShift)

О работе с доп. полями Приходных ордеров можно прочитать здесь
Получить Приходные ордера
Запрос всех Приходных ордеров на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Приходные ордера.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить Приходные ордера
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/cashin"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Приходных ордеров.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata",
    "type": "cashin",
    "mediaType": "application/json",
    "size": 3,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/07ea2c6f-3fad-11e6-8a84-bae50000013f",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata",
        "type": "cashin",
        "mediaType": "application/json"
      },
      "id": "07ea2c6f-3fad-11e6-8a84-bae50000013f",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-07-04 08:58:24",
      "name": "00003",
      "description": "И еще один приходный ордер",
      "externalCode": "0fI6AjAHh-x1oYYNwBYeN1",
      "moment": "2016-07-04 08:57:00",
      "applicable": false,
      "created": "2016-08-25 19:55:00",
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 132000,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "contract": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/0028cec8-3fad-11e6-8a84-bae50000013c",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
          "type": "contract",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/15121cef-32ca-11e6-8a84-bae500000072",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "state": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/states/aaa6d501-3fac-11e6-8a84-bae50000012e",
          "type": "state",
          "mediaType": "application/json"
        }
      },
      "paymentPurpose": "И еще одна оплата заказа.",
      "operations": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/90ba347d-6b8b-11e6-8a84-bae5000000bd",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
            "type": "retailshift",
            "mediaType": "application/json"
          },
          "linkedSum": 80000
        }
      ]
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/b0ec3c98-3fac-11e6-8a84-bae500000131",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata",
        "type": "cashin",
        "mediaType": "application/json"
      },
      "id": "b0ec3c98-3fac-11e6-8a84-bae500000131",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": true,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-07-04 08:55:58",
      "name": "00001",
      "description": "Приходный Ордер.",
      "externalCode": "E7vH1TaKii9bkuw2pekD22",
      "moment": "2016-07-04 08:54:00",
      "applicable": true,
      "created": "2016-08-25 19:55:00",
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/cdbc62de-3f68-11e6-8a84-bae500000050",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        },
        "value": 63
      },
      "sum": 3189,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "contract": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/2b34d43f-3f52-11e6-8a84-bae500000066",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
          "type": "contract",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/722e39f0-313e-11e6-8a84-bae500000008",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1489a08d-32ca-11e6-8a84-bae50000000d",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "state": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/states/aaa6c45a-3fac-11e6-8a84-bae50000012b",
          "type": "state",
          "mediaType": "application/json"
        }
      },
      "paymentPurpose": "Оплата заказа",
      "operations": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/90ba347d-6b8b-11e6-8a84-bae5000000bd",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
            "type": "retailshift",
            "mediaType": "application/json"
          },
          "linkedSum": 80000
        }
      ]
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/df861103-3fac-11e6-8a84-bae500000137",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata",
        "type": "cashin",
        "mediaType": "application/json"
      },
      "id": "df861103-3fac-11e6-8a84-bae500000137",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-07-04 08:57:19",
      "name": "00002",
      "description": "Еще приходный ордер.",
      "externalCode": "FEYR3meShqh5ICWNygGeq0",
      "moment": "2016-07-04 08:56:00",
      "applicable": true,
      "created": "2016-08-25 19:55:00",
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/faf45b9a-2e58-11e6-8a84-bae500000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 1700000,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "contract": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/c556343a-3fac-11e6-8a84-bae500000134",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
          "type": "contract",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/722e39f0-313e-11e6-8a84-bae500000008",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/14c505eb-32ca-11e6-8a84-bae500000045",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "state": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/states/aaa6cfcf-3fac-11e6-8a84-bae50000012d",
          "type": "state",
          "mediaType": "application/json"
        }
      },
      "paymentPurpose": "Оплата второго заказа"
    }
  ]
}
Создать Приходный ордер
Запрос на создание нового Приходного ордера.
Обязательные для создания поля:


Название
Описание



organization
Ссылка на ваше юрлицо в формате Метаданных


agent
Ссылка на контрагента в формате Метаданных


Пример создания нового Приходного ордера с телом запроса, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/cashin"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Приходного ордера.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/3fd08b2d-41b0-11e6-8a84-bae500000000",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata",
    "type": "cashin",
    "mediaType": "application/json"
  },
  "id": "3fd08b2d-41b0-11e6-8a84-bae500000000",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "name": "000712",
  "moment": "2012-06-10 09:52:24",
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  }
}
Массовое создание и обновление Приходных ордеров
Массовое создание и обновление Приходных ордеров.
В теле запроса нужно передать массив, содержащий JSON представления Приходных ордеров, которые вы хотите создать или обновить.
Обновляемые Приходные ордера должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Приходных ордеров
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/cashin"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "name": "000712",
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                  "type": "counterparty",
                  "mediaType": "application/json"
                }
              }
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/3fd08b2d-41b0-11e6-8a84-bae500000000",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata",
                "type": "cashin",
                "mediaType": "application/json"
              },
              "owner": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/f3c5d206-dafc-4eb3-8678-f97e76964e1d",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                  "type": "employee",
                  "mediaType": "application/json"
                }
              },
              "shared": true,
              "name": "000722",
              "description": "Приходный ордер созданный и измененный через API",
              "code": "333712366",
              "externalCode": "103kek312",
              "moment": "2016-06-10 09:52:24",
              "applicable": false,
              "sum": 555000,
              "paymentPurpose": "Оплата заказа №0046",
              "attributes": [
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/attributes/c57c1f22-3fae-11e6-8a84-bae500000142",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": 12
                },
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/attributes/c57c2526-3fae-11e6-8a84-bae500000143",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": true
                },
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/attributes/c57c2a5c-3fae-11e6-8a84-bae500000144",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": 3.13
                }
              ]
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Приходных ордеров.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/3fd08b2d-41b0-11e6-8a84-bae500000000",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata",
      "type": "cashin",
      "mediaType": "application/json"
    },
    "id": "3fd08b2d-41b0-11e6-8a84-bae500000000",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "name": "000712",
    "moment": "2012-06-10 09:52:24",
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    }
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/3fd08b2d-41b0-11e6-8a84-bae500000000",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata",
      "type": "cashin",
      "mediaType": "application/json"
    },
    "id": "3fd08b2d-41b0-11e6-8a84-bae500000000",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/f3c5d206-dafc-4eb3-8678-f97e76964e1d",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": true,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-07-04 09:54:38",
    "name": "000722",
    "description": "Приходный ордер созданный и измененный через API",
    "code": "333712366",
    "externalCode": "103kek312",
    "moment": "2016-06-10 09:52:24",
    "applicable": false,
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 3700,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "attributes": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/attributes/c57c1f22-3fae-11e6-8a84-bae500000142",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "c57c1f22-3fae-11e6-8a84-bae500000142",
        "name": "AttributeName1",
        "type": "long",
        "value": 12
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/attributes/c57c2526-3fae-11e6-8a84-bae500000143",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "c57c2526-3fae-11e6-8a84-bae500000143",
        "name": "AttributeName2",
        "type": "boolean",
        "value": true
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/attributes/c57c2a5c-3fae-11e6-8a84-bae500000144",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "c57c2a5c-3fae-11e6-8a84-bae500000144",
        "name": "AttributeName3",
        "type": "double",
        "value": 3.13
      }
    ],
    "paymentPurpose": "Оплата заказа №0046"
  }
]
Удалить Приходный ордер
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Приходного ордера.


Запрос на удаление Приходного ордера с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/cashin/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Приходного ордера.

Массовое удаление Приходных ордеров
В теле запроса нужно передать массив, содержащий JSON метаданных Приходных ордеров, которые вы хотите удалить.
Запрос на массовое удаление Приходных ордеров. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/cashin/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata",
                "type": "cashin",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata",
                "type": "cashin",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Приходных ордеров.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'cashin' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'cashin' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные Приходных ордеровМетаданные Приходных ордеров
Запрос на получение метаданных Приходных ордеров. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Приходных ордеров


attributes
Массив объектов доп. полей Приходных ордеров в формате Метаданных


states
Массив статусов Приходных ордеров


createShared
создавать новые Приходные ордер с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Приходных ордеров
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Приходных ордеров.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/attributes/c57c1f22-3fae-11e6-8a84-bae500000142",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c57c1f22-3fae-11e6-8a84-bae500000142",
      "name": "AttributeName1",
      "type": "long",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/attributes/c57c2526-3fae-11e6-8a84-bae500000143",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c57c2526-3fae-11e6-8a84-bae500000143",
      "name": "AttributeName2",
      "type": "boolean",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/attributes/c57c2a5c-3fae-11e6-8a84-bae500000144",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c57c2a5c-3fae-11e6-8a84-bae500000144",
      "name": "AttributeName3",
      "type": "double",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/states/aaa6c45a-3fac-11e6-8a84-bae50000012b",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "aaa6c45a-3fac-11e6-8a84-bae50000012b",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Выслан",
      "color": 15280409,
      "stateType": "Regular",
      "entityType": "cashin"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/states/aaa6ca7a-3fac-11e6-8a84-bae50000012c",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "aaa6ca7a-3fac-11e6-8a84-bae50000012c",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Принят",
      "color": 34617,
      "stateType": "Regular",
      "entityType": "cashin"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/states/aaa6cfcf-3fac-11e6-8a84-bae50000012d",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "aaa6cfcf-3fac-11e6-8a84-bae50000012d",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Ожидается",
      "color": 15106326,
      "stateType": "Regular",
      "entityType": "cashin"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/states/aaa6d501-3fac-11e6-8a84-bae50000012e",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "aaa6d501-3fac-11e6-8a84-bae50000012e",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Оформлен",
      "color": 10774205,
      "stateType": "Regular",
      "entityType": "cashin"
    }
  ],
  "createShared": false
}

Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/attributes/c7f589f9-558a-11e6-8a84-bae50000006f",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "c7f589f9-558a-11e6-8a84-bae50000006f",
  "name": "AttributeName1",
  "type": "long",
  "required": false
}
Шаблон Приходного ордераШаблон Приходного ордера
Запрос на получение предзаполненного приходного ордера со стандартными полями без связи с какими-либо другими документами.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/cashin/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d ''  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного приходного ордера.
ПоказатьСвернуть
{
  "applicable": true,
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  }
}
Шаблон Приходного ордера на основе
Запрос на получение шаблона приходного ордера на основе другого документа.
В результате запроса, будет предзаполненный приходный ордер на основе переданного документа.
Запрос на получение шаблона приходного ордера на основе заказа покупателя.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/cashin/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/559adab5-915c-11e6-8a84-bae500000014",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
                  "type": "customerorder",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного приходного ордера.
ПоказатьСвернуть
{
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "paymentPurpose": "Оплата по заказу № 0302201 от 2016-10-13 12:38:00. Сумма: 0,00 без НДС",
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/559adab5-915c-11e6-8a84-bae500000014",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
        "type": "customerorder",
        "mediaType": "application/json"
      },
      "linkedSum": 0
    }
  ]
}

Запрос на получение шаблона приходного ордера на основе возврата поставщику.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/cashin/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/4f5e259b-961a-11e6-8a84-bae500000066",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata",
                  "type": "purchasereturn",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного приходного ордера.
ПоказатьСвернуть
{
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "paymentPurpose": "Оплата по возврату поставщику № 00001 от 2016-10-19 19:37:00. Сумма: 0,00 без НДС",
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/4f5e259b-961a-11e6-8a84-bae500000066",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata",
        "type": "purchasereturn",
        "mediaType": "application/json"
      },
      "linkedSum": 0
    }
  ]
}

Запрос на получение шаблона приходного ордера на основе отгрузки.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/cashin/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/06406b97-9138-11e6-8a84-bae500000000",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
                  "type": "demand",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного приходного ордера.
ПоказатьСвернуть
{
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "paymentPurpose": "Оплата по отгрузке № 000201 от 2016-10-13 12:38:00. Сумма: 0,00 без НДС",
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/06406b97-9138-11e6-8a84-bae500000000",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
        "type": "demand",
        "mediaType": "application/json"
      },
      "linkedSum": 0
    }
  ]
}

Запрос на получение шаблона приходного ордера на основе счета покупателю.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/cashin/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/6cb87758-95f4-11e6-8a84-bae500000067",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
                  "type": "invoiceout",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного приходного ордера.
ПоказатьСвернуть
{
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/2b0f10e4-9169-11e6-8a84-bae500000000",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "paymentPurpose": "Оплата по счету № 53252 от 2016-10-19 15:06:00. Сумма: 0,00 без НДС",
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/6cb87758-95f4-11e6-8a84-bae500000067",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
        "type": "invoiceout",
        "mediaType": "application/json"
      },
      "linkedSum": 0
    }
  ]
}


Запрос на получение шаблона приходного ордера на основе полученного отчета комиссионера.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/cashin/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/fe44fe4f-b320-11e6-8a84-bae500000092",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata",
                  "type": "commissionreportin",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного приходного ордера.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-11-25 18:09:50",
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 10350000,
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/c3057574-ab01-11e6-8a84-bae500000070",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "vatSum": 0,
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/fe44fe4f-b320-11e6-8a84-bae500000092",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportin/metadata",
        "type": "commissionreportin",
        "mediaType": "application/json"
      },
      "linkedSum": 10350000
    }
  ]
}
Приходный ордерПолучить Приходный ордер
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Приходного ордера.


Запрос на получение отдельного Приходного ордера с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/cashin/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Приходного ордера.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/b0ec3c98-3fac-11e6-8a84-bae500000131",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata",
    "type": "cashin",
    "mediaType": "application/json"
  },
  "id": "b0ec3c98-3fac-11e6-8a84-bae500000131",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": true,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-04 08:55:58",
  "name": "00001",
  "description": "Приходный Ордер.",
  "externalCode": "E7vH1TaKii9bkuw2pekD22",
  "moment": "2016-07-04 08:54:00",
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/cdbc62de-3f68-11e6-8a84-bae500000050",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    },
    "value": 63
  },
  "sum": 3189,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/2b34d43f-3f52-11e6-8a84-bae500000066",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/722e39f0-313e-11e6-8a84-bae500000008",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1489a08d-32ca-11e6-8a84-bae50000000d",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/states/aaa6c45a-3fac-11e6-8a84-bae50000012b",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "paymentPurpose": "Оплата заказа",
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/90ba347d-6b8b-11e6-8a84-bae5000000bd",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
        "type": "retailshift",
        "mediaType": "application/json"
      },
      "linkedSum": 80000
    }
  ]
}
Изменить Приходный ордер
Запрос на обновление Приходного ордера  с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Приходного ордера, кроме тех, что
помечены Только для чтения в описании атрибутов Приходного ордера.
При обновлении полей organization и agent нужно также обновить поля organizationAccount и
agentAccount соответственно, иначе произойдет ошибка.
Для привязки приходного ордера к другим документам
нужно положить в поле под именем operations все meta тех документов, к которым вы хотите привязать финансовую операцию.
Также для каждого документа можно указать cумму, оплаченную по данному документу из этого платежа linkedSum.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Приходного ордера.


Пример запроса на обновление отдельного Приходного ордера.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/cashin/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "owner": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/f3c5d206-dafc-4eb3-8678-f97e76964e1d",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                "type": "employee",
                "mediaType": "application/json"
              }
            },
            "shared": true,
            "name": "000722",
            "description": "Приходный ордер созданный и измененный через API",
            "code": "333712366",
            "externalCode": "103kek312",
            "moment": "2016-06-10 09:52:24",
            "applicable": false,
            "sum": 555000,
            "paymentPurpose": "Оплата заказа №0046",
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/attributes/c57c1f22-3fae-11e6-8a84-bae500000142",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": 12
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/attributes/c57c2526-3fae-11e6-8a84-bae500000143",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": true
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/attributes/c57c2a5c-3fae-11e6-8a84-bae500000144",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": 3.13
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Приходного ордера.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/3fd08b2d-41b0-11e6-8a84-bae500000000",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata",
    "type": "cashin",
    "mediaType": "application/json"
  },
  "id": "3fd08b2d-41b0-11e6-8a84-bae500000000",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/f3c5d206-dafc-4eb3-8678-f97e76964e1d",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": true,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-04 09:54:38",
  "name": "000722",
  "description": "Приходный ордер созданный и измененный через API",
  "code": "333712366",
  "externalCode": "103kek312",
  "moment": "2016-06-10 09:52:24",
  "applicable": false,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 3700,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/attributes/c57c1f22-3fae-11e6-8a84-bae500000142",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c57c1f22-3fae-11e6-8a84-bae500000142",
      "name": "AttributeName1",
      "type": "long",
      "value": 12
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/attributes/c57c2526-3fae-11e6-8a84-bae500000143",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c57c2526-3fae-11e6-8a84-bae500000143",
      "name": "AttributeName2",
      "type": "boolean",
      "value": true
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata/attributes/c57c2a5c-3fae-11e6-8a84-bae500000144",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c57c2a5c-3fae-11e6-8a84-bae500000144",
      "name": "AttributeName3",
      "type": "double",
      "value": 3.13
    }
  ],
  "paymentPurpose": "Оплата заказа №0046"
}
Производственное задание
Средствами JSON API можно обновлять сведения о Производственных заданиях, запрашивать списки Производственных заданий
и сведения по отдельным Производственным заданиям.
Позициями Производственных заданий можно управлять как в составе отдельного Производственного задания, так и отдельно
- с помощью специальных ресурсов для управления позициями Производственных заданий. Кодом сущности для Производственных
  заданий в составе JSON API является ключевое слово productiontask.
  Больше о Производстве и Производственном задании и работе с ними в основном интерфейсе вы можете прочитать в нашей
  службе поддержки по этой ссылке.
Работа с производственными этапами описана в отдельном разделе.
Чтобы начать производство, нужно передать поле productionStart с указанием даты и времени начала производства.
Производственные заданияАтрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


applicable
Boolean

Отметка о проведенииОбязательное при ответе


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей Поля объекта


awaiting
Boolean

Флаг ожидания продукта Производственного задания


code
String(255)
= != ~ ~= =~
Код Производственного задания


created
DateTime

Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления Производственного заданияТолько для чтения


deliveryPlannedMoment
DateTime
= != < > <= >=
Планируемая дата выполнения


description
String(4096)
= != ~ ~= =~
Комментарий Производственного задания


externalCode
String(255)
= != ~ ~= =~
Внешний код Производственного заданияОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID Производственного заданияОбязательное при ответе Только для чтения


materialsStore
Meta

Метаданные склада материаловExpand


meta
Meta

Метаданные Производственного заданияОбязательное при ответе


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование Производственного заданияОбязательное при ответе


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании


owner
Meta
= !=
Владелец (Сотрудник)Expand


printed
Boolean

Напечатан ли документОбязательное при ответе Только для чтения


productionRows
MetaArray

Метаданные Позиций производственного задания. Подробнее тутExpand


productionEnd
DateTime

Дата окончания производстваТолько для чтения


productionStart
DateTime

Дата начала производства


products
MetaArray

Метаданные производимой продукции. Подробнее тутОбязательное при ответе


productsStore
Meta

Метаданные склада продукцииExpand


published
Boolean

Опубликован ли документОбязательное при ответе Только для чтения


reserve
Boolean

Флаг резервирования материала Производственного задания


shared
Boolean
= !=
Общий доступОбязательное при ответе


state
Meta

Метаданные статуса Производственного заданияExpand


updated
DateTime
= != < > <= >=
Момент последнего обновления Производственного заданияОбязательное при ответе Только для чтения


Материалы производственного задания находятся в разделе Материалы производственного задания
Для сущности действует ограничение на expand: для поля productionRows недоступен expand вложенных полей.
Позиции Производственного задания
Позиции производственного задания - это список Техкарт, добавленных в Производственное задание.
Объект позиции Производственного задания содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения


externalCode
String(255)
Внешний код


id
UUID
ID позицииОбязательное при ответе Только для чтения


name
String(255)
Наименование


processingPlan
Meta
Метаданные ТехкартыОбязательное при ответе


productionVolume
Float
Объем производства.Обязательное при ответе


updated
DateTime
Момент последнего обновления Производственного заданияОбязательное при ответе


С позициями можно работать с помощью специальных ресурсов для управления позициями Производственных заданий,
а также в составе отдельного Производственного задания. При работе в составе отдельного Производственного задания,
вы можете отправлять запросы на создание отдельного Производственного задания с включенным в тело запроса
массивом позиций. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Производственного задания". 
Максимально допустимое число позиций у производственного задания - 200.
Также, при работе в составе отдельного Производственного задания, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Производственного задания" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
Продукты производственного задания
Объект Продукта производственного задания содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения


assortment
Meta
Ссылка на товар/серию/модификацию, которую представляет собой позиция.Обязательное при ответе Expand


id
UUID
ID позицииОбязательное при ответе Только для чтения


planQuantity
Float
Запланированное для производства количество продукта Обязательное при ответе


productionRow
Meta
Метаданные Позиции производственного заданияОбязательное при ответе Expand Только для чтения


С продуктами можно работать с помощью специальных ресурсов для управления продуктами Производственных заданий,
а также в составе отдельного Производственного задания. При работе в составе отдельного Производственного задания,
вы можете отправлять запросы на создание отдельного Производственного задания с включенным в тело запроса
массивом продуктов. Если количество продуктов превышает максимально допустимое, то для
дальнейшего пополнения продуктов нужно будет работать со специальным ресурсом "Продукты производственного задания".
Также, при работе в составе отдельного Производственного задания, можно отправлять запросы на обновление списка продуктов
с включенным в тело запроса массивом продуктов. При этом важно помнить, что коллекция позиций будет
восприниматься как "все Продукты производственного задания" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
продукты будут удалены, новые добавлены, существующие - изменены.
Получить список Производственных заданий
Запрос всех Производственных заданий на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Производственные задания.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить список Производственных заданий
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/productiontask"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Производственных заданий.
ПоказатьСвернуть
{
    "context": {
        "employee": {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                "type": "employee",
                "mediaType": "application/json"
            }
        }
    },
    "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask",
        "type": "productiontask",
        "mediaType": "application/json",
        "size": 1,
        "limit": 1000,
        "offset": 0
    },
    "rows": [
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/6a97c408-98d8-11ee-0a81-05c700000a3a",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/metadata",
                "type": "productiontask",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#productiontask/edit?id=6a97c408-98d8-11ee-0a81-05c700000a3a"
            },
            "id": "6a97c408-98d8-11ee-0a81-05c700000a3a",
            "accountId": "042cf74c-9358-11ee-0a80-09e700000010",
            "owner": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/04a31ac9-9358-11ee-0a81-05c7000007a0",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                    "type": "employee",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=04a31ac9-9358-11ee-0a81-05c7000007a0"
                }
            },
            "shared": false,
            "group": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/042ec4d3-9358-11ee-0a80-09e700000011",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                    "type": "group",
                    "mediaType": "application/json"
                }
            },
            "updated": "2023-12-12 13:22:56.309",
            "name": "00001",
            "externalCode": "KIlfW66-jlPlvD0apgZ6J3",
            "moment": "2023-12-12 13:20:00.000",
            "applicable": true,
            "materialsStore": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                    "type": "store",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
                }
            },
            "productsStore": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                    "type": "store",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
                }
            },
            "organization": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/04bda623-9358-11ee-0a81-05c7000007e5",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                    "type": "organization",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=04bda623-9358-11ee-0a81-05c7000007e5"
                }
            },
            "created": "2023-12-12 13:22:56.375",
            "printed": false,
            "published": false,
            "files": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/6a97c408-98d8-11ee-0a81-05c700000a3a/files",
                    "type": "files",
                    "mediaType": "application/json",
                    "size": 0,
                    "limit": 1000,
                    "offset": 0
                }
            },
            "productionRows": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/6a97c408-98d8-11ee-0a81-05c700000a3a/productionrows",
                    "type": "productionrow",
                    "mediaType": "application/json",
                    "size": 1,
                    "limit": 1000,
                    "offset": 0
                }
            },
            "products": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/6a97c408-98d8-11ee-0a81-05c700000a3a/products",
                    "type": "productiontaskresult",
                    "mediaType": "application/json",
                    "size": 1,
                    "limit": 1000,
                    "offset": 0
                }
            },
            "awaiting": false,
            "reserve": false
        }
    ]
}
Создать Производственное задание
Запрос на создание нового Производственного задания.
Обязательные для создания поля:


Параметр
Описание



organization
Ссылка на ваше юрлицо в формате Метаданных


materialsStore
Метаданные склада материалов


productsStore
Метаданные склада продукции


По умолчанию Производственное задание создается не начатым. Чтобы сразу создать и начать производство необходимо передать заполненное поле productionStart
Пример создания нового Производственного задания с телом запроса, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/productiontask"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "materialsStore": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                    "type": "store",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
                }
            },
            "productsStore": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                    "type": "store",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
                }
            },
            "organization": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/04bda623-9358-11ee-0a81-05c7000007e5",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                    "type": "organization",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=04bda623-9358-11ee-0a81-05c7000007e5"
                }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Производственого задания.
ПоказатьСвернуть
{
    "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/ccb6ea2e-98da-11ee-0a83-0045000025c3",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/metadata",
        "type": "productiontask",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#productiontask/edit?id=ccb6ea2e-98da-11ee-0a83-0045000025c3"
    },
    "id": "ccb6ea2e-98da-11ee-0a83-0045000025c3",
    "accountId": "042cf74c-9358-11ee-0a80-09e700000010",
    "owner": {
        "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/04a31ac9-9358-11ee-0a81-05c7000007a0",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
            "type": "employee",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=04a31ac9-9358-11ee-0a81-05c7000007a0"
        }
    },
    "shared": false,
    "group": {
        "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/042ec4d3-9358-11ee-0a80-09e700000011",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
            "type": "group",
            "mediaType": "application/json"
        }
    },
    "updated": "2023-12-12 13:39:59.923",
    "name": "00002",
    "externalCode": "2REltNG4iz6mP9qvwba6x3",
    "moment": "2023-12-12 13:39:00.000",
    "applicable": true,
    "materialsStore": {
        "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
            "type": "store",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
        }
    },
    "productsStore": {
        "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
            "type": "store",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
        }
    },
    "organization": {
        "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/04bda623-9358-11ee-0a81-05c7000007e5",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
            "type": "organization",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=04bda623-9358-11ee-0a81-05c7000007e5"
        }
    },
    "created": "2023-12-12 13:39:59.951",
    "printed": false,
    "published": false,
    "files": {
        "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/ccb6ea2e-98da-11ee-0a83-0045000025c3/files",
            "type": "files",
            "mediaType": "application/json",
            "size": 0,
            "limit": 1000,
            "offset": 0
        }
    },
    "productionRows": {
        "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/ccb6ea2e-98da-11ee-0a83-0045000025c3/productionrows",
            "type": "productionrow",
            "mediaType": "application/json",
            "size": 0,
            "limit": 1000,
            "offset": 0
        }
    },
    "products": {
        "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/ccb6ea2e-98da-11ee-0a83-0045000025c3/products",
            "type": "productiontaskresult",
            "mediaType": "application/json",
            "size": 0,
            "limit": 1000,
            "offset": 0
        }
    },
    "awaiting": false,
    "reserve": false
}

Пример создания нового Производственного задания с более насыщенным телом запроса.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/productiontask"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "materialsStore": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                    "type": "store",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
                }
            },
            "productsStore": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                    "type": "store",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
                }
            },
            "organization": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/04bda623-9358-11ee-0a81-05c7000007e5",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                    "type": "organization",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=04bda623-9358-11ee-0a81-05c7000007e5"
                }
            },
            "applicable": true,
            "code": "test-code-123",
            "deliveryPlannedMoment": "2023-12-12 13:39:59.951",
            "description": "тестовое производственное задание",
            "externalCode": "954102345",
            "group": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/042ec4d3-9358-11ee-0a80-09e700000011",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                    "type": "group",
                    "mediaType": "application/json"
                }
            },
            "moment": "2023-12-12 13:39:00.000",
            "name": "Тестовое Производственное здание",
            "owner": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/04a31ac9-9358-11ee-0a81-05c7000007a0",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                    "type": "employee",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=04a31ac9-9358-11ee-0a81-05c7000007a0"
                }
            },
            "shared": true,
            "awaiting": false,
            "reserve": false
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Производственного задания.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/ccfc90be-98e0-11ee-0a83-0045000025cb",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/metadata",
    "type": "productiontask",
    "mediaType": "application/json",
    "uuidHref": "https://online.moysklad.ru/app/#productiontask/edit?id=ccfc90be-98e0-11ee-0a83-0045000025cb"
  },
  "id": "ccfc90be-98e0-11ee-0a83-0045000025cb",
  "accountId": "042cf74c-9358-11ee-0a80-09e700000010",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/04a31ac9-9358-11ee-0a81-05c7000007a0",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=04a31ac9-9358-11ee-0a81-05c7000007a0"
    }
  },
  "shared": true,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/042ec4d3-9358-11ee-0a80-09e700000011",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2023-12-12 14:22:57.374",
  "name": "Тестовое Производственное здание",
  "description": "тестовое производственное задание",
  "code": "test-code-123",
  "externalCode": "954102345",
  "moment": "2023-12-12 13:39:00.000",
  "applicable": true,
  "materialsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
    }
  },
  "productsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/04bda623-9358-11ee-0a81-05c7000007e5",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=04bda623-9358-11ee-0a81-05c7000007e5"
    }
  },
  "created": "2023-12-12 14:22:57.403",
  "printed": false,
  "published": false,
  "files": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/ccfc90be-98e0-11ee-0a83-0045000025cb/files",
      "type": "files",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "deliveryPlannedMoment": "2023-12-12 13:39:00.000",
  "productionRows": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/ccfc90be-98e0-11ee-0a83-0045000025cb/productionrows",
      "type": "productionrow",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "products": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/ccfc90be-98e0-11ee-0a83-0045000025cb/products",
      "type": "productiontaskresult",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "awaiting": false,
  "reserve": false
}

Пример запроса на создание Производственного задания с позициями в теле запроса.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/productiontask"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "materialsStore": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                    "type": "store",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
                }
            },
            "productsStore": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                    "type": "store",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
                }
            },
            "organization": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/04bda623-9358-11ee-0a81-05c7000007e5",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                    "type": "organization",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=04bda623-9358-11ee-0a81-05c7000007e5"
                }
            },
            "applicable": true,
            "code": "test-code-123",
            "deliveryPlannedMoment": "2023-12-12 13:39:59.951",
            "description": "тестовое производственное задание",
            "externalCode": "954102345",
            "group": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/042ec4d3-9358-11ee-0a80-09e700000011",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                    "type": "group",
                    "mediaType": "application/json"
                }
            },
            "productionRows": [
                {
                "processingPlan": {
                    "meta": {
                        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/5a6729bb-98d8-11ee-0a81-05c700000a34",
                        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
                        "type": "processingplan",
                        "mediaType": "application/json",
                        "uuidHref": "https://online.moysklad.ru/app/#processingplan/edit?id=5a6729bb-98d8-11ee-0a81-05c700000a34"
                    }
                },
                "productionVolume": 10.0
                }
            ],
            "moment": "2023-12-12 13:39:00.000",
            "owner": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/04a31ac9-9358-11ee-0a81-05c7000007a0",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                    "type": "employee",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=04a31ac9-9358-11ee-0a81-05c7000007a0"
                }
            },
            "shared": true,
            "awaiting": false,
            "reserve": false
          }' 

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Производственного задания.
ПоказатьСвернуть
{
    "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/d1c9c512-98e5-11ee-0a83-0045000025cf",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/metadata",
        "type": "productiontask",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#productiontask/edit?id=d1c9c512-98e5-11ee-0a83-0045000025cf"
    },
    "id": "d1c9c512-98e5-11ee-0a83-0045000025cf",
    "accountId": "042cf74c-9358-11ee-0a80-09e700000010",
    "owner": {
        "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/04a31ac9-9358-11ee-0a81-05c7000007a0",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
            "type": "employee",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=04a31ac9-9358-11ee-0a81-05c7000007a0"
        }
    },
    "shared": true,
    "group": {
        "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/042ec4d3-9358-11ee-0a80-09e700000011",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
            "type": "group",
            "mediaType": "application/json"
        }
    },
    "updated": "2023-12-12 14:58:52.817",
    "name": "00003",
    "description": "тестовое производственное задание",
    "code": "test-code-123",
    "externalCode": "954102345",
    "moment": "2023-12-12 13:39:00.000",
    "applicable": true,
    "materialsStore": {
        "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
            "type": "store",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
        }
    },
    "productsStore": {
        "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
            "type": "store",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
        }
    },
    "organization": {
        "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/04bda623-9358-11ee-0a81-05c7000007e5",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
            "type": "organization",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=04bda623-9358-11ee-0a81-05c7000007e5"
        }
    },
    "created": "2023-12-12 14:58:52.898",
    "printed": false,
    "published": false,
    "files": {
        "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/d1c9c512-98e5-11ee-0a83-0045000025cf/files",
            "type": "files",
            "mediaType": "application/json",
            "size": 0,
            "limit": 1000,
            "offset": 0
        }
    },
    "deliveryPlannedMoment": "2023-12-12 13:39:00.000",
    "productionRows": {
        "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/d1c9c512-98e5-11ee-0a83-0045000025cf/productionrows",
            "type": "productionrow",
            "mediaType": "application/json",
            "size": 1,
            "limit": 1000,
            "offset": 0
        }
    },
    "products": {
        "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/d1c9c512-98e5-11ee-0a83-0045000025cf/products",
            "type": "productiontaskresult",
            "mediaType": "application/json",
            "size": 1,
            "limit": 1000,
            "offset": 0
        }
    },
    "awaiting": false,
    "reserve": false
}
Массовое создание и обновление Производственных заданий
В теле запроса нужно передать массив, содержащий JSON представления Производственных заданий, которые вы хотите создать или обновить.
Обновляемые Производственные задания должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Производственных заданий.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/productiontask"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
                "materialsStore": {
                    "meta": {
                        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
                        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                        "type": "store",
                        "mediaType": "application/json",
                        "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
                    }
                },
                "productsStore": {
                    "meta": {
                        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
                        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                        "type": "store",
                        "mediaType": "application/json",
                        "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
                    }
                },
                "organization": {
                    "meta": {
                        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/04bda623-9358-11ee-0a81-05c7000007e5",
                        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                        "type": "organization",
                        "mediaType": "application/json",
                        "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=04bda623-9358-11ee-0a81-05c7000007e5"
                    }
                },
                "applicable": true,
                "code": "test-code-123",
                "deliveryPlannedMoment": "2023-12-12 13:39:59.951",
                "description": "тестовое производственное задание",
                "externalCode": "954102345",
                "group": {
                    "meta": {
                        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/042ec4d3-9358-11ee-0a80-09e700000011",
                        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                        "type": "group",
                        "mediaType": "application/json"
                    }
                },
                "productionRows": [
                    {
                        "processingPlan": {
                            "meta": {
                                "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/5a6729bb-98d8-11ee-0a81-05c700000a34",
                                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
                                "type": "processingplan",
                                "mediaType": "application/json",
                                "uuidHref": "https://online.moysklad.ru/app/#processingplan/edit?id=5a6729bb-98d8-11ee-0a81-05c700000a34"
                            }
                        },
                        "productionVolume": 10.0
                    }
                ],
                "moment": "2023-12-12 13:39:00.000",
                "owner": {
                    "meta": {
                        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/04a31ac9-9358-11ee-0a81-05c7000007a0",
                        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                        "type": "employee",
                        "mediaType": "application/json",
                        "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=04a31ac9-9358-11ee-0a81-05c7000007a0"
                    }
                },
                "shared": true,
                "awaiting": false,
                "reserve": false
            },
            {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/d1c9c512-98e5-11ee-0a83-0045000025cf",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/metadata",
                    "type": "productiontask",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#productiontask/edit?id=d1c9c512-98e5-11ee-0a83-0045000025cf"
                },
                "name": "Изменённое Производственное задание"
            }
          ]'

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Производственных заданий.
ПоказатьСвернуть
[
    {
        "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/f400f8a3-98e7-11ee-0a83-0045000025d9",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/metadata",
            "type": "productiontask",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#productiontask/edit?id=f400f8a3-98e7-11ee-0a83-0045000025d9"
        },
        "id": "f400f8a3-98e7-11ee-0a83-0045000025d9",
        "accountId": "042cf74c-9358-11ee-0a80-09e700000010",
        "owner": {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/04a31ac9-9358-11ee-0a81-05c7000007a0",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                "type": "employee",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=04a31ac9-9358-11ee-0a81-05c7000007a0"
            }
        },
        "shared": true,
        "group": {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/042ec4d3-9358-11ee-0a80-09e700000011",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                "type": "group",
                "mediaType": "application/json"
            }
        },
        "updated": "2023-12-12 15:14:09.210",
        "name": "00004",
        "description": "тестовое производственное задание",
        "code": "test-code-123",
        "externalCode": "954102345",
        "moment": "2023-12-12 13:39:00.000",
        "applicable": true,
        "materialsStore": {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
            }
        },
        "productsStore": {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
            }
        },
        "organization": {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/04bda623-9358-11ee-0a81-05c7000007e5",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=04bda623-9358-11ee-0a81-05c7000007e5"
            }
        },
        "created": "2023-12-12 15:14:09.294",
        "printed": false,
        "published": false,
        "files": {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/f400f8a3-98e7-11ee-0a83-0045000025d9/files",
                "type": "files",
                "mediaType": "application/json",
                "size": 0,
                "limit": 1000,
                "offset": 0
            }
        },
        "deliveryPlannedMoment": "2023-12-12 13:39:00.000",
        "productionRows": {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/f400f8a3-98e7-11ee-0a83-0045000025d9/productionrows",
                "type": "productionrow",
                "mediaType": "application/json",
                "size": 1,
                "limit": 1000,
                "offset": 0
            }
        },
        "products": {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/f400f8a3-98e7-11ee-0a83-0045000025d9/products",
                "type": "productiontaskresult",
                "mediaType": "application/json",
                "size": 1,
                "limit": 1000,
                "offset": 0
            }
        },
        "awaiting": false,
        "reserve": false
    },
    {
        "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/d1c9c512-98e5-11ee-0a83-0045000025cf",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/metadata",
            "type": "productiontask",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#productiontask/edit?id=d1c9c512-98e5-11ee-0a83-0045000025cf"
        },
        "id": "d1c9c512-98e5-11ee-0a83-0045000025cf",
        "accountId": "042cf74c-9358-11ee-0a80-09e700000010",
        "owner": {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/04a31ac9-9358-11ee-0a81-05c7000007a0",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
                "type": "employee",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=04a31ac9-9358-11ee-0a81-05c7000007a0"
            }
        },
        "shared": true,
        "group": {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/042ec4d3-9358-11ee-0a80-09e700000011",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
                "type": "group",
                "mediaType": "application/json"
            }
        },
        "updated": "2023-12-12 15:14:09.688",
        "name": "Изменённое Производственное задание",
        "description": "тестовое производственное задание",
        "code": "test-code-123",
        "externalCode": "954102345",
        "moment": "2023-12-12 13:39:00.000",
        "applicable": true,
        "materialsStore": {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
            }
        },
        "productsStore": {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
            }
        },
        "organization": {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/04bda623-9358-11ee-0a81-05c7000007e5",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=04bda623-9358-11ee-0a81-05c7000007e5"
            }
        },
        "created": "2023-12-12 14:58:52.898",
        "printed": false,
        "published": false,
        "files": {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/d1c9c512-98e5-11ee-0a83-0045000025cf/files",
                "type": "files",
                "mediaType": "application/json",
                "size": 0,
                "limit": 1000,
                "offset": 0
            }
        },
        "deliveryPlannedMoment": "2023-12-12 13:39:00.000",
        "productionRows": {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/d1c9c512-98e5-11ee-0a83-0045000025cf/productionrows",
                "type": "productionrow",
                "mediaType": "application/json",
                "size": 1,
                "limit": 1000,
                "offset": 0
            }
        },
        "products": {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/d1c9c512-98e5-11ee-0a83-0045000025cf/products",
                "type": "productiontaskresult",
                "mediaType": "application/json",
                "size": 1,
                "limit": 1000,
                "offset": 0
            }
        },
        "awaiting": false,
        "reserve": false
    }
]
Массовое удаление Производственных заданий
В теле запроса нужно передать массив, содержащий JSON метаданных Производственных заданий, которые вы хотите удалить.
Запрос на массовое удаление Производственных заданий.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/d1c9c512-98e5-11ee-0a83-0045000025cf",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/metadata",
                "type": "productiontask",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#productiontask/edit?id=d1c9c512-98e5-11ee-0a83-0045000025cf"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/f400f8a3-98e7-11ee-0a83-0045000025d9",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/metadata",
                "type": "productiontask",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#productiontask/edit?id=f400f8a3-98e7-11ee-0a83-0045000025d9"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Производственных заданий.
ПоказатьСвернуть
[
  {
    "info": "Сущность 'productiontask' с UUID: d1c9c512-98e5-11ee-0a83-0045000025cf успешно удалена"
  },
  {
    "info": "Сущность 'productiontask' с UUID: f400f8a3-98e7-11ee-0a83-0045000025d9 успешно удалена"
  }
]
Метаданные Производственных заданийМетаданные Производственных заданий
Запрос на получение метаданных Производственных заданий. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Метаданные Производственных заданий


attributes
Коллекция доп. полей


createShared
Создавать новые Производственныe задания с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Производственных заданий
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Производственных заданий.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/metadata",
    "mediaType": "application/json"
  },
  "attributes": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/metadata/attributes",
      "type": "attributemetadata",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 4ca308f4-98f3-11ee-0a81-05c700000a7d id Доп. поля.


Отдельное доп. поле
Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/metadata/attributes/4ca308f4-98f3-11ee-0a81-05c700000a7d"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/metadata/attributes/4ca308f4-98f3-11ee-0a81-05c700000a7d",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "4ca308f4-98f3-11ee-0a81-05c700000a7d",
  "name": "дополнительное поле",
  "type": "string",
  "required": false,
  "show": true,
  "description": "Тестовое дополнительное поле"
}
Получить Производственное задание
Параметры


Параметр
Описание



id
string (required) Example: 7f9a63c64-98ee-11ee-0a83-0045000025e7 id Производственного задания.


Запрос на получение отдельного Производственного задания с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/f9a63c64-98ee-11ee-0a83-0045000025e7"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Производственного задания.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/f9a63c64-98ee-11ee-0a83-0045000025e7",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/metadata",
    "type": "productiontask",
    "mediaType": "application/json",
    "uuidHref": "https://online.moysklad.ru/app/#productiontask/edit?id=f9a63c64-98ee-11ee-0a83-0045000025e7"
  },
  "id": "f9a63c64-98ee-11ee-0a83-0045000025e7",
  "accountId": "042cf74c-9358-11ee-0a80-09e700000010",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/04a31ac9-9358-11ee-0a81-05c7000007a0",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=04a31ac9-9358-11ee-0a81-05c7000007a0"
    }
  },
  "shared": true,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/042ec4d3-9358-11ee-0a80-09e700000011",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2023-12-12 16:06:44.284",
  "name": "00003",
  "description": "тестовое производственное задание на обновление",
  "code": "test-code-123",
  "externalCode": "954102345",
  "moment": "2023-12-12 13:39:00.000",
  "applicable": true,
  "materialsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
    }
  },
  "productsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/04bda623-9358-11ee-0a81-05c7000007e5",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=04bda623-9358-11ee-0a81-05c7000007e5"
    }
  },
  "created": "2023-12-12 16:04:25.250",
  "printed": false,
  "published": false,
  "files": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/f9a63c64-98ee-11ee-0a83-0045000025e7/files",
      "type": "files",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "deliveryPlannedMoment": "2023-12-12 13:39:00.000",
  "productionRows": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/f9a63c64-98ee-11ee-0a83-0045000025e7/productionrows",
      "type": "productionrow",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "products": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/f9a63c64-98ee-11ee-0a83-0045000025e7/products",
      "type": "productiontaskresult",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "awaiting": false,
  "reserve": false
}
Изменить Производственное задание
Запрос на обновление Производственного задания с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Производственного задания, кроме тех, что
помечены Только для чтения в описании атрибутов Производственного задания.
Чтобы начать производство или изменить его дату, необходимо передать заполненное поле productionStart. 
Стоит учитывать, что если Производственное задание имеет Выполненные этапы, то обновление даты старта производства (поле productionStart) 
на дату позже, чем дата Выполнения Этапа, приведет к ошибке.
Параметры


Параметр
Описание



id
string (required) Example: f9a63c64-98ee-11ee-0a83-0045000025e7 id Производственного задания


Пример запроса на обновление отдельного Производственного задания.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/f9a63c64-98ee-11ee-0a83-0045000025e7"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "description": "тестовое производственное задание на обновление",
            "productionRows": [
                {
                    "processingPlan": {
                        "meta": {
                            "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/5a6729bb-98d8-11ee-0a81-05c700000a34",
                            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
                            "type": "processingplan",
                            "mediaType": "application/json",
                            "uuidHref": "https://online.moysklad.ru/app/#processingplan/edit?id=5a6729bb-98d8-11ee-0a81-05c700000a34"
                        }
                    },
                    "productionVolume": 15.0
                }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Производственного задания.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/f9a63c64-98ee-11ee-0a83-0045000025e7",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/metadata",
    "type": "productiontask",
    "mediaType": "application/json",
    "uuidHref": "https://online.moysklad.ru/app/#productiontask/edit?id=f9a63c64-98ee-11ee-0a83-0045000025e7"
  },
  "id": "f9a63c64-98ee-11ee-0a83-0045000025e7",
  "accountId": "042cf74c-9358-11ee-0a80-09e700000010",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/04a31ac9-9358-11ee-0a81-05c7000007a0",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=04a31ac9-9358-11ee-0a81-05c7000007a0"
    }
  },
  "shared": true,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/042ec4d3-9358-11ee-0a80-09e700000011",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2023-12-12 16:06:44.284",
  "name": "00003",
  "description": "тестовое производственное задание на обновление",
  "code": "test-code-123",
  "externalCode": "954102345",
  "moment": "2023-12-12 13:39:00.000",
  "applicable": true,
  "materialsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
    }
  },
  "productsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/04bda623-9358-11ee-0a81-05c7000007e5",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=04bda623-9358-11ee-0a81-05c7000007e5"
    }
  },
  "created": "2023-12-12 16:04:25.250",
  "printed": false,
  "published": false,
  "files": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/f9a63c64-98ee-11ee-0a83-0045000025e7/files",
      "type": "files",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "deliveryPlannedMoment": "2023-12-12 13:39:00.000",
  "productionRows": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/f9a63c64-98ee-11ee-0a83-0045000025e7/productionrows",
      "type": "productionrow",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "products": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/f9a63c64-98ee-11ee-0a83-0045000025e7/products",
      "type": "productiontaskresult",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "awaiting": false,
  "reserve": false
}

Пример запроса на изменение Производственного задания с дополнительными полями.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/4d63c1b4-98e0-11ee-0a83-0045000025c7"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "attributes": [
                {
                    "meta": {
                        "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/metadata/attributes/4ca308f4-98f3-11ee-0a81-05c700000a7d",
                        "type": "attributemetadata",
                        "mediaType": "application/json"
                    },
                    "id": "4ca308f4-98f3-11ee-0a81-05c700000a7d",
                    "name": "дополнительное поле",
                    "type": "string",
                    "value": "тестовый вариант"
                }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Производственного задания.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/4d63c1b4-98e0-11ee-0a83-0045000025c7",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/metadata",
    "type": "productiontask",
    "mediaType": "application/json",
    "uuidHref": "https://online.moysklad.ru/app/#productiontask/edit?id=4d63c1b4-98e0-11ee-0a83-0045000025c7"
  },
  "id": "4d63c1b4-98e0-11ee-0a83-0045000025c7",
  "accountId": "042cf74c-9358-11ee-0a80-09e700000010",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/04a31ac9-9358-11ee-0a81-05c7000007a0",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=04a31ac9-9358-11ee-0a81-05c7000007a0"
    }
  },
  "shared": true,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/042ec4d3-9358-11ee-0a80-09e700000011",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2023-12-12 14:19:23.230",
  "name": "Тестовое Производственное здание 1",
  "description": "тестовое производственное задание",
  "code": "test-code-123",
  "externalCode": "954102345",
  "moment": "2023-12-12 13:39:00.000",
  "applicable": true,
  "materialsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
    }
  },
  "productsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/04c31653-9358-11ee-0a81-05c7000007e7",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=04c31653-9358-11ee-0a81-05c7000007e7"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/04bda623-9358-11ee-0a81-05c7000007e5",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=04bda623-9358-11ee-0a81-05c7000007e5"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/metadata/attributes/4ca308f4-98f3-11ee-0a81-05c700000a7d",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "4ca308f4-98f3-11ee-0a81-05c700000a7d",
      "name": "дополнительное поле",
      "type": "string",
      "value": "тестовый вариант"
    }
  ],
  "created": "2023-12-12 14:19:23.319",
  "printed": false,
  "published": false,
  "files": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/4d63c1b4-98e0-11ee-0a83-0045000025c7/files",
      "type": "files",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "deliveryPlannedMoment": "2023-12-12 13:39:00.000",
  "productionRows": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/4d63c1b4-98e0-11ee-0a83-0045000025c7/productionrows",
      "type": "productionrow",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "products": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/4d63c1b4-98e0-11ee-0a83-0045000025c7/products",
      "type": "productiontaskresult",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "awaiting": false,
  "reserve": false
}
Удалить Производственное задание
При удалении Производственного задания удаляются все связанные Выполненные этапы производства.
Параметры


Параметр
Описание



id
string (required) Example: f400f8a3-98e7-11ee-0a83-0045000025d9 id Производственного задания.


Запрос на удаление Производственного задания с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/f400f8a3-98e7-11ee-0a83-0045000025d9"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Производственного задания.

Продукты производственного задания
Отдельный ресурс для управления продуктами Производственного задания. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить Продукты производственного задания
Запрос на получение списка всех продуктов данного Производственного задания.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Продукты производственного задания.


Параметры


Параметр
Описание



id
string (required) Example: ef458539-214e-11ee-c0a8-d00400000066 id Производственного задания.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить Продукты производственного задания
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/ef458539-214e-11ee-c0a8-d00400000066/products"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка продуктов отдельного Производственного задания.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "http://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "http://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "http://api.moysklad.ru/api/remap/1.2?",
    "type": "productiontaskresult",
    "mediaType": "application/json",
    "size": 2,
    "limit": 100,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "http://api.moysklad.ru/api/remap/1.2/entity/productiontask/ef458539-214e-11ee-c0a8-d00400000066/products/ef45d0b2-214e-11ee-c0a8-d00400000069",
        "type": "productiontaskresult",
        "mediaType": "application/json"
      },
      "id": "ef45d0b2-214e-11ee-c0a8-d00400000069",
      "accountId": "dbb8cfc1-cbfa-11e1-6dfb-889ffa6f49fd",
      "assortment": {
        "meta": {
          "href": "http://api.moysklad.ru/api/remap/1.2/entity/product/eddc7244-214e-11ee-c0a8-d00400000006",
          "metadataHref": "http://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "http://api.moysklad.ru/app/#good/edit?id=eddb9773-214e-11ee-c0a8-d00400000004"
        }
      },
      "productionRow": {
        "meta": {
          "href": "http://api.moysklad.ru/api/remap/1.2/entity/productiontask/ef458539-214e-11ee-c0a8-d00400000066/productionrows/ef45d60f-214e-11ee-c0a8-d0040000006a",
          "type": "productionrow",
          "mediaType": "application/json",
          "uuidHref": "http://api.moysklad.ru/app/#productionrow/edit?id=ef45d60f-214e-11ee-c0a8-d0040000006a"
        }
      },
      "planQuantity": 2.0
    },
    {
      "meta": {
        "href": "http://api.moysklad.ru/api/remap/1.2/entity/productiontask/ef458539-214e-11ee-c0a8-d00400000066/products/ef45d0b2-214e-11ee-c0a8-d0040000006a",
        "type": "productiontaskresult",
        "mediaType": "application/json"
      },
      "id": "ef45d0b2-214e-11ee-c0a8-d0040000006a",
      "accountId": "dbb8cfc1-cbfa-11e1-6dfb-889ffa6f49fd",
      "assortment": {
        "meta": {
          "href": "http://api.moysklad.ru/api/remap/1.2/entity/product/eddc7244-214e-11ee-c0a8-d00400000006",
          "metadataHref": "http://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "http://api.moysklad.ru/app/#good/edit?id=eddb9773-214e-11ee-c0a8-d00400000004"
        }
      },
      "productionRow": {
        "meta": {
          "href": "http://api.moysklad.ru/api/remap/1.2/entity/productiontask/ef458539-214e-11ee-c0a8-d00400000066/productionrows/ef45d60f-214e-11ee-c0a8-d0040000006a",
          "type": "productionrow",
          "mediaType": "application/json",
          "uuidHref": "http://api.moysklad.ru/app/#productionrow/edit?id=ef45d60f-214e-11ee-c0a8-d0040000006a"
        }
      },
      "planQuantity": 2.0
    }
  ]
}
Продукт производственного задания
Отдельный продукт Производственного задания с указанным id позиции.
Получить продукт производственного задания
Параметры


Параметр
Описание



id
string (required) Example: ef458539-214e-11ee-c0a8-d00400000066 id Производственного задания.


productID
string (required) Example: ef45d0b2-214e-11ee-c0a8-d00400000069 id продукта Производственного задания.


Запрос на получение отдельного продукта Производственного задания с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/ef458539-214e-11ee-c0a8-d00400000066/products/ef45d0b2-214e-11ee-c0a8-d00400000069"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление продукта Производственного задания.
ПоказатьСвернуть
{
  "meta": {
    "href": "http://api.moysklad.ru/api/remap/1.2/entity/productiontask/ef458539-214e-11ee-c0a8-d00400000066/products/ef45d0b2-214e-11ee-c0a8-d00400000069",
    "type": "productiontaskresult",
    "mediaType": "application/json"
  },
  "id": "ef45d0b2-214e-11ee-c0a8-d00400000069",
  "accountId": "dbb8cfc1-cbfa-11e1-6dfb-889ffa6f49fd",
  "assortment": {
    "meta": {
      "href": "http://api.moysklad.ru/api/remap/1.2/entity/product/eddc7244-214e-11ee-c0a8-d00400000006",
      "metadataHref": "http://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "http://api.moysklad.ru/app/#good/edit?id=eddb9773-214e-11ee-c0a8-d00400000004"
    }
  },
  "productionRow": {
    "meta": {
      "href": "http://api.moysklad.ru/api/remap/1.2/entity/productiontask/ef458539-214e-11ee-c0a8-d00400000066/productionrows/ef45d60f-214e-11ee-c0a8-d0040000006a",
      "type": "productionrow",
      "mediaType": "application/json",
      "uuidHref": "http://api.moysklad.ru/app/#productionrow/edit?id=ef45d60f-214e-11ee-c0a8-d0040000006a"
    }
  },
  "planQuantity": 2.0
}

Создать продукт
Запрос на создание продукта Производственного задания. Для успешного создания необходимо в теле запроса указать следующие поля:

assortment - Ссылка на товар/серию/модификацию, которую представляет собой продукт.
planQuantity - Запланированное для производства количество продукта. Должно быть положительным, иначе возникнет ошибка.
productionRow - Ссылка на позицию Производственного задания.

Одновременно можно создать как один, так и несколько продуктов. Все созданные данным запросом продукты будут добавлены к уже существующим.
Параметры


Параметр
Описание



id
string (required) Example: ef458539-214e-11ee-c0a8-d00400000066 id Производственного задания.


Пример запроса на создание продукта Производственного задания.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/ef458539-214e-11ee-c0a8-d00400000066/product"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
    -d '{
          "planQuantity": 22.0,
          "assortment": {
            "meta": {
              "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/eeef177f-f648-11e5-8a84-bae50000007a",
              "type": "product",
              "mediaType": "application/json"
            }
          },
          "productionRow": {
            "meta": {
              "href": "http://api.moysklad.ru/api/remap/1.2/entity/productiontask/ef458539-214e-11ee-c0a8-d00400000066/productionrows/ef45d60f-214e-11ee-c0a8-d0040000006a",
              "type": "productionrow",
              "mediaType": "application/json",
              "uuidHref": "http://api.moysklad.ru/app/#productionrow/edit?id=ef45d60f-214e-11ee-c0a8-d0040000006a"
            }
          }
        }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного продукта Производственного задания.
ПоказатьСвернуть
{
  "meta": {
    "href": "http://api.moysklad.ru/api/remap/1.2/entity/productiontask/ef458539-214e-11ee-c0a8-d00400000066/products/ef45d0b2-214e-11ee-c0a8-d00400000069",
    "type": "productiontaskresult",
    "mediaType": "application/json"
  },
  "id": "ef45d0b2-214e-11ee-c0a8-d00400000069",
  "accountId": "dbb8cfc1-cbfa-11e1-6dfb-889ffa6f49fd",
  "assortment": {
    "meta": {
      "href": "http://api.moysklad.ru/api/remap/1.2/entity/product/eddc7244-214e-11ee-c0a8-d00400000006",
      "metadataHref": "http://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "http://api.moysklad.ru/app/#good/edit?id=eddb9773-214e-11ee-c0a8-d00400000004"
    }
  },
  "productionRow": {
    "meta": {
      "href": "http://api.moysklad.ru/api/remap/1.2/entity/productiontask/ef458539-214e-11ee-c0a8-d00400000066/productionrows/ef45d60f-214e-11ee-c0a8-d0040000006a",
      "type": "productionrow",
      "mediaType": "application/json",
      "uuidHref": "http://api.moysklad.ru/app/#productionrow/edit?id=ef45d60f-214e-11ee-c0a8-d0040000006a"
    }
  },
  "planQuantity": 22.0
}
Изменить продукт
Запрос на обновление продукта Производственного задания. Для обновления продукта нет каких-либо
обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
Параметры


Параметр
Описание



id
string (required) Example: ef458539-214e-11ee-c0a8-d00400000066 id Производственного задания.


productID
string (required) Example: ef45d0b2-214e-11ee-c0a8-d00400000069 id продукта Производственного задания.


Пример запроса на обновление продукта Производственного задания.
ПоказатьСвернуть
curl -X PUT
  "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/ef458539-214e-11ee-c0a8-d00400000066/products/ef45d0b2-214e-11ee-c0a8-d00400000069"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
    -d '{
          "planQuantity": 22.0,
          "assortment": {
            "meta": {
              "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/eeef177f-f648-11e5-8a84-bae50000007a",
              "type": "product",
              "mediaType": "application/json"
            }
          }
        }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного продукта Производственного задания.
ПоказатьСвернуть
{
  "meta": {
    "href": "http://api.moysklad.ru/api/remap/1.2/entity/productiontask/ef458539-214e-11ee-c0a8-d00400000066/products/ef45d0b2-214e-11ee-c0a8-d00400000069",
    "type": "productiontaskresult",
    "mediaType": "application/json"
  },
  "id": "ef45d0b2-214e-11ee-c0a8-d00400000069",
  "accountId": "dbb8cfc1-cbfa-11e1-6dfb-889ffa6f49fd",
  "assortment": {
    "meta": {
      "href": "http://api.moysklad.ru/api/remap/1.2/entity/product/eeef177f-f648-11e5-8a84-bae50000007a",
      "metadataHref": "http://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "http://api.moysklad.ru/app/#good/edit?id=eddb9773-214e-11ee-c0a8-d00400000004"
    }
  },
  "productionRow": {
    "meta": {
      "href": "http://api.moysklad.ru/api/remap/1.2/entity/productiontask/ef458539-214e-11ee-c0a8-d00400000066/productionrows/ef45d60f-214e-11ee-c0a8-d0040000006a",
      "type": "productionrow",
      "mediaType": "application/json",
      "uuidHref": "http://api.moysklad.ru/app/#productionrow/edit?id=ef45d60f-214e-11ee-c0a8-d0040000006a"
    }
  },
  "planQuantity": 22.0
}
Удалить продукт
Ограничения на удаление: нельзя удалить последний продукт из позиции Производственного задания и нельзя удалять продукты после начала выполнения финальной позиции Производственного задания.
Параметры


Параметр
Описание



id
string (required) Example: ef458539-214e-11ee-c0a8-d00400000066 id Производственного задания.


productID
string (required) Example: ef45d0b2-214e-11ee-c0a8-d00400000069 id продукта Производственного задания.


Запрос на удаление продукта Производственного задания с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/ef458539-214e-11ee-c0a8-d00400000066/products/ef45d0b2-214e-11ee-c0a8-d00400000069"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление продукта Производственного задания.

Массовое удаление продуктов Производственного задания
Параметры


Параметр
Описание



id
string (required) Example: ef458539-214e-11ee-c0a8-d00400000066 id Производственного задания.


Запрос на массовое удаление продуктов Производственного задания.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/ef458539-214e-11ee-c0a8-d00400000066/products/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "http://api.moysklad.ru/api/remap/1.2/entity/productiontask/ef458539-214e-11ee-c0a8-d00400000066/products/ef45d0b2-214e-11ee-c0a8-d00400000069",
            "type": "productiontaskresult",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "http://api.moysklad.ru/api/remap/1.2/entity/productiontask/ef458539-214e-11ee-c0a8-d00400000066/products/ef45d0b2-214e-11ee-c0a8-d0040000006a",
            "type": "productiontaskresult",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление продуктов Производственного задания.

Позиции производственного заданияПолучить список позиций производственного задания
Запрос на получение позиций отдельного Производственного задания с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/85b4c65e-99d6-11ee-ac12-000f0000011a/productionrows"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Производственного задания.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/85b4c65e-99d6-11ee-ac12-000f0000011a/productionrows",
    "limit": 1000,
    "mediaType": "application/json",
    "offset": 0,
    "size": 1,
    "type": "productionrow"
  },
  "rows": [
    {
      "accountId": "899eb32d-99d5-11ee-ac12-000e00000001",
      "externalCode": "3oKBsRwZigCESI13Mncqq1",
      "id": "85b4d986-99d6-11ee-ac12-000f0000011c",
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/85b4c65e-99d6-11ee-ac12-000f0000011a/productionrows/85b4d986-99d6-11ee-ac12-000f0000011c",
        "mediaType": "application/json",
        "type": "productionrow",
        "uuidHref": "https://online.moysklad.ru/app/#productionrow/edit?id=85b4d986-99d6-11ee-ac12-000f0000011c"
      },
      "name": "example-name",
      "processingPlan": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/81269542-99d6-11ee-ac12-000f00000115",
          "mediaType": "application/json",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
          "type": "processingplan",
          "uuidHref": "https://online.moysklad.ru/app/#processingplan/edit?id=81269542-99d6-11ee-ac12-000f00000115"
        }
      },
      "productionVolume": 2.0,
      "updated": "2023-12-13 19:41:53.990"
    }
  ]
}
Получить отдельную позицию производственного задания
Запрос на получение позиции отдельного Производственного задания с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/85b4c65e-99d6-11ee-ac12-000f0000011a/productionrows/85b4d986-99d6-11ee-ac12-000f0000011c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Производственного задания.
ПоказатьСвернуть
{
  "accountId": "899eb32d-99d5-11ee-ac12-000e00000001",
  "externalCode": "3oKBsRwZigCESI13Mncqq1",
  "id": "85b4d986-99d6-11ee-ac12-000f0000011c",
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/85b4c65e-99d6-11ee-ac12-000f0000011a/productionrows/85b4d986-99d6-11ee-ac12-000f0000011c",
    "mediaType": "application/json",
    "type": "productionrow",
    "uuidHref": "https://online.moysklad.ru/app/#productionrow/edit?id=85b4d986-99d6-11ee-ac12-000f0000011c"
  },
  "name": "example-name",
  "processingPlan": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/81269542-99d6-11ee-ac12-000f00000115",
      "mediaType": "application/json",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
      "type": "processingplan",
      "uuidHref": "https://online.moysklad.ru/app/#processingplan/edit?id=81269542-99d6-11ee-ac12-000f00000115"
    }
  },
  "productionVolume": 2.0,
  "updated": "2023-12-13 19:41:53.990"
}
Изменить позиции производственного задания
Запрос на обновление отдельной позиции Производственного задания. Изменить можно только объём производства.
Параметры


Параметр
Описание



id
string (required) Example: e66dd4ab-9a5c-11ee-0a83-0a2e0000090d id Производственное задание.


positionID
string (required) Example: e66de5ff-9a5c-11ee-0a83-0a2e00000910 id позиции Производственного задания.


Пример запроса на обновление позиции у Производственного задания.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/e66dd4ab-9a5c-11ee-0a83-0a2e0000090d/productionrows/e66de5ff-9a5c-11ee-0a83-0a2e00000910"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{ 
            "productionVolume": 5.0
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной позиции Производственного задания.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/e66dd4ab-9a5c-11ee-0a83-0a2e0000090d/productionrows/e66de5ff-9a5c-11ee-0a83-0a2e00000910",
    "type": "productionrow",
    "mediaType": "application/json",
    "uuidHref": "https://online.moysklad.ru/app/#productionrow/edit?id=e66de5ff-9a5c-11ee-0a83-0a2e00000910"
  },
  "id": "e66de5ff-9a5c-11ee-0a83-0a2e00000910",
  "accountId": "0b3bcfb6-9a4d-11ee-0a83-0ded00000036",
  "updated": "2023-12-14 11:43:48.850",
  "name": "00001-1",
  "externalCode": "gDY0RMzyjwSTivwJTczyl0",
  "processingPlan": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/e296b1de-9a5c-11ee-0a83-0a2e00000907",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
      "type": "processingplan",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#processingplan/edit?id=e296b1de-9a5c-11ee-0a83-0a2e00000907"
    }
  },
  "productionVolume": 5.0
}
Удалить отдельную позицию производственного задания
Учитывайте, что удалить позицию производственного задания, у которой есть начатые этапы - нельзя
Запрос на удаление позиции производственного задания с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/85b4c65e-99d6-11ee-ac12-000f0000011a/productionrows/85b4d986-99d6-11ee-ac12-000f0000011c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление позиции Производственного задания.

Производственные этапы
Производственный этап не является самостоятельной сущностью, ее нельзя создать и удалить. Сущность создается автоматически при наполнении Производственного задания 
позициями техкарт.
Средствами JSON API можно обновлять сведения о Производственных этапах, запрашивать списки Производственных этапов и сведения по отдельным Производственным этапам. 
Материалами Производственных этапов можно управлять как в составе отдельного Производственного этапа, так и отдельно - с помощью специальных ресурсов для управления 
материалами Производственных этапов. Кодом сущности для Производственных этапов в составе JSON API является ключевое слово productionstage. 
Больше о Производстве и Производственном задании и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по этой ссылке.
Атрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID

ID учетной записиОбязательное при ответе Только для чтения


enableHourAccounting
Boolean

Признак активности учета по нормо-часамОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Expand Обязательное при ответе Только для чтения


id
UUID

ID Производственного этапаОбязательное при ответе Только для чтения


instruction
String(4096)

Текст инструкцииТолько для чтения


meta
Meta

Метаданные Производственного этапаОбязательное при ответе Только для чтения


labourUnitCost
Double

Затраты на оплату труда за единицу объема производства


materials
MetaArray

Метаданные Материалов производственного этапа. Подробнее тутОбязательное при ответе


materialStore
Meta

Метаданные склада материаловТолько для чтения


orderingPosition
Int

Индекс Производственного этапа в Позиции производственного заданияОбязательное при ответе Только для чтения


stage
Meta

Метаданные Этапа производства. Подробнее тутExpand Обязательное при ответе Только для чтения


productionRow
Meta

Метаданные Позиции производственного заданияExpand Обязательное при ответе Только для чтения


totalQuantity
Double

Объем Производственного этапа. Соответствует объему Позиции производственного заданияТолько для чтения


completedQuantity
Double

Выполненное количествоТолько для чтения


availableQuantity
Double

Количество, доступное к выполнениюТолько для чтения


blockedQuantity
Double

Количество, которое на данный момент выполнять нельзя. Например, ещё не выполнен предыдущий этапТолько для чтения


skippedQuantity
Double

Количество, которое не будет выполнено. Например, из-за остановки производстваТолько для чтения


processingUnitCost
Double

Затраты на единицу объема производства


standardHourCost
Double

Стоимость нормо-часаОбязательное при ответе


standardHourUnit
Double

Нормо-часы единицы объема производства


Особенности:
Для сущности действуют ограничения на expand: для поля productionRow недоступен expand вложенных полей.
Для перехода на автоматический расчет оплаты труда по нормо-часам (по формуле labourUnitCost = standardHourCost * standardHourUnit)
необходимо передать признак активации (флаг enableHourAccounting=true). Изменение значения оплаты труда при включенном флаге недопустимо -
для передачи фиксированного значения требуется деактивировать флаг.
Материалы Производственного этапа
Материалы Производственного этапа - это товары, модификации и серии, которые планируется затратить при выполнении Производственного этапа.
Объект материала Производственного этапа содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияОбязательное при ответе Expand


id
UUID
ID позицииОбязательное при ответе Только для чтения


planQuantity
Float
Количество товаров/модификаций данного вида в позицииОбязательное при ответе


Получить список Производственных этапов Производственного задания
При получении производственных этапов нужно обязательно передавать фильтр на конкретное производственное задание ?filter=productionTask=https://api.moysklad.ru/api/remap/1.2/entity/productiontask/<id>.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче


context
Meta
Метаданные о сотруднике, выполнившем запрос


rows
Array(Object)
Массив JSON объектов, представляющих собой Производственные этапы


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить список Производственных этапов по Производственному заданию
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/?filter=productionTask=https://api.moysklad.ru/api/remap/1.2/entity/productiontask/1906fa20-99d6-11ee-0a83-0a2e00000767"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Производственных этапов Производственного задания.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/?filter=productionTask%3Dhttps%3A%2F%2Fapi.moysklad.ru%2Fapi%2Fremap%2F1.2%2Fentity%2Fproductiontask%2F1906fa20-99d6-11ee-0a83-0a2e00000767",
    "type": "productionstage",
    "mediaType": "application/json",
    "size": 1,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/19070bfd-99d6-11ee-0a83-0a2e0000076b",
        "type": "productionstage",
        "mediaType": "application/json"
      },
      "id": "19070bfd-99d6-11ee-0a83-0a2e0000076b",
      "accountId": "4ac40edf-99d4-11ee-0a83-0ded0000002b",
      "stage": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingstage/4b3ada86-99d4-11ee-0a83-0a2e0000070e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingstage/metadata",
          "type": "processingstage",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#processingstage/edit?id=4b3ada86-99d4-11ee-0a83-0a2e0000070e"
        }
      },
      "productionRow": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/1906fa20-99d6-11ee-0a83-0a2e00000767/productionrows/19070a2e-99d6-11ee-0a83-0a2e0000076a",
          "type": "productionrow",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#productionrow/edit?id=19070a2e-99d6-11ee-0a83-0a2e0000076a"
        }
      },
      "materials": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/19070bfd-99d6-11ee-0a83-0a2e0000076b/materials",
          "type": "productiontaskmaterial",
          "mediaType": "application/json",
          "size": 2,
          "limit": 1000,
          "offset": 0
        }
      },
      "orderingPosition": 0,
      "totalQuantity": 1.0,
      "completedQuantity": 0.0,
      "availableQuantity": 1.0,
      "blockedQuantity": 0.0,
      "skippedQuantity": 0.0,
      "processingUnitCost": 2.0,
      "labourUnitCost": 0.0,
      "standardHourUnit": 0.0,
      "standardHourCost": 0.0,
      "enableHourAccounting": false,
      "instruction" : "1.Откройте верхнюю крышку и извлеките блок фотобарабана\n2.Установите в нижнее положение переключатель в правом нижнем 3.углу блока фотобарабана\n4.Вытащите тонер-картридж\n5.Поставьте на его место новый\n\nПо факту выполнения всех шагов обратитесь к руководителю",
      "files" : {
        "meta" : {
          "href" : "https://api.ru/api/remap/1.2/entity/productionstage/19070bfd-99d6-11ee-0a83-0a2e0000076be/files",
          "type" : "files",
          "mediaType" : "application/json",
          "size" : 2,
          "limit" : 1000,
          "offset" : 0
        }
      }
    }
  ]
}
Изменить Производственный этап
Запрос на обновление Производственного этапа с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Производственного этапа, кроме тех, что
помечены Только для чтения в описании атрибутов Производственного этапа.
Параметры


Параметр
Описание



id
string (required) Example: 19070bfd-99d6-11ee-0a83-0a2e0000076b id Производственного этапа


Пример запроса на обновление отдельного Производственного этапа.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/19070bfd-99d6-11ee-0a83-0a2e0000076b"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "processingUnitCost": 70.0,
            "labourUnitCost": 30.5,
            "standardHourUnit": 43.5
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Заказа покупателя.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/19070bfd-99d6-11ee-0a83-0a2e0000076b",
    "type": "productionstage",
    "mediaType": "application/json"
  },
  "id": "19070bfd-99d6-11ee-0a83-0a2e0000076b",
  "accountId": "4ac40edf-99d4-11ee-0a83-0ded0000002b",
  "stage": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingstage/4b3ada86-99d4-11ee-0a83-0a2e0000070e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingstage/metadata",
      "type": "processingstage",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#processingstage/edit?id=4b3ada86-99d4-11ee-0a83-0a2e0000070e"
    }
  },
  "productionRow": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productiontask/1906fa20-99d6-11ee-0a83-0a2e00000767/productionrows/19070a2e-99d6-11ee-0a83-0a2e0000076a",
      "type": "productionrow",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#productionrow/edit?id=19070a2e-99d6-11ee-0a83-0a2e0000076a"
    }
  },
  "materials": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/19070bfd-99d6-11ee-0a83-0a2e0000076b/materials",
      "type": "productiontaskmaterial",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "orderingPosition": 0,
  "totalQuantity": 1.0,
  "completedQuantity": 0.0,
  "availableQuantity": 1.0,
  "blockedQuantity": 0.0,
  "skippedQuantity": 0.0,
  "processingUnitCost": 70.0,
  "labourUnitCost": 30.5,
  "standardHourUnit": 43.5,
  "standardHourCost": 0.0,
  "enableHourAccounting": false,
  "files": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/19070bfd-99d6-11ee-0a83-0a2e0000076b/files",
      "type": "files",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  }
}
Материалы производственного этапа
Отдельный ресурс для управления Материалами производственного этапа.
Получить Материалы производственного этапа
Запрос на получение Материалов производственного этапа. Результат - объект JSON, включающий в себя:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче


context
Meta
Метаданные о сотруднике, выполнившем запрос


rows
Array(Object)
Массив JSON объектов, представляющих собой материалы Производственного этапа


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Производственного этапа


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей


Запрос на получение списка всех Материалов производственного этапа
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/7944ef04-f831-11e5-7a69-971500188b19/materials
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Материалов производственного этапа.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/7944ef04-f831-11e5-7a69-971500188b19/materials",
    "type": "productiontaskmaterial",
    "mediaType": "application/json",
    "size": 1,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/7944ef04-f831-11e5-7a69-971500188b19/materials/190703d7-99d6-11ee-0a83-0a2e00000768",
        "type": "productiontaskmaterial",
        "mediaType": "application/json"
      },
      "id": "190703d7-99d6-11ee-0a83-0a2e00000768",
      "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
      "planQuantity": 1.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/db82710a-99d5-11ee-0a83-0a2e0000072d",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=db82468b-99d5-11ee-0a83-0a2e0000072b"
        }
      }
    }
  ]
}
Добавить Материал к производственному этапу
Запрос на добавление Материала к производственному этапу.
Для успешного создания необходимо в теле запроса указать следующие поля:

assortment - ссылка на товар/модификацию/серию, которую представляет собой материал.
planQuantity - планируемое количество.

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Производственного этапа


Пример запроса на добавление Материала производственного этапа.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/7944ef04-f831-11e5-7a69-971500188b19/materials"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "planQuantity": 2,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/9656117b-b717-11ec-0с80-0bba0006dcde",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                "type": "product",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=466222d6-c1c8-11ea-c0a8-f00c00000018"
              }
            }
          }
      '

Response 200 (application/json)
Успешный запрос. Результат - JSON представление добавленного материала производственного этапа
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/7944ef04-f831-11e5-7a69-971500188b19/materials/34f6344f-015e-11e6-9464-e4de0000006c",
      "type": "productiontaskmaterial",
      "mediaType": "application/json"
    },
    "id": "34f6344f-015e-11e6-9464-e4de0000006c",
    "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
    "planQuantity": 2.0,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/9656117b-b717-11ec-0с80-0bba0006dcde",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=57c98e8c-99d8-11ee-0a83-0a2e00000771"
      }
    }
  }
]
Изменить Материал производственного этапа
Запрос на обновление отдельного Материала производственного этапа.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Производственного этапа


materialID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id материала Производственного этапа


Пример запроса на обновление количества отдельного материала производственного этапа.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/7944ef04-f831-11e5-7a69-971500188b19/materials/34f6344f-015e-11e6-9464-e4de0000006c"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "planQuantity": 3,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/57c9a841-99d8-11ee-0a83-0a2e00000773",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                "type": "product",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=466222d6-c1c8-11ea-c0a8-f00c00000018"
              }
            }
          }
      '

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного материала.
ПоказатьСвернуть
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/7944ef04-f831-11e5-7a69-971500188b19/materials/34f6344f-015e-11e6-9464-e4de0000006c",
      "type": "productiontaskmaterial",
      "mediaType": "application/json"
    },
    "id": "34f6344f-015e-11e6-9464-e4de0000006c",
    "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
    "planQuantity": 3.0,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/57c9a841-99d8-11ee-0a83-0a2e00000773",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=57c98e8c-99d8-11ee-0a83-0a2e00000358"
      }
    }
  }
Удалить Материал производственного этапа
Запрос на удаление отдельного Материала производственного этапа.
При включенном резерве, нельзя удалить последний материал в Производственном задании.
Нельзя удалить материал из этапа в котором присутствует выполненный этап.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Производственного этапа


materialID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id материала Производственного этапа


Запрос на удаление отдельного Материала производственного этапа с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/productionstage/7944ef04-f831-11e5-7a69-971500188b19/materials/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление материала Производственного этапа.

Расходный ордерРасходные ордера
Средствами JSON API можно создавать и обновлять сведения о Расходном ордере, запрашивать списки Расходных ордеров  и сведения по отдельным Расходных ордеров. Кодом сущности для Расходного ордера  в составе JSON API является ключевое слово cashout.
Атрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


agent
Meta
= !=
Метаданные контрагентаОбязательное при ответе Expand Необходимо при создании


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта


code
String(255)
= != ~ ~= =~
Код Расходного ордера


contract
Meta
= !=
Метаданные договораExpand


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления Расходного ордераТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Расходного ордера


expenseItem
Meta

Метаданные Статьи расходовОбязательное при ответе Expand Необходимо при создании


externalCode
String(255)
= != ~ ~= =~
Внешний код Расходного ордераОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


noClosingDocs
Boolean

Признак возможности привязки закрывающих документов и отключения взаиморасчетов с контрагентом по этой выплатеОбязательное при ответе Только для чтения


id
UUID
= !=
ID Расходного ордераОбязательное при ответе Только для чтения


meta
Meta

Метаданные Расходного ордераОбязательное при ответе


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование Расходного ордераОбязательное при ответе


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании


owner
Meta
= !=
Владелец (Сотрудник)Expand


paymentPurpose
String(255)
= != ~ ~= =~
ОснованиеОбязательное при ответе


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


project
Meta
= !=
Метаданные проектаExpand


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


rate
Object

Валюта. Подробнее тутОбязательное при ответе


salesChannel
Meta
= !=
Метаданные канала продажExpand


shared
Boolean
= !=
Общий доступОбязательное при ответе


state
Meta
= !=
Метаданные статуса Расходного ордераExpand


sum
Int
= != < > <= >=
Сумма расходного ордера в установленной валютеОбязательное при ответе


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


updated
DateTime
= != < > <= >=
Момент последнего обновления Расходного ордераОбязательное при ответе Только для чтения


vatSum
Float

Сумма НДСОбязательное при ответе


Связи с другими документами


Название
Описание



factureIn
Ссылка на Счет-фактуру полученный, с которым связан этот платеж в формате Метаданных


operations
Массив ссылок на связанные операции в формате Метаданных


Разрешенные типы связанных операций:

Возврат покупателя (salesreturn)
Приемка (supply)
Счет поставщика (invoicein)
Заказ поставщику (purchaseorder)
Выданный отчет комиссионера (commissionreportout)

О работе с доп. полями Расходных ордеров можно прочитать здесь
Получить Расходные ордера
Запрос всех Расходных ордеров на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Расходные ордера.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить Расходные ордера
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/cashout"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Расходных ордеров.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata",
    "type": "cashout",
    "mediaType": "application/json",
    "size": 3,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/235c14cf-41b1-11e6-8a84-bae500000073",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata",
        "type": "cashout",
        "mediaType": "application/json"
      },
      "id": "235c14cf-41b1-11e6-8a84-bae500000073",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": true,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-07-04 09:32:53",
      "name": "00002",
      "description": "Описание ордера",
      "externalCode": "wWfQT10VjQztCieUrE72r2",
      "moment": "2016-07-04 09:31:00",
      "applicable": true,
      "created": "2016-08-25 19:55:00",
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/faf45b9a-2e58-11e6-8a84-bae500000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 35000,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "contract": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/2b34d43f-3f52-11e6-8a84-bae500000066",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
          "type": "contract",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1489a08d-32ca-11e6-8a84-bae50000000d",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "state": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/states/0eda7963-41b1-11e6-8a84-bae50000006e",
          "type": "state",
          "mediaType": "application/json"
        }
      },
      "attributes": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/attributes/c8857703-3f8e-11e6-8a84-bae5000000ff",
            "type": "attributemetadata",
            "mediaType": "application/json"
          },
          "id": "c8857703-3f8e-11e6-8a84-bae5000000ff",
          "name": "AttributeName1",
          "type": "boolean",
          "value": false
        }
      ],
      "paymentPurpose": "Оплата еще одной приемки",
      "expenseItem": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
          "type": "expenseitem",
          "mediaType": "application/json"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/489afb43-41b1-11e6-8a84-bae50000007a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata",
        "type": "cashout",
        "mediaType": "application/json"
      },
      "id": "489afb43-41b1-11e6-8a84-bae50000007a",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-07-04 09:33:56",
      "name": "00003",
      "description": "Лмао",
      "externalCode": "Q9wiyzIQiOhYhqpVkq6IE2",
      "moment": "2016-07-04 09:32:00",
      "applicable": true,
      "created": "2016-08-25 19:55:00",
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/faf45b9a-2e58-11e6-8a84-bae500000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 3535000,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "contract": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/37def9c0-41b1-11e6-8a84-bae500000077",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
          "type": "contract",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/722e39f0-313e-11e6-8a84-bae500000008",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1509a2f7-32ca-11e6-8a84-bae500000068",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "state": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/states/0eda7963-41b1-11e6-8a84-bae50000006e",
          "type": "state",
          "mediaType": "application/json"
        }
      },
      "attributes": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/attributes/c8857703-3f8e-11e6-8a84-bae5000000ff",
            "type": "attributemetadata",
            "mediaType": "application/json"
          },
          "id": "c8857703-3f8e-11e6-8a84-bae5000000ff",
          "name": "AttributeName2",
          "type": "boolean",
          "value": false
        }
      ],
      "paymentPurpose": "Оплата еще одной приемки",
      "expenseItem": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
          "type": "expenseitem",
          "mediaType": "application/json"
        }
      },
      "operations": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/90ba347d-6b8b-11e6-8a84-bae5000000bd",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
            "type": "supply",
            "mediaType": "application/json"
          },
          "linkedSum": 80000
        }
      ]
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/fd9b07ea-41b0-11e6-8a84-bae500000069",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata",
        "type": "cashout",
        "mediaType": "application/json"
      },
      "id": "fd9b07ea-41b0-11e6-8a84-bae500000069",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-07-04 09:34:14",
      "name": "00001",
      "description": "Ордер созданный через UI.",
      "externalCode": "Biim5OxdjUnFcC2saaU551",
      "moment": "2016-07-04 09:30:00",
      "applicable": true,
      "created": "2016-08-25 19:55:00",
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/cdbc62de-3f68-11e6-8a84-bae500000050",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        },
        "value": 63
      },
      "sum": 3174603,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "contract": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/e16fc992-41b0-11e6-8a84-bae500000066",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
          "type": "contract",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/722e39f0-313e-11e6-8a84-bae500000008",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "state": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/states/0eda8542-41b1-11e6-8a84-bae500000070",
          "type": "state",
          "mediaType": "application/json"
        }
      },
      "attributes": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/attributes/c8857703-3f8e-11e6-8a84-bae5000000ff",
            "type": "attributemetadata",
            "mediaType": "application/json"
          },
          "id": "c8857703-3f8e-11e6-8a84-bae5000000ff",
          "name": "AttributeName3",
          "type": "boolean",
          "value": false
        }
      ],
      "paymentPurpose": "Оплата приемки",
      "expenseItem": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/82031d62-2e58-11e6-ab5c-d8cb8a84bae5",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
          "type": "expenseitem",
          "mediaType": "application/json"
        }
      }
    }
  ]
}

Создать Расходный ордер
Запрос на создание нового Расходного ордера.
Обязательные для создания поля:


Параметр
Описание



organization
Ссылка на ваше юрлицо в формате Метаданных


agent
Ссылка на контрагента в формате Метаданных


expenseItem
Статья расходов в формате Метаданных


Пример создания нового Расходного ордера  с телом запроса, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/cashout"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "expenseItem": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
                "type": "expenseitem",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Расходного ордера.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/e446a227-41b1-11e6-8a84-bae500000005",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata",
    "type": "cashout",
    "mediaType": "application/json"
  },
  "id": "e446a227-41b1-11e6-8a84-bae500000005",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "name": "0721",
  "moment": "2012-06-27 16:52:24",
  "applicable": false,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "expenseItem": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
      "type": "expenseitem",
      "mediaType": "application/json"
    }
  }
}
Массовое создание и обновление  Расходных ордеров
Массовое создание и обновление Расходных ордеров.
В теле запроса нужно передать массив, содержащий JSON представления Расходных ордеров, которые вы хотите создать или обновить.
Обновляемые Расходные ордера должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Расходных ордеров
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/cashout"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "name": "0721",
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                  "type": "counterparty",
                  "mediaType": "application/json"
                }
              },
              "expenseItem": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
                  "type": "expenseitem",
                  "mediaType": "application/json"
                }
              }
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/e446a227-41b1-11e6-8a84-bae500000005",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata",
                "type": "cashout",
                "mediaType": "application/json"
              },
              "shared": true,
              "name": "0722",
              "description": "Расходный ордер созданный и обновленный через API",
              "code": "12412470912",
              "externalCode": "unreal777slknf",
              "moment": "2016-06-27 16:52:24",
              "applicable": true,
              "sum": 25190,
              "paymentPurpose": "Оплата нового заказа поставщику",
              "expenseItem": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be23a18-0479-11e5-a260-448a5b426e7e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
                  "type": "expenseitem",
                  "mediaType": "application/json"
                }
              },
              "attributes": [
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/attributes/c88569fc-3f8e-11e6-8a84-bae5000000fd",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": 0.49
                },
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/attributes/c88570d2-3f8e-11e6-8a84-bae5000000fe",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": 7501
                },
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/attributes/c8857703-3f8e-11e6-8a84-bae5000000ff",
                    "type": "attributemetadata",
                    "mediaType": "application/json"
                  },
                  "value": true
                }
              ]
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Расходных ордеров.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/e446a227-41b1-11e6-8a84-bae500000005",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata",
      "type": "cashout",
      "mediaType": "application/json"
    },
    "id": "e446a227-41b1-11e6-8a84-bae500000005",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "name": "0721",
    "moment": "2012-06-27 16:52:24",
    "applicable": false,
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "expenseItem": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
        "type": "expenseitem",
        "mediaType": "application/json"
      }
    }
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/e446a227-41b1-11e6-8a84-bae500000005",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata",
      "type": "cashout",
      "mediaType": "application/json"
    },
    "id": "e446a227-41b1-11e6-8a84-bae500000005",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": true,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-07-04 09:41:17",
    "name": "0722",
    "description": "Расходный ордер созданный и обновленный через API",
    "code": "12412470912",
    "externalCode": "unreal777slknf",
    "moment": "2016-06-27 16:52:24",
    "applicable": true,
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 900,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "attributes": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/attributes/c88569fc-3f8e-11e6-8a84-bae5000000fd",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "c88569fc-3f8e-11e6-8a84-bae5000000fd",
        "name": "AttributeName1",
        "type": "double",
        "value": 0.49
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/attributes/c88570d2-3f8e-11e6-8a84-bae5000000fe",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "c88570d2-3f8e-11e6-8a84-bae5000000fe",
        "name": "AttributeName2",
        "type": "long",
        "value": 7501
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/attributes/c8857703-3f8e-11e6-8a84-bae5000000ff",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "c8857703-3f8e-11e6-8a84-bae5000000ff",
        "name": "AttributeName3",
        "type": "boolean",
        "value": true
      }
    ],
    "paymentPurpose": "Оплата нового заказа поставщику",
    "expenseItem": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be23a18-0479-11e5-a260-448a5b426e7e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
        "type": "expenseitem",
        "mediaType": "application/json"
      }
    }
  }
]

Удалить Расходный ордер
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Расходного ордера.


Запрос на удаление Расходного ордера  с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/cashout/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Расходного ордера.

Массовое удаление Расходных ордеров
В теле запроса нужно передать массив, содержащий JSON метаданных Расходных ордеров, которые вы хотите удалить.
Запрос на массовое удаление Расходных ордеров. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/cashout/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata",
                "type": "cashout",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata",
                "type": "cashout",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Расходных ордеров.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'cashout' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'cashout' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные Расходных ордеровМетаданные Расходных ордеров
Запрос на получение метаданных Расходных ордеров. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Расходных ордеров


attributes
Массив объектов доп. полей Расходных ордеров в формате Метаданных


states
Массив статусов Расходных ордеров


createShared
создавать новые Расходные ордера с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Расходных ордеров
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Расходных ордеров.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/attributes/c88569fc-3f8e-11e6-8a84-bae5000000fd",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c88569fc-3f8e-11e6-8a84-bae5000000fd",
      "name": "AttributeName1",
      "type": "double",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/attributes/c88570d2-3f8e-11e6-8a84-bae5000000fe",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c88570d2-3f8e-11e6-8a84-bae5000000fe",
      "name": "AttributeName2",
      "type": "long",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/attributes/c8857703-3f8e-11e6-8a84-bae5000000ff",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c8857703-3f8e-11e6-8a84-bae5000000ff",
      "name": "AttributeName3",
      "type": "boolean",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/states/0eda7963-41b1-11e6-8a84-bae50000006e",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "0eda7963-41b1-11e6-8a84-bae50000006e",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Ожидает исполнения",
      "color": 10667543,
      "stateType": "Regular",
      "entityType": "cashout"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/states/0eda80ad-41b1-11e6-8a84-bae50000006f",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "0eda80ad-41b1-11e6-8a84-bae50000006f",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Одобрено",
      "color": 4354177,
      "stateType": "Regular",
      "entityType": "cashout"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/states/0eda8542-41b1-11e6-8a84-bae500000070",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "0eda8542-41b1-11e6-8a84-bae500000070",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Подписано",
      "color": 15491487,
      "stateType": "Regular",
      "entityType": "cashout"
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/attributes/b54f1d9c-558a-11e6-8a84-bae50000006c",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "b54f1d9c-558a-11e6-8a84-bae50000006c",
  "name": "AttributeName1",
  "type": "string",
  "required": false
}
Шаблон Расходного ордераШаблон Расходного ордера
Запрос на получение предзаполненого стандартными значениями шаблона расходного ордера без связи с каким-либо документом.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/cashout/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d ''  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного расходного ордера.
ПоказатьСвернуть
{
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "expenseItem": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
      "type": "expenseitem",
      "mediaType": "application/json"
    }
  }
}
Шаблон Расходного ордера на основе
Запрос на получение предзаполненного представления расходного ордера на основе другого документа.
Запрос на получение шаблона расходного ордера на основе заказа поставщику.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/cashout/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/17a06771-961b-11e6-8a84-bae500000080",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
                  "type": "purchaseorder",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного расходного ордера.
ПоказатьСвернуть
{
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942953e-9128-11e6-8a84-bae500000054",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "paymentPurpose": "Оплата по заказу № 00001 от 2016-10-19 19:42:00. Сумма: 0,00 без НДС",
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/17a06771-961b-11e6-8a84-bae500000080",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
        "type": "purchaseorder",
        "mediaType": "application/json"
      },
      "linkedSum": 0
    }
  ],
  "expenseItem": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
      "type": "expenseitem",
      "mediaType": "application/json"
    }
  }
}

Запрос на получение шаблона расходного ордера на основе возврата покупателя.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/cashout/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/3b0f51a4-961b-11e6-8a84-bae500000086",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
                  "type": "salesreturn",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного расходного ордера.
ПоказатьСвернуть
{
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/2b0f10e4-9169-11e6-8a84-bae500000000",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "paymentPurpose": "Возврат по накладной № 00001 от 2016-10-19 19:43:00. Сумма: 0,00 без НДС",
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/3b0f51a4-961b-11e6-8a84-bae500000086",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
        "type": "salesreturn",
        "mediaType": "application/json"
      },
      "linkedSum": 0
    }
  ],
  "expenseItem": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2395a-0479-11e5-baee-448a5b426e7e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
      "type": "expenseitem",
      "mediaType": "application/json"
    }
  }
}

Запрос на получение шаблона расходного ордера на основе приемки.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/cashout/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/0f57efd5-91f3-11e6-8a84-bae500000086",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
                  "type": "supply",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного расходного ордера.
ПоказатьСвернуть
{
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "paymentPurpose": "Оплата по накладной № 123 от 2016-10-14 12:46:00. Сумма: 0,00 без НДС",
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/0f57efd5-91f3-11e6-8a84-bae500000086",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
        "type": "supply",
        "mediaType": "application/json"
      },
      "linkedSum": 0
    }
  ],
  "expenseItem": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
      "type": "expenseitem",
      "mediaType": "application/json"
    }
  }
}

Запрос на получение шаблона расходного ордера на основе счета поставщика.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/cashout/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/e43b34bc-961a-11e6-8a84-bae50000006f",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
                  "type": "invoicein",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного расходного ордера.
ПоказатьСвернуть
{
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "paymentPurpose": "Оплата по счету № 00001 от 2016-10-19 19:41:00. Сумма: 0,00 без НДС",
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/e43b34bc-961a-11e6-8a84-bae50000006f",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
        "type": "invoicein",
        "mediaType": "application/json"
      },
      "linkedSum": 0
    }
  ],
  "expenseItem": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
      "type": "expenseitem",
      "mediaType": "application/json"
    }
  }
}

Запрос на получение шаблона расходного ордера на основе выданного отчета комиссионера.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/cashout/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "operations": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/394e3f39-b322-11e6-8a84-bae50000009e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata",
                  "type": "commissionreportout",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного расходного ордера.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/b905bfb0-9128-11e6-8a84-bae50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/b8ba0d3f-9128-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-11-25 18:17:38",
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 10200850,
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/c3057574-ab01-11e6-8a84-bae500000070",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/6c6dd3f9-97a1-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/b942c396-9128-11e6-8a84-bae500000056",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b9324d71-9128-11e6-8a84-bae500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "vatSum": 0,
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/394e3f39-b322-11e6-8a84-bae50000009e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/commissionreportout/metadata",
        "type": "commissionreportout",
        "mediaType": "application/json"
      },
      "linkedSum": 10200850
    }
  ],
  "expenseItem": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be2350e-0479-11e5-b03a-448a5b426e7e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
      "type": "expenseitem",
      "mediaType": "application/json"
    }
  }
}
Расходный ордерПолучить Расходный ордер
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Расходного ордера.


Запрос на получение отдельного Расходного ордера с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/cashout/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Расходного ордера.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/fd9b07ea-41b0-11e6-8a84-bae500000069",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata",
    "type": "cashout",
    "mediaType": "application/json"
  },
  "id": "fd9b07ea-41b0-11e6-8a84-bae500000069",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-04 09:34:14",
  "name": "00001",
  "description": "Ордер созданный через UI.",
  "externalCode": "Biim5OxdjUnFcC2saaU551",
  "moment": "2016-07-04 09:30:00",
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/cdbc62de-3f68-11e6-8a84-bae500000050",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    },
    "value": 63
  },
  "sum": 3174603,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/e16fc992-41b0-11e6-8a84-bae500000066",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/722e39f0-313e-11e6-8a84-bae500000008",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/states/0eda8542-41b1-11e6-8a84-bae500000070",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/attributes/c8857703-3f8e-11e6-8a84-bae5000000ff",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c8857703-3f8e-11e6-8a84-bae5000000ff",
      "name": "AttributeName1",
      "type": "boolean",
      "value": false
    }
  ],
  "paymentPurpose": "Оплата приемки",
  "expenseItem": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/82031d62-2e58-11e6-ab5c-d8cb8a84bae5",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
      "type": "expenseitem",
      "mediaType": "application/json"
    }
  },
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/90ba347d-6b8b-11e6-8a84-bae5000000bd",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
        "type": "supply",
        "mediaType": "application/json"
      },
      "linkedSum": 80000
    }
  ]
}
Изменить Расходный ордер
Запрос на обновление Расходного ордера   с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Расходного ордера , кроме тех, что
помечены Только для чтения в описании атрибутов Расходного ордера .
При обновлении полей organization и agent нужно также обновить поля organizationAccount и
agentAccount соответственно, иначе произойдет ошибка. 
Для привязки расходного ордера к другим документам
нужно положить в поле под именем operations все meta тех документов, к которым вы хотите привязать финансовую операцию.
Также для каждого документа можно указать cумму, оплаченную по данному документу из этого платежа linkedSum.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Расходного ордера.


Пример запроса на обновление отдельного Расходного ордера.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/cashout/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "shared": true,
            "name": "0722",
            "description": "Расходный ордер созданный и обновленный через API",
            "code": "12412470912",
            "externalCode": "unreal777slknf",
            "moment": "2016-06-27 16:52:24",
            "applicable": true,
            "sum": 25190,
            "paymentPurpose": "Оплата нового заказа поставщику",
            "expenseItem": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be23a18-0479-11e5-a260-448a5b426e7e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
                "type": "expenseitem",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/attributes/c88569fc-3f8e-11e6-8a84-bae5000000fd",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": 0.49
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/attributes/c88570d2-3f8e-11e6-8a84-bae5000000fe",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": 7501
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/attributes/c8857703-3f8e-11e6-8a84-bae5000000ff",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": true
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Расходного ордера.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/e446a227-41b1-11e6-8a84-bae500000005",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata",
    "type": "cashout",
    "mediaType": "application/json"
  },
  "id": "e446a227-41b1-11e6-8a84-bae500000005",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": true,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-04 09:41:17",
  "name": "0722",
  "description": "Расходный ордер созданный и обновленный через API",
  "code": "12412470912",
  "externalCode": "unreal777slknf",
  "moment": "2016-06-27 16:52:24",
  "applicable": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 900,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/attributes/c88569fc-3f8e-11e6-8a84-bae5000000fd",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c88569fc-3f8e-11e6-8a84-bae5000000fd",
      "name": "AttributeName1",
      "type": "double",
      "value": 0.49
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/attributes/c88570d2-3f8e-11e6-8a84-bae5000000fe",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c88570d2-3f8e-11e6-8a84-bae5000000fe",
      "name": "AttributeName2",
      "type": "long",
      "value": 7501
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashout/metadata/attributes/c8857703-3f8e-11e6-8a84-bae5000000ff",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c8857703-3f8e-11e6-8a84-bae5000000ff",
      "name": "AttributeName3",
      "type": "boolean",
      "value": true
    }
  ],
  "paymentPurpose": "Оплата нового заказа поставщику",
  "expenseItem": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/1be23a18-0479-11e5-a260-448a5b426e7e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/expenseitem/metadata",
      "type": "expenseitem",
      "mediaType": "application/json"
    }
  }
}
Розничная продажа
Средствами JSON API можно создавать и обновлять сведения о Розничных продажах, запрашивать списки Розничных продаж и сведения по отдельным Розничным продажам. Позициями Розничных продаж можно управлять как в составе отдельной Розничной продажи, так и отдельно - с помощью специальных ресурсов для управления позициями Розничными продажами. Кодом сущности для Розничной продажи в составе JSON API является ключевое слово retaildemand. Больше о Розничных продажах и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по  этой ссылке в разделе Оформление продажи.
Розничные продажиАтрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения Change-handler


agent
Meta
= !=
Метаданные контрагентаОбязательное при ответе Expand Необходимо при создании Change-handler


agentAccount
Meta

Метаданные счета контрагентаExpand


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе Change-handler


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта Change-handler


cashSum
Float

Оплачено наличнымиОбязательное при ответе


checkNumber
String(255)

Номер чека


checkSum
Float

Сумма Чека


code
String(255)
= != ~ ~= =~
Код Розничной продажи


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения Change-handler


customerOrder
Meta

Метаданные Заказа ПокупателяExpand


deleted
DateTime
= != < > <= >=
Момент последнего удаления Розничной продажиТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Розничной продажиChange-handler


documentNumber
String(255)

Номер документа


externalCode
String(255)
= != ~ ~= =~
Внешний код Розничной продажиОбязательное при ответе Change-handler


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


fiscal
Boolean

Отметка о том, был ли использован ФРОбязательное при ответе Только для чтения


fiscalPrinterInfo
String(255)

Информация о фискальном регистраторе


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID Розничной продажиОбязательное при ответе Только для чтения Change-handler


meta
Meta

Метаданные Розничной продажиОбязательное при ответе Change-handler


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе Change-handler


name
String(255)
= != ~ ~= =~
Наименование Розничной продажиОбязательное при ответе Change-handler


noCashSum
Float

Оплачено картойОбязательное при ответе


ofdCode
String(255)

Код оператора фискальных данных


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании


organizationAccount
Meta

Метаданные счета юрлицаExpand


owner
Meta
= !=
Владелец (Сотрудник)Expand


payedSum
Float

Сумма входящих платежей по ОтгрузкеОбязательное при ответе Только для чтения


positions
MetaArray

Метаданные позиций Розничной продажиОбязательное при ответе Expand Change-handler


prepaymentCashSum
Float

Предоплата наличнымиОбязательное при ответе


prepaymentNoCashSum
Float

Предоплата картойОбязательное при ответе


prepaymentQrSum
Float

Предоплата по QR-кодуОбязательное при ответе


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


qrSum
Float

Оплачено по QR-кодуОбязательное при ответе


rate
Object

Валюта. Подробнее тутОбязательное при ответе Change-handler


retailShift
Meta
= !=
Метаданные Розничной сменыОбязательное при ответе Expand Необходимо при создании


retailStore
Meta
= !=
Метаданные Точки продажОбязательное при ответе Expand


sessionNumber
String(255)

Номер сессии


shared
Boolean
= !=
Общий доступОбязательное при ответе


state
Meta
= !=
Метаданные статуса Розничной продажиExpand Change-handler


store
Meta
= !=
Метаданные складаОбязательное при ответе Expand Необходимо при создании


sum
Int
= != < > <= >=
Сумма Розничной продажи в копейкахОбязательное при ответе Только для чтения Change-handler


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


taxSystem
Enum

Код системы налогообложения. Подробнее тутОбязательное при ответе


updated
DateTime
= != < > <= >=
Момент последнего обновления Розничной продажиОбязательное при ответе Только для чтения Change-handler


vatEnabled
Boolean

Учитывается ли НДСОбязательное при ответе Change-handler


vatIncluded
Boolean

Включен ли НДС в ценуChange-handler


vatSum
Float

Сумма НДСОбязательное при ответе Change-handler


Код системы налогообложения
Значения поля taxSystem.


Значение
Описание



GENERAL_TAX_SYSTEM
ОСН


SIMPLIFIED_TAX_SYSTEM_INCOME
УСН. Доход


SIMPLIFIED_TAX_SYSTEM_INCOME_OUTCOME
УСН. Доход-Расход


UNIFIED_AGRICULTURAL_TAX
ЕСХН


PRESUMPTIVE_TAX_SYSTEM
ЕНВД


PATENT_BASED
Патент


Работа с полями оплаты розничной продажи
Сумма полей cashSum, noCashSum, qrSum, prepaymentCashSum, prepaymentNoCashSum и prepaymentNoCashSum должна совпадать с суммой по Розничной продаже
(т.е. с суммарной стоимостью всех переданных вами позиций). Каждое из полей не может иметь отрицательное значение.
Смешанная оплата со способом по QR-коду недопустима. Если qrSum или prepaymentQrSum ненулевое, то другие поля не могут быть использованы, иначе вернется ошибка.
Если не используются qrSum и prepaymentQrSum (отсутствуют в запросе или передаются нулевыми):

При передаче значений нескольких полей кроме cashSum, оставшаяся часть суммы будет учтена в cashSum.
При передаче значений нескольких полей включая cashSum, но не включая noCashSum, оставшаяся часть суммы будет учтена в noCashSum.
Если передаются cashSum и noCashSum, сумма всех полей должна соответствовать сумме по Розничной продаже иначе вернется ошибка.
Если prepaymentCashSum и prepaymentNoCashSum не передаются в запросе, считается, что они равны нулю.

Если используются qrSum и prepaymentQrSum:

При передаче prepaymentQrSum, но не включая qrSum, оставшаяся часть суммы будет учтена в qrSum.
При передаче qrSum, но не включая prepaymentQrSum, оставшаяся часть суммы будет учтена в prepaymentQrSum.
Если передаются qrSum и prepaymentQrSum, сумма всех полей должна соответствовать сумме по Розничной продаже, иначе вернется ошибка.

Позиции Розничной продажи
Позиции Розничной продажи - это список товаров/услуг/модификаций/серий/комплектов.
Объект позиции Розничной продажи содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения Change-handler


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияОбязательное при ответе Expand Change-handler


cost
Int
Себестоимость (только для услуг)


discount
Int
Процент скидки или наценки. Наценка указывается отрицательным числом, т.е. -10 создаст наценку в 10%Обязательное при ответе Change-handler


id
UUID
ID позицииОбязательное при ответе Только для чтения Change-handler


pack
Object
Упаковка Товара. Подробнее тутChange-handler


price
Float
Цена товара/услуги в копейкахОбязательное при ответе Change-handler


quantity
Float
Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.Обязательное при ответе Change-handler


things
Array(String)
Серийные номера. Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете. В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута.Change-handler


vat
Int
НДС, которым облагается текущая позицияОбязательное при ответе Change-handler


vatEnabled
Boolean
Включен ли НДС для позиции. С помощью этого флага для позиции можно выставлять НДС = 0 или НДС = "без НДС". (vat = 0, vatEnabled = false) -> vat = "без НДС", (vat = 0, vatEnabled = true) -> vat = 0%.Обязательное при ответе Change-handler


С позициями можно работать с помощью специальных ресурсов для управления позициями Розничной продажи,
а также в составе отдельной Розничной продажи. При работе в составе отдельной Розничной продажи,
вы можете отправлять запросы на создание отдельной Розничной продажи с включенным в тело запроса
массивом позиций Розничной продажи. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Розничной продажи".
Также, при работе в составе отдельной Розничной продажи, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Розничной продажи. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Розничной продажи" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
О работе с доп. полями Розничных продаж можно прочитать здесь
Получить Розничные продажи
Запрос всех Розничных продаж на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Розничные продажи.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить Розничные продажи
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Розничных продаж.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/",
    "type": "retaildemand",
    "mediaType": "application/json",
    "size": 4,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/0b71daec-055e-11e6-9464-e4de0000007e",
        "type": "retaildemand",
        "mediaType": "application/json"
      },
      "id": "0b71daec-055e-11e6-9464-e4de0000007e",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "updated": "2016-04-18 15:06:55",
      "name": "00001",
      "externalCode": "wxMDIT3-gAn3dmPrr451P0",
      "owner": {
        "name": "Администратор"
      },
      "shared": false,
      "group": {
        "name": "Основной"
      },
      "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
      "moment": "2016-04-18 15:06:00",
      "applicable": true,
      "vatEnabled": true,
      "vatIncluded": true,
      "printed": true,
      "published": true,
      "sum": 5100,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/8518d001-f504-11e5-8a84-bae50000016a",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "attributes": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
            "type": "attributemetadata",
            "mediaType": "application/json"
          },
          "id": "bb08dccf-0bd2-11e6-9464-e4de000000ae",
          "name": "AttributeName1",
          "type": "string",
          "value": "AttributeValue1"
        }
      ],
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/0b71daec-055e-11e6-9464-e4de0000007e/positions",
          "type": "demandposition",
          "mediaType": "application/json",
          "size": 2,
          "limit": 1000,
          "offset": 0
        }
      },
      "payedSum": 0,
      "fiscal": false,
      "retailStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/851f8576-f504-11e5-8a84-bae50000016c",
          "type": "retailstore",
          "mediaType": "application/json"
        }
      },
      "retailShift": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
          "type": "retailshift",
          "mediaType": "application/json"
        }
      },
      "cashSum": 5100,
      "noCashSum": 0,
      "qrSum": 0,
      "prepaymentCashSum": 0,
      "prepaymentNoCashSum": 0,
      "prepaymentQrSum": 0,
      "taxSystem": "GENERAL_TAX_SYSTEM"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/cdccba00-0563-11e6-9464-e4de00000090",
        "type": "retaildemand",
        "mediaType": "application/json"
      },
      "id": "cdccba00-0563-11e6-9464-e4de00000090",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "updated": "2016-04-18 15:48:09",
      "name": "00002",
      "externalCode": "ctnglspQg2UGQ388P4pzY3",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "syncId": "d8996a1c-e7ea-470a-994f-a82fdf3190e5",
      "moment": "2016-04-18 15:48:00",
      "applicable": true,
      "vatEnabled": true,
      "vatIncluded": true,
      "printed": true,
      "published": true,
      "sum": 1800,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/8518d001-f504-11e5-8a84-bae50000016a",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "attributes": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
            "type": "attributemetadata",
            "mediaType": "application/json"
          },
          "id": "bb08dccf-0bd2-11e6-9464-e4de000000ae",
          "name": "AttributeName1",
          "type": "string",
          "value": "AttributeValue1"
        }
      ],
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/cdccba00-0563-11e6-9464-e4de00000090/positions",
          "type": "demandposition",
          "mediaType": "application/json",
          "size": 4,
          "limit": 1000,
          "offset": 0
        }
      },
      "payedSum": 0,
      "fiscal": false,
      "retailStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/851f8576-f504-11e5-8a84-bae50000016c",
          "type": "retailstore",
          "mediaType": "application/json"
        }
      },
      "retailShift": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/cd86df19-0563-11e6-9464-e4de0000008e",
          "type": "retailshift",
          "mediaType": "application/json"
        }
      },
      "cashSum": 0,
      "noCashSum": 1800,
      "qrSum": 0,
      "prepaymentCashSum": 0,
      "prepaymentNoCashSum": 0,
      "prepaymentQrSum": 0
    }
  ]
}
Создать Розничную продажу
Розничная смена, на которую указывает ссылка при создании Розничной продажи обязательно должна быть активной.
При создании Розничной продажи через JSON API, дата, указанная в moment продажи
должна быть позже даты, указанной в moment активной розничной смены, иначе
произойдет ошибка.
Обязательные поля при создании новой Розничной продажи:

retailShift - Сссылка на Розничную смену, в рамках которой происходит продажа

Пример создания новой Розничной продажи с телом запроса, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "retailShift": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
                "type": "retailshift",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Розничной продажи.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/fb5cbcba-0c4e-11e6-9464-e4de00000000",
    "type": "retaildemand",
    "mediaType": "application/json"
  },
  "id": "fb5cbcba-0c4e-11e6-9464-e4de00000000",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "updated": "2016-04-27 11:06:44",
  "name": "00001",
  "externalCode": "zyOXI-sjg98Ns7iwAA2Pe2",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-27 11:06:44",
  "applicable": true,
  "vatEnabled": true,
  "vatIncluded": true,
  "sum": 0,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/8518d001-f504-11e5-8a84-bae50000016a",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/fb5cbcba-0c4e-11e6-9464-e4de00000000/positions",
      "type": "demandposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "fiscal": false,
  "retailStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/851f8576-f504-11e5-8a84-bae50000016c",
      "type": "retailstore",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
      "type": "retailshift",
      "mediaType": "application/json"
    }
  },
  "cashSum": 0,
  "noCashSum": 0,
  "qrSum": 0,
  "prepaymentCashSum": 0,
  "prepaymentNoCashSum": 0,
  "prepaymentQrSum": 0
}


Пример создания новой Розничной продажи с более насыщенным телом запроса.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "retailShift": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
                "type": "retailshift",
                "mediaType": "application/json"
              }
            },
            "name": "666demand",
            "code": "fuuuuCode1",
            "externalCode": "sd1wqsfa2qas",
            "moment": "2016-04-27 13:06:44",
            "applicable": true,
            "sum": 200,
            "payedSum": 200,
            "fiscal": true,
            "fiscalPrinterInfo": "The freaking best FiscalPrinter ever!!",
            "documentNumber": 39,
            "checkNumber": 124421,
            "checkSum": 200,
            "sessionNumber": 251251,
            "ofdCode": 13
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Розничной продажи.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/debee00e-0c59-11e6-9464-e4de00000008",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
    "type": "retaildemand",
    "mediaType": "application/json"
  },
  "id": "debee00e-0c59-11e6-9464-e4de00000008",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "updated": "2016-04-27 12:24:40",
  "name": "666demand",
  "code": "fuuuuCode1",
  "externalCode": "sd1wqsfa2qas",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-27 13:06:44",
  "applicable": true,
  "vatEnabled": true,
  "vatIncluded": true,
  "sum": 0,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/8518d001-f504-11e5-8a84-bae50000016a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/debee00e-0c59-11e6-9464-e4de00000008/positions",
      "type": "demandposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "fiscalPrinterInfo": "The freaking best FiscalPrinter ever!!",
  "documentNumber": 39,
  "checkNumber": 124421,
  "checkSum": 200,
  "fiscal": true,
  "sessionNumber": 13,
  "retailStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/851f8576-f504-11e5-8a84-bae50000016c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
      "type": "retailstore",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json"
    }
  },
  "cashSum": 0,
  "noCashSum": 0,
  "qrSum": 0,
  "prepaymentCashSum": 0,
  "prepaymentNoCashSum": 0,
  "prepaymentQrSum": 0
}

Пример запроса на создание Розничной продажи с позициями в теле запроса.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "retailShift": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
                "type": "retailshift",
                "mediaType": "application/json"
              }
            },
            "name": "666demansd",
            "code": "fuuuuCodfe1",
            "externalCode": "sd1wqsfa2qas",
            "moment": "2016-04-27 13:06:44",
            "applicable": true,
            "sum": 200,
            "payedSum": 200,
            "fiscal": true,
            "fiscalPrinterInfo": "The freaking best FiscalPrinter ever!!",
            "documentNumber": 39,
            "checkNumber": 124421,
            "checkSum": 200,
            "sessionNumber": 251251,
            "ofdCode": 13,
            "positions": [
              {
                "quantity": 10,
                "price": 100.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/8b382799-f7d2-11e5-8a84-bae5000003a5",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 20,
                "price": 200.0,
                "discount": 0,
                "vat": 21,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/be903062-f504-11e5-8a84-bae50000019a",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 30,
                "price": 300.0,
                "discount": 0,
                "vat": 7,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/service/c02e3a5c-007e-11e6-9464-e4de00000006",
                    "type": "service",
                    "mediaType": "application/json"
                  }
                },
                "cost": 130
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Розничной продажи.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/2ef43ba7-0c5a-11e6-9464-e4de0000000c",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
    "type": "retaildemand",
    "mediaType": "application/json"
  },
  "id": "2ef43ba7-0c5a-11e6-9464-e4de0000000c",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "updated": "2016-04-27 12:26:55",
  "name": "666demansd",
  "code": "fuuuuCodfe1",
  "externalCode": "sd1wqsfa2qas",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-27 13:06:44",
  "applicable": true,
  "vatEnabled": true,
  "vatIncluded": true,
  "sum": 14000,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/8518d001-f504-11e5-8a84-bae50000016a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/2ef43ba7-0c5a-11e6-9464-e4de0000000c/positions",
      "type": "demandposition",
      "mediaType": "application/json",
      "size": 3,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "fiscalPrinterInfo": "The freaking best FiscalPrinter ever!!",
  "documentNumber": 39,
  "checkNumber": 124421,
  "checkSum": 200,
  "fiscal": true,
  "sessionNumber": 13,
  "retailStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/851f8576-f504-11e5-8a84-bae50000016c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
      "type": "retailstore",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json"
    }
  },
  "cashSum": 14000,
  "noCashSum": 0,
  "qrSum": 0,
  "prepaymentCashSum": 0,
  "prepaymentNoCashSum": 0,
  "prepaymentQrSum": 0
}

Пример запроса на создание Розничной продажи с доп. полями.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "retailShift": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
                "type": "retailshift",
                "mediaType": "application/json"
              }
            },
            "name": "666demansd",
            "code": "fuuuuCodfe1",
            "externalCode": "sd1wqsfa2qas",
            "moment": "2016-04-27 13:06:44",
            "applicable": true,
            "sum": 200,
            "payedSum": 200,
            "fiscal": true,
            "fiscalPrinterInfo": "The freaking best FiscalPrinter ever!!",
            "documentNumber": 39,
            "checkNumber": 124421,
            "checkSum": 200,
            "sessionNumber": 251251,
            "ofdCode": 13,
            "positions": [
              {
                "quantity": 10,
                "price": 100.0,
                "discount": 0,
                "vat": 0,
                "product": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/8b382799-f7d2-11e5-8a84-bae5000003a5",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 20,
                "price": 200.0,
                "discount": 0,
                "vat": 21,
                "product": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/be903062-f504-11e5-8a84-bae50000019a",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 30,
                "price": 300.0,
                "discount": 0,
                "vat": 7,
                "product": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/c02e3a5c-007e-11e6-9464-e4de00000006",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              }
            ],
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "AttributeValue1"
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Розничной продажи.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/d6dd9a8a-0c5a-11e6-9464-e4de00000016",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
    "type": "retaildemand",
    "mediaType": "application/json"
  },
  "id": "d6dd9a8a-0c5a-11e6-9464-e4de00000016",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "updated": "2016-04-27 12:31:37",
  "name": "666demansd",
  "code": "fuuuuCodfe1",
  "externalCode": "sd1wqsfa2qas",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-27 13:06:44",
  "applicable": true,
  "vatEnabled": true,
  "vatIncluded": true,
  "sum": 14000,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/8518d001-f504-11e5-8a84-bae50000016a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "bb08dccf-0bd2-11e6-9464-e4de000000ae",
      "name": "AttributeName1",
      "type": "string",
      "value": "AttributeValue1"
    }
  ],
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/d6dd9a8a-0c5a-11e6-9464-e4de00000016/positions",
      "type": "demandposition",
      "mediaType": "application/json",
      "size": 3,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "fiscalPrinterInfo": "The freaking best FiscalPrinter ever!!",
  "documentNumber": 39,
  "checkNumber": 124421,
  "checkSum": 200,
  "fiscal": true,
  "sessionNumber": 13,
  "retailStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/851f8576-f504-11e5-8a84-bae50000016c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
      "type": "retailstore",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json"
    }
  },
  "cashSum": 14000,
  "noCashSum": 0,
  "qrSum": 0,
  "prepaymentCashSum": 0,
  "prepaymentNoCashSum": 0,
  "prepaymentQrSum": 0
}
Массовое создание и обновление Розничных продаж
Массовое создание и обновление Розничных продаж.
В теле запроса нужно передать массив, содержащий JSON представления Розничных продаж, которые вы хотите создать или обновить.
Обновляемые Розничные продажи должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Розничных продаж
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "retailShift": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
                  "type": "retailshift",
                  "mediaType": "application/json"
                }
              },
              "name": "666dem"
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/d6dd9a8a-0c5a-11e6-9464-e4de00000016",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
                "type": "retaildemand",
                "mediaType": "application/json"
              },
              "retailShift": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
                  "type": "retailshift",
                  "mediaType": "application/json"
                }
              },
              "name": "100500_200_300",
              "moment": "2016-04-30 13:06:42",
              "applicable": false,
              "sum": 32402222220,
              "payedSum": 23622200,
              "fiscal": false,
              "fiscalPrinterInfo": "The freaking worst FiscalPrinter ever!!",
              "documentNumber": 3,
              "checkNumber": 1221,
              "checkSum": 1,
              "sessionNumber": 251251,
              "ofdCode": 13
            }
          ]
'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Розничных продаж.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/fb5cbcba-0c4e-11e6-9464-e4de00000000",
      "type": "retaildemand",
      "mediaType": "application/json"
    },
    "id": "fb5cbcba-0c4e-11e6-9464-e4de00000000",
    "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
    "updated": "2016-04-27 11:06:44",
    "name": "666dem",
    "externalCode": "zyOXI-sjg98Ns7iwAA2Pe2",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "moment": "2016-04-27 11:06:44",
    "applicable": true,
    "vatEnabled": true,
    "vatIncluded": true,
    "sum": 0,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/8518d001-f504-11e5-8a84-bae50000016a",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "attributes": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "bb08dccf-0bd2-11e6-9464-e4de000000ae",
        "name": "AttributeName1",
        "type": "string",
        "value": "AttributeValue1"
      }
    ],
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/fb5cbcba-0c4e-11e6-9464-e4de00000000/positions",
        "type": "demandposition",
        "mediaType": "application/json",
        "size": 0,
        "limit": 1000,
        "offset": 0
      }
    },
    "payedSum": 0,
    "fiscal": false,
    "retailStore": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/851f8576-f504-11e5-8a84-bae50000016c",
        "type": "retailstore",
        "mediaType": "application/json"
      }
    },
    "retailShift": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
        "type": "retailshift",
        "mediaType": "application/json"
      }
    },
    "cashSum": 0,
    "noCashSum": 0,
    "qrSUm": 0,
    "prepaymentCashSum": 0,
    "prepaymentNoCashSum": 0,
    "prepaymentQrSum": 0
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/d6dd9a8a-0c5a-11e6-9464-e4de00000016",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
      "type": "retaildemand",
      "mediaType": "application/json"
    },
    "id": "d6dd9a8a-0c5a-11e6-9464-e4de00000016",
    "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
    "updated": "2016-04-27 12:49:57",
    "name": "100500_200_300",
    "code": "fuuuuCodfe1",
    "externalCode": "sd1wqsfa2qas",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "moment": "2016-04-30 13:06:42",
    "applicable": false,
    "vatEnabled": true,
    "vatIncluded": true,
    "sum": 17722,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/8518d001-f504-11e5-8a84-bae50000016a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "attributes": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "bb08dccf-0bd2-11e6-9464-e4de000000ae",
        "name": "AttributeName1",
        "type": "string",
        "value": "AttributeValue1"
      }
    ],
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/d6dd9a8a-0c5a-11e6-9464-e4de00000016/positions",
        "type": "demandposition",
        "mediaType": "application/json",
        "size": 2,
        "limit": 1000,
        "offset": 0
      }
    },
    "payedSum": 0,
    "fiscalPrinterInfo": "The freaking worst FiscalPrinter ever!!",
    "documentNumber": 3,
    "checkNumber": 1221,
    "checkSum": 1,
    "fiscal": false,
    "sessionNumber": 13,
    "retailStore": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/851f8576-f504-11e5-8a84-bae50000016c",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
        "type": "retailstore",
        "mediaType": "application/json"
      }
    },
    "retailShift": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
        "type": "retailshift",
        "mediaType": "application/json"
      }
    },
    "cashSum": 17722,
    "noCashSum": 0,
    "qrSum": 0,
    "prepaymentCashSum": 0,
    "prepaymentNoCashSum": 0,
    "prepaymentQrSum": 0
  }
]
Удалить Розничную продажу
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Розничной продажи.


Запрос на удаление Розничной продажи с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Розничной продажи.

Массовое удаление Розничных продаж
В теле запроса нужно передать массив, содержащий JSON метаданных Розничных продаж, которые вы хотите удалить.
Запрос на массовое удаление Розничных продаж. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
                "type": "retaildemand",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
                "type": "retaildemand",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Розничных продаж.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'retaildemand' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'retaildemand' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные Розничных продажМетаданные Розничных продаж
Запрос на получение метаданных Розничных продаж. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Розничных продаж


attributes
Массив объектов доп. полей Розничных продаж в формате Метаданных


states
Массив статусов Розничных продаж


createShared
создавать новые Розничные продажи с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Розничных продаж
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Розничных продаж.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata/attributes/bb08dccf-0bd2-11e6-9464-e4de000000ae",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "bb08dccf-0bd2-11e6-9464-e4de000000ae",
      "name": "AttributeName1",
      "type": "string",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56c504-2e58-11e6-8a84-bae500000069",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Новый",
      "color": 15106326,
      "stateType": "Regular",
      "entityType": "retaildemand"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata/states/fb56cae3-2e58-11e6-8a84-bae50000006a",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56cae3-2e58-11e6-8a84-bae50000006a",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Подтвержден",
      "color": 40931,
      "stateType": "Regular",
      "entityType": "retaildemand"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata/states/fb56cf4f-2e58-11e6-8a84-bae50000006b",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56cf4f-2e58-11e6-8a84-bae50000006b",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Собран",
      "color": 8767198,
      "stateType": "Regular",
      "entityType": "retaildemand"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata/states/fb56d433-2e58-11e6-8a84-bae50000006c",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56d433-2e58-11e6-8a84-bae50000006c",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Отгружен",
      "color": 10774205,
      "stateType": "Regular",
      "entityType": "retaildemand"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata/states/fb56d92f-2e58-11e6-8a84-bae50000006d",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56d92f-2e58-11e6-8a84-bae50000006d",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Доставлен",
      "color": 8825440,
      "stateType": "Successful",
      "entityType": "retaildemand"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata/states/fb56de0a-2e58-11e6-8a84-bae50000006e",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56de0a-2e58-11e6-8a84-bae50000006e",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Возврат",
      "color": 15280409,
      "stateType": "Unsuccessful",
      "entityType": "retaildemand"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata/states/fb56e2b4-2e58-11e6-8a84-bae50000006f",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56e2b4-2e58-11e6-8a84-bae50000006f",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Отменен",
      "color": 15280409,
      "stateType": "Unsuccessful",
      "entityType": "retaildemand"
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata/attributes/f04d010f-558c-11e6-8a84-bae50000009d",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "f04d010f-558c-11e6-8a84-bae50000009d",
  "name": "AttributeName1",
  "type": "text",
  "required": true
}
Шаблон Розничной продажиШаблон Розничной продажи
Запрос на получение предзаполненого стандартными значениями шаблона розничной продажи на основе других документов.
При получении шаблона розничной продажи, всегда обязательно указывать ссылку на розничную смену. Без связи со сменой, получить шаблон продажи нельзя.
Шаблон продажи можно получить на основе:

Розничной смены
Заказа покупателя

Пример получения шаблона розничной продажи с телом запроса, содержащим информацию о розничной смене.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "retailShift": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
                "type": "retailshift",
                "mediaType": "application/json"
              }
            },
            "name": "666dem"
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной розничной продажи.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d7a0c095-d7d9-11e6-1542-821d0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d732fca4-d7d9-11e6-1542-821d00000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2017-03-16 16:09:44",
  "applicable": true,
  "sum": 0,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d7db331a-d7d9-11e6-1542-821d00000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/d7cac318-d7d9-11e6-1542-821d00000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "retailShift": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
        "type": "retailshift",
        "mediaType": "application/json"
      }
    }
  },
  "documents": {
    "rows": []
  },
  "positions": {
    "rows": []
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "payedSum": 0,
  "fiscal": false,
  "cashSum": 0,
  "noCashSum": 0,
  "qrSum": 0,
  "prepaymentCashSum": 0,
  "prepaymentNoCashSum": 0,
  "prepaymentQrSum": 0
}

Пример получения шаблона розничной продажи с телом запроса, содержащим информацию о розничной смене и заказе покупателя.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "retailShift": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
                "type": "retailshift",
                "mediaType": "application/json"
              }
            },
            "customerOrder": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/1b2b2caf-055e-11e6-9464-e4de0000007c",
                "type": "customerorder",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной розничной продажи.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d7a0c095-d7d9-11e6-1542-821d0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d732fca4-d7d9-11e6-1542-821d00000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2017-03-16 16:09:44",
  "applicable": true,
  "sum": 0,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d7db331a-d7d9-11e6-1542-821d00000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/d7cac318-d7d9-11e6-1542-821d00000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "retailShift": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
        "type": "retailshift",
        "mediaType": "application/json"
      }
    }
  },
  "positions": [
    {
      "quantity": 1,
      "price": 1000.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/9f9ac08a-e0e3-11e7-9464-e4de00000003",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
        }
      }
    }
  ],
  "vatEnabled": true,
  "vatIncluded": true,
  "payedSum": 0,
  "fiscal": false,
  "cashSum": 0,
  "noCashSum": 0,
  "qrSum": 0,
  "prepaymentCashSum": 0,
  "prepaymentNoCashSum": 0,
  "prepaymentQrSum": 0,
  "customerOrder": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/1b2b2caf-055e-11e6-9464-e4de0000007c",
      "type": "customerorder",
      "mediaType": "application/json"
    }
  }
}
Розничная продажаПолучить Розничную продажу
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Розничной продажи.


Запрос на получение отдельной Розничной продажи с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Розничной продажи с указанным id.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/cdccba00-0563-11e6-9464-e4de00000090",
    "type": "retaildemand",
    "mediaType": "application/json"
  },
  "id": "cdccba00-0563-11e6-9464-e4de00000090",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "updated": "2016-04-18 15:48:09",
  "name": "00002",
  "externalCode": "ctnglspQg2UGQ388P4pzY3",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "syncId": "d8996a1c-e7ea-470a-994f-a82fdf3190e5",
  "moment": "2016-04-18 15:48:00",
  "applicable": true,
  "vatEnabled": true,
  "vatIncluded": true,
  "sum": 1800,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/8518d001-f504-11e5-8a84-bae50000016a",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "bb08dccf-0bd2-11e6-9464-e4de000000ae",
      "name": "AttributeName1",
      "type": "string",
      "value": "AttributeValue1"
    }
  ],
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/cdccba00-0563-11e6-9464-e4de00000090/positions",
      "type": "demandposition",
      "mediaType": "application/json",
      "size": 4,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "fiscal": false,
  "retailStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/851f8576-f504-11e5-8a84-bae50000016c",
      "type": "retailstore",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/cd86df19-0563-11e6-9464-e4de0000008e",
      "type": "retailshift",
      "mediaType": "application/json"
    }
  },
  "cashSum": 0,
  "noCashSum": 1800,
  "qrSum": 0,
  "prepaymentCashSum": 0,
  "prepaymentNoCashSum": 0,
  "prepaymentQrSum": 0
}
Изменить Розничную продажу
Запрос на обновление Розничной продажи с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Розничной продажи, кроме тех, что
помечены Только для чтения в описании атрибутов Розничной продажи.
При обновлении полей organization и agent нужно также обновить поля organizationAccount и
agentAccount соответственно, иначе произойдет ошибка.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Розничной продажи.


Пример запроса на обновление Розничной продажи.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "retailShift": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
                "type": "retailshift",
                "mediaType": "application/json"
              }
            },
            "name": "100500_200_300",
            "moment": "2016-04-30 13:06:42",
            "applicable": false,
            "sum": 32402222220,
            "payedSum": 23622200,
            "fiscal": false,
            "fiscalPrinterInfo": "The freaking worst FiscalPrinter ever!!",
            "documentNumber": 3,
            "checkNumber": 1221,
            "checkSum": 1,
            "sessionNumber": 251251,
            "ofdCode": 13
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной Розничной продажи.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/d6dd9a8a-0c5a-11e6-9464-e4de00000016",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
    "type": "retaildemand",
    "mediaType": "application/json"
  },
  "id": "d6dd9a8a-0c5a-11e6-9464-e4de00000016",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "updated": "2016-04-27 12:49:57",
  "name": "100500_200_300",
  "code": "fuuuuCodfe1",
  "externalCode": "sd1wqsfa2qas",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-30 13:06:42",
  "applicable": false,
  "vatEnabled": true,
  "vatIncluded": true,
  "sum": 17722,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/8518d001-f504-11e5-8a84-bae50000016a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "bb08dccf-0bd2-11e6-9464-e4de000000ae",
      "name": "AttributeName1",
      "type": "string",
      "value": "AttributeValue1"
    }
  ],
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/d6dd9a8a-0c5a-11e6-9464-e4de00000016/positions",
      "type": "demandposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "fiscalPrinterInfo": "The freaking worst FiscalPrinter ever!!",
  "documentNumber": 3,
  "checkNumber": 1221,
  "checkSum": 1,
  "fiscal": false,
  "sessionNumber": 13,
  "retailStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/851f8576-f504-11e5-8a84-bae50000016c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
      "type": "retailstore",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json"
    }
  },
  "cashSum": 17722,
  "noCashSum": 0,
  "qrSum": 0,
  "prepaymentCashSum": 0,
  "prepaymentNoCashSum": 0,
  "prepaymentQrSum": 0
}

Пример запроса на обновление Розничной продажи с доп. полями и позициями в теле запроса.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "retailShift": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
                "type": "retailshift",
                "mediaType": "application/json"
              }
            },
            "name": "100500",
            "moment": "2016-04-27 13:06:42",
            "applicable": true,
            "sum": 32400,
            "payedSum": 23622200,
            "fiscal": true,
            "fiscalPrinterInfo": "The freaking best FiscalPrinter ever!!",
            "documentNumber": 329,
            "checkNumber": 124421,
            "checkSum": 200,
            "sessionNumber": 251251,
            "ofdCode": 13,
            "positions": [
              {
                "quantity": 10,
                "price": 1330.0,
                "discount": 0,
                "vat": 1,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/8b382799-f7d2-11e5-8a84-bae5000003a5",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 22,
                "price": 201.0,
                "discount": 0,
                "vat": 21,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/be903062-f504-11e5-8a84-bae50000019a",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              }
            ],
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "AttributeValue1"
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной Розничной продажи.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/d6dd9a8a-0c5a-11e6-9464-e4de00000016",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
    "type": "retaildemand",
    "mediaType": "application/json"
  },
  "id": "d6dd9a8a-0c5a-11e6-9464-e4de00000016",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "updated": "2016-04-27 12:47:21",
  "name": "100500",
  "code": "fuuuuCodfe1",
  "externalCode": "sd1wqsfa2qas",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-27 13:06:42",
  "applicable": true,
  "vatEnabled": true,
  "vatIncluded": true,
  "sum": 17722,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/8518d001-f504-11e5-8a84-bae50000016a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "bb08dccf-0bd2-11e6-9464-e4de000000ae",
      "name": "AttributeName1",
      "type": "string",
      "value": "AttributeValue1"
    }
  ],
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/d6dd9a8a-0c5a-11e6-9464-e4de00000016/positions",
      "type": "demandposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "fiscalPrinterInfo": "The freaking best FiscalPrinter ever!!",
  "documentNumber": 329,
  "checkNumber": 124421,
  "checkSum": 200,
  "fiscal": true,
  "sessionNumber": 13,
  "retailStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/851f8576-f504-11e5-8a84-bae50000016c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
      "type": "retailstore",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json"
    }
  },
  "cashSum": 17722,
  "noCashSum": 0,
  "qrSum": 0,
  "prepaymentCashSum": 0,
  "prepaymentNoCashSum": 0,
  "prepaymentQrSum": 0
}
Позиции Розничной продажи
Отдельный ресурс для управления позициями Розничной продажи. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить позиции
Запрос на получение списка всех позиций данной Розничной продажи.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой позиции Розничной продажи.


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Розничной продажи.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить позиции
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/7944ef04-f831-11e5-7a69-971500188b19/positions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций Розничной продажи.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/7944ef04-f831-11e5-7a69-971500188b19/positions",
    "type": "demandposition",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/7944ef04-f831-11e5-7a69-971500188b19/positions/0b7ab774-055e-11e6-9464-e4de0000007f",
        "type": "demandposition",
        "mediaType": "application/json"
      },
      "id": "0b7ab774-055e-11e6-9464-e4de0000007f",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "quantity": 17,
      "price": 300.0,
      "discount": 0,
      "vat": 18,
      "vatEnabled": true,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/service/60fc3826-00d7-11e6-9464-e4de00000097",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "service",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#service/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
        }
      },
      "cost": 100
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/7944ef04-f831-11e5-7a69-971500188b19/positions/0b7acad5-055e-11e6-9464-e4de00000080",
        "type": "demandposition",
        "mediaType": "application/json"
      },
      "id": "0b7acad5-055e-11e6-9464-e4de00000080",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "quantity": 1,
      "price": 0.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/e91042b4-fa34-11e5-9464-e4de00000095",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
          "type": "variant",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
        },
        "things": [
          "1013431",
          "31d22211sa"
        ]
      }
    }
  ]
}
Позиция Розничной продажиПолучить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Розничной продажи.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Розничной продажи.


Запрос на получение отдельной позиции Розничной продажи с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Розничной продажи.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "demandposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "quantity": 17,
  "price": 300.0,
  "discount": 0,
  "vat": 18,
  "vatEnabled": true,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/service/60fc3826-00d7-11e6-9464-e4de00000097",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "service",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#service/edit?id=392c045c-2842-11e9-ac12-000a00000002"
    }
  },
  "cost": 100
}
Создать позицию
Запрос на создание новой позиции в Розничной продаже.
Для успешного создания необходимо в теле запроса указать следующие поля:

assortment - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем service, consignment, variant в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании позиции Розничной продажи.
quantity - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций Розничной продажи. Все созданные данным запросом позиции
будут добавлены к уже существующим.

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Розничной продажи.


Пример запроса на создание позиций в Розничной продаже.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "quantity": 103,
              "price": 999.0,
              "discount": 0,
              "vat": 0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/8b382799-f7d2-11e5-8a84-bae5000003a5",
                  "type": "product",
                  "mediaType": "application/json"
                }
              },
              "things": [
                "1013431",
                "31d22211sa"
              ]
            },
            {
              "quantity": 21,
              "price": 100.0,
              "discount": 0,
              "vat": 21,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/be903062-f504-11e5-8a84-bae50000019a",
                  "type": "product",
                  "mediaType": "application/json"
                }
              }
            },
            {
              "quantity": 3,
              "price": 35300.0,
              "discount": 0,
              "vat": 7,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/service/c02e3a5c-007e-11e6-9464-e4de00000006",
                  "type": "service",
                  "mediaType": "application/json"
                }
              },
              "cost": 130
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданных позиций.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/7944ef04-f831-11e5-7a69-971500188b19/positions/36a91302-0c60-11e6-9464-e4de00000029",
      "type": "demandposition",
      "mediaType": "application/json"
    },
    "id": "36a91302-0c60-11e6-9464-e4de00000029",
    "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
    "quantity": 103,
    "price": 999.0,
    "discount": 0,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/8b382799-f7d2-11e5-8a84-bae5000003a5",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
      }
    },
    "things": [
      "1013431",
      "31d22211sa"
    ]
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/7944ef04-f831-11e5-7a69-971500188b19/positions/36a91e63-0c60-11e6-9464-e4de0000002a",
      "type": "demandposition",
      "mediaType": "application/json"
    },
    "id": "36a91e63-0c60-11e6-9464-e4de0000002a",
    "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
    "quantity": 21,
    "price": 100.0,
    "discount": 0,
    "vat": 21,
    "vatEnabled": true,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/be903062-f504-11e5-8a84-bae50000019a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
      }
    }
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/7944ef04-f831-11e5-7a69-971500188b19/positions/36a92838-0c60-11e6-9464-e4de0000002b",
      "type": "demandposition",
      "mediaType": "application/json"
    },
    "id": "36a92838-0c60-11e6-9464-e4de0000002b",
    "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
    "quantity": 3,
    "price": 35300.0,
    "discount": 0,
    "vat": 7,
    "vatEnabled": true,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/service/c02e3a5c-007e-11e6-9464-e4de00000006",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "service",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#service/edit?id=392c045c-2842-11e9-ac12-000a00000002"
      }
    },
    "cost": 130
  }
]
Изменить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Розничной продажи.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Розничной продажи.


Запрос на обновление отдельной позиции Розничной продажи.
Пример запроса на обновление отдельной позиции в Розничной продаже.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 90,
            "price": 26700.0,
            "discount": 0,
            "vat": 0,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/eeef177f-f648-11e5-8a84-bae50000007a",
                "type": "product",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной позиции Розничной продажи.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "demandposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "quantity": 90,
  "price": 26700.0,
  "discount": 0,
  "vat": 0,
  "vatEnabled": false,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/eeef177f-f648-11e5-8a84-bae50000007a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=392c045c-2842-11e9-ac12-000a00000002"
    }
  }
}
Удалить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Розничной продажи.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Розничной продажи.


Запрос на удаление отдельной позиции Розничной продажи с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление позиции Розничной продажи.

Массовое удаление позиций
Параметры


Параметр
Описание



id
string (required) Example: 3e1c03bb-684f-11ee-ac12-000c000000b0 id Розничной продажи.


Запрос на массовое удаление позиций Розничной продажи.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "demandposition",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "demandposition",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление позиций Розничной продажи. 

Розничная сменаРозничные смены
Средствами JSON API можно запрашивать списки Розничных смен и сведения по отдельным Розничным сменам. Кодом сущности для Розничной смены в составе JSON API является ключевое слово retailshift.
Атрибуты смены


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


acquire
Meta

Метаданные Банка-эквайера по операциям по картеОбязательное при ответе Expand


agentAccount
Meta

Метаданные счета контрагентаТолько для чтения Expand


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта


bankComission
Double

Сумма комиссии эквайера за проведение безналичных платежей по банковской карте. Не может превышать общую сумму безналичных платежей по карте. Если не указано, заполняется 0 автоматически.Обязательное при ответе


bankPercent
Double

Комиссия банка-эквайера по операциям по карте (в процентах)Обязательное при ответе


cheque
Object

Информация о смене ККТ. Подробнее тут


closeDate
DateTime
= != < > <= >=
Дата закрытия смены


contract
Meta
= !=
Метаданные договораТолько для чтения Expand


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления Розничной сменыТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Розничной смены


externalCode
String(255)
= != ~ ~= =~
Внешний код Розничной сменыОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Только для чтения Expand


id
UUID
= !=
ID Розничной сменыОбязательное при ответе Только для чтения


meta
Meta

Метаданные Розничной сменыОбязательное при ответе Только для чтения


moment
DateTime
= != < > <= >=
Дата сменыОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование Розничной сменыОбязательное при ответе


operations
Array(Object)

Коллекция метаданных связанных операцийОбязательное при ответе Только для чтения Expand


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании


organizationAccount
Meta

Метаданные счета юрлицаExpand


owner
Meta
= !=
Владелец (Сотрудник)Expand


paymentOperations
Array(Object)

Коллекция метаданных платежных операцийТолько для чтения Expand


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


proceedsCash
Float

Выручка наличнымиОбязательное при ответе Только для чтения


proceedsNoCash
Float

Выручка безналОбязательное при ответе Только для чтения


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


qrAcquire
Meta

Метаданные Банка-эквайера по операциям по QR-кодуОбязательное при ответе Expand


qrBankComission
Double

Сумма комиссии эквайера за проведение безналичных платежей по QR-коду. Не может превышать общую сумму безналичных платежей по QR-коду. Если не указано, заполняется 0 автоматически.Обязательное при ответе


qrBankPercent
Double

Комиссия банка-эквайера по операция по QR-коду (в процентах)Обязательное при ответе


receivedCash
Float

Получено наличнымиОбязательное при ответе Только для чтения


receivedNoCash
Float

Получено безналОбязательное при ответе Только для чтения


retailStore
Meta
= !=
Метаданные точки продажОбязательное при ответе Expand Необходимо при создании


shared
Boolean
= !=
Общий доступОбязательное при ответе Только для чтения


store
Meta

Метаданные склада. Если не указано, заполняется с точки продаж автоматическиОбязательное при ответе Expand


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


updated
DateTime
= != < > <= >=
Момент последнего обновления Розничной сменыОбязательное при ответе


vatEnabled
Boolean

Учитывается ли НДСОбязательное при ответе Только для чтения


vatIncluded
Boolean

Включен ли НДС в цену


О работе с доп. полями Розничных смен можно прочитать здесь
Информация о смене ККТ


Название
Тип
Описание



start
Object
Информация об открытии смены. Подробнее тут


end
Object
Информация о закрытии смены Подробнее тут


Информация об открытии смены ККТ


Название
Тип
Описание



fnNumber
String
Номер фискального накопителя


kktRegNumber
String
Регистрационный номер ККТ


fiscalDocSign
String
Фискальный признак документа


shiftNumber
String
Номер смены ККТ


fiscalDocNumber
String
Номер фискального документа


time
DateTime
Дата и время открытия смены.


Информация о закрытии смены ККТ


Название
Тип
Описание



chequesTotal
String
Количество чеков за смену


fiscalDocNumber
String
Номер фискального документа


fiscalDocSign
String
Фискальный признак документа


fiscalDocsTotal
String
Количество фискальных документов за смену


fnNumber
String
Номер фискального накопителя


kktRegNumber
String
Регистрационный номер ККТ


shiftNumber
String
Номер смены ККТ


time
DateTime
Дата и время закрытия смены


Получить Розничные смены
Запрос на получение списка всех Розничных смен на данной учетной записи.
Результат успешного запроса - JSON представление списка Розничных смен с перечисленными полями:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Розничные смены.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить Розничные смены
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Розничных смен.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift",
    "type": "retailshift",
    "mediaType": "application/json",
    "size": 5,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/0b2b2caf-055e-11e6-9464-e4de0000007c",
        "type": "retailshift",
        "mediaType": "application/json"
      },
      "id": "0b2b2caf-055e-11e6-9464-e4de0000007c",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
      "updated": "2016-04-18 15:07:12",
      "name": "00001",
      "externalCode": "iR5ZTLzfhK98uzqIFbC871",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "moment": "2016-04-18 15:06:51",
      "created": "2016-08-25 19:55:00",
      "printed": true,
      "published": true,
      "vatEnabled": true,
      "vatIncluded": true,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/account/3a30e844-016f-11e6-9464-e4de00000068",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "attributes": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
            "type": "attributemetadata",
            "mediaType": "application/json"
          },
          "id": "bb08dccf-0bd2-11e6-9464-e4de000000ae",
          "name": "AttributeName1",
          "type": "string",
          "value": "Да"
        }
      ],
      "closeDate": "2016-04-18 15:07:12",
      "proceedsNoCash": 0,
      "proceedsCash": 5100,
      "receivedNoCash": 0,
      "receivedCash": 5136,
      "retailStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/851f8576-f504-11e5-8a84-bae50000016c",
          "type": "retailstore",
          "mediaType": "application/json"
        }
      },
      "acquire": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/741b9bbb-0016-11ec-ac12-000b0000007e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=741b9bbb-0016-11ec-ac12-000b0000007e"
        }
      },
      "bankPercent": 21.2231,
      "bankComission": 0.0,
      "qrBankPercent": 0.0,
      "qrBankComission": 0.0,
      "cheque": {
        "start": {
          "shiftNumber": "3456",
          "fnNumber": "1234",
          "fiscalDocNumber": "7890",
          "fiscalDocSign": "9012",
          "time": "2021-08-17 16:56:00.000"
        },
        "end": {
          "shiftNumber": "2109",
          "fnNumber": "4321",
          "fiscalDocNumber": "8765",
          "fiscalDocSign": "6543",
          "time": "2021-08-21 16:56:00.000",
          "chequesTotal": 15,
          "fiscalDocsTotal": 17
        }
      },
      "operations": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/29547f06-ec69-11e7-0532-9eed0000001b",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
            "type": "retaildemand",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#retaildemand/edit?id=29547f06-ec69-11e7-0532-9eed0000001b"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/3395a278-ec69-11e7-0532-9eed00000022",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata",
            "type": "retailsalesreturn",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#retailsalesreturn/edit?id=3395a278-ec69-11e7-0532-9eed00000022"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/2eb3c0ad-f9d9-11e7-0532-9eed0000005a",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/metadata",
            "type": "retaildrawercashin",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#retaildrawercashin/edit?id=2eb3c0ad-f9d9-11e7-0532-9eed0000005a"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/3d8258c5-f9d9-11e7-0532-9eed0000005e",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/metadata",
            "type": "retaildrawercashout",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#retaildrawercashout/edit?id=3d8258c5-f9d9-11e7-0532-9eed0000005e"
          }
        }
      ],
      "paymentOperations": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/6c3237ff-f9d9-11e7-0532-9eed00000086",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata",
            "type": "cashin",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#cashin/edit?id=6c3237ff-f9d9-11e7-0532-9eed00000086"
          },
          "linkedSum": 0
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/5952a2fb-f9d8-11e7-0532-9eed00000036",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata",
            "type": "paymentin",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#paymentin/edit?id=5952a2fb-f9d8-11e7-0532-9eed00000036"
          },
          "linkedSum": 0
        }
      ]
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/cd86df19-0563-11e6-9464-e4de0000008e",
        "type": "retailshift",
        "mediaType": "application/json"
      },
      "id": "cd86df19-0563-11e6-9464-e4de0000008e",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
      "updated": "2016-04-18 15:48:19",
      "name": "00002",
      "externalCode": "uhM2bdwAg7661Qhx3f7102",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "moment": "2016-04-18 15:48:04",
      "created": "2016-08-25 19:55:00",
      "printed": true,
      "published": true,
      "vatEnabled": true,
      "vatIncluded": true,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/account/3a30e844-016f-11e6-9464-e4de00000068",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "attributes": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
            "type": "attributemetadata",
            "mediaType": "application/json"
          },
          "id": "bb08dccf-0bd2-11e6-9464-e4de000000ae",
          "name": "AttributeName1",
          "type": "string",
          "value": "Да"
        }
      ],
      "closeDate": "2016-04-18 15:48:19",
      "proceedsNoCash": 1800,
      "proceedsCash": 0,
      "receivedNoCash": 0,
      "receivedCash": 0,
      "retailStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/851f8576-f504-11e5-8a84-bae50000016c",
          "type": "retailstore",
          "mediaType": "application/json"
        }
      },
      "acquire": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/741b9bbb-0016-11ec-ac12-000b0000007e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=741b9bbb-0016-11ec-ac12-000b0000007e"
        }
      },
      "bankPercent": 21.2231,
      "bankComission": 0.0,
      "qrBankPercent": 0.0,
      "qrBankComission": 0.0,
      "cheque": {
        "start": {
          "shiftNumber": "3456",
          "fnNumber": "1234",
          "fiscalDocNumber": "7890",
          "fiscalDocSign": "9012",
          "time": "2021-08-17 16:56:00.000"
        },
        "end": {
          "shiftNumber": "2109",
          "fnNumber": "4321",
          "fiscalDocNumber": "8765",
          "fiscalDocSign": "6543",
          "time": "2021-08-21 16:56:00.000",
          "chequesTotal": 15,
          "fiscalDocsTotal": 17
        }
      },
      "operations": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/29547f06-ec69-11e7-0532-9eed0000002c",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
            "type": "retaildemand",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#retaildemand/edit?id=29547f06-ec69-11e7-0532-9eed0000002c"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/3395a278-ec69-11e7-0532-9eed00000033",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata",
            "type": "retailsalesreturn",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#retailsalesreturn/edit?id=3395a278-ec69-11e7-0532-9eed00000033"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/2eb3c0ad-f9d9-11e7-0532-9eed0000006b",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/metadata",
            "type": "retaildrawercashin",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#retaildrawercashin/edit?id=2eb3c0ad-f9d9-11e7-0532-9eed0000006b"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/3d8258c5-f9d9-11e7-0532-9eed0000006a",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/metadata",
            "type": "retaildrawercashout",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#retaildrawercashout/edit?id=3d8258c5-f9d9-11e7-0532-9eed0000006a"
          }
        }
      ],
      "paymentOperations": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/6c3237ff-f9d9-11e7-0532-9eed00000099",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata",
            "type": "cashin",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#cashin/edit?id=6c3237ff-f9d9-11e7-0532-9eed00000099"
          },
          "linkedSum": 0
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/5952a2fb-f9d8-11e7-0532-9eed00000048",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata",
            "type": "paymentin",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#paymentin/edit?id=5952a2fb-f9d8-11e7-0532-9eed00000048"
          },
          "linkedSum": 0
        }
      ]
    }
  ]
}
Создать розничную смену
Запрос на создание новой розничной смены.
Обязательные для создания поля:


Название
Тип
Описание



organization
Meta
Метаданные юрлица


retailStore
Meta
Метаданные точки продаж


Пример создания новой розничной смены с телом запроса, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/retailshift"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b4343660-0016-11ec-ac12-000b000000d7",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                   "type": "organization",
                    "mediaType": "application/json"
                  }
            },
            "retailStore": {
                 "meta": {
                     "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/74940da1-0016-11ec-ac12-000b00000096",
                     "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
                     "type": "retailstore",
                     "mediaType": "application/json"
                  }
            }
   '  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной розничной смены.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/6706043c-018c-11ec-ac12-000a00000005",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
    "type": "retailshift",
    "mediaType": "application/json",
    "uuidHref": "https://online.moysklad.ru/app/#retailshift/edit?id=6706043c-018c-11ec-ac12-000a00000005"
  },
  "id": "6706043c-018c-11ec-ac12-000a00000005",
  "accountId": "73215387-0016-11ec-ac12-000c00000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/73d6e937-0016-11ec-ac12-000b00000042",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=73d6e937-0016-11ec-ac12-000b00000042"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/73230224-0016-11ec-ac12-000c00000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2021-08-20 10:58:27.611",
  "name": "00011",
  "externalCode": "D2XRGmC5gLVJCq1ocBXd82",
  "moment": "2021-08-20 10:58:00.000",
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/7421cf1a-0016-11ec-ac12-000b00000080",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=7421cf1a-0016-11ec-ac12-000b00000080"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b4343660-0016-11ec-ac12-000b000000d7",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=b4343660-0016-11ec-ac12-000b000000d7"
    }
  },
  "created": "2021-08-20 10:58:27.699",
  "printed": false,
  "published": false,
  "files": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/6706043c-018c-11ec-ac12-000a00000005/files",
      "type": "files",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "proceedsNoCash": 0.0,
  "proceedsCash": 0.0,
  "receivedNoCash": 0.0,
  "receivedCash": 0.0,
  "cheque": {},
  "retailStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/74940da1-0016-11ec-ac12-000b00000096",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
      "type": "retailstore",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#retailstore/edit?id=74940da1-0016-11ec-ac12-000b00000096"
    }
  },
  "bankPercent": 0.0,
  "bankComission": 0.0,
  "qrBankPercent": 0.0,
  "qrBankComission": 0.0
}
Изменить розничную смену
Запрос на обновление розничной смены с указанным id.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Розничной смены.


Пример запроса на обновление розничной смены.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/49819758-0017-11ec-ac12-000a00000000"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
    "name": "0001",
    "moment": "2021-08-17 16:56:52",
    "closeDate": "2021-08-21 16:56:52",
    "organization": {
         "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b4343660-0016-11ec-ac12-000b000000d7",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
            "type": "organization",
            "mediaType": "application/json"
         }
    },
    "store": {
      "meta": {
       "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/7421cf1a-0016-11ec-ac12-000b00000080",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
                }
            },
            "acquire": {
        "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/74221ae8-0016-11ec-ac12-000b00000081",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
            "type": "counterparty",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=74221ae8-0016-11ec-ac12-000b00000081"
        }
    },
            "bankPercent": 22.0,
            "qrBankPercent": 0.0,
            "retailstore": {
                 "meta": {
                     "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/01610ea7-fade-11eb-ac1b-000f0000009f",
                     "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
                     "type": "retailstore",
                     "mediaType": "application/json"
                  }
            },
             "cheque": {
        "start": {
            "shiftNumber": "3456",
            "kktRegNum": "5678",
            "fnNumber": "1234",
            "fiscalDocNumber": "7890",
            "fiscalDocSign": "9012",
            "time": "2021-08-17 16:56:52"
        },
        "end": {
            "shiftNumber": "2109",
            "kktRegNum": "0987",
            "fnNumber": "4321",
            "fiscalDocNumber": "8765",
            "fiscalDocSign": "6543",
            "time": "2021-08-21 16:56:52",
            "chequesTotal": 15,
            "fiscalDocsTotal": 17
           }       
       }
   } '  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной розничной смены.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/49819758-0017-11ec-ac12-000a00000000",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
    "type": "retailshift",
    "mediaType": "application/json",
    "uuidHref": "https://online.moysklad.ru/app/#retailshift/edit?id=49819758-0017-11ec-ac12-000a00000000"
  },
  "id": "49819758-0017-11ec-ac12-000a00000000",
  "accountId": "73215387-0016-11ec-ac12-000c00000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/73d6e937-0016-11ec-ac12-000b00000042",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=73d6e937-0016-11ec-ac12-000b00000042"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/73230224-0016-11ec-ac12-000c00000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2021-08-18 18:43:40.740",
  "name": "0001",
  "externalCode": "srR4xJ90hAOHZPHrsSCS51",
  "moment": "2021-08-17 16:56:00.000",
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/7421cf1a-0016-11ec-ac12-000b00000080",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=7421cf1a-0016-11ec-ac12-000b00000080"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/b4343660-0016-11ec-ac12-000b000000d7",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=b4343660-0016-11ec-ac12-000b000000d7"
    }
  },
  "created": "2021-08-18 14:27:35.862",
  "printed": false,
  "published": false,
  "files": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/49819758-0017-11ec-ac12-000a00000000/files",
      "type": "files",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "closeDate": "2021-08-21 16:56:00.000",
  "proceedsNoCash": 0.0,
  "proceedsCash": 0.0,
  "receivedNoCash": 0.0,
  "receivedCash": 0.0,
  "cheque": {
    "start": {
      "shiftNumber": "3456",
      "fnNumber": "1234",
      "fiscalDocNumber": "7890",
      "fiscalDocSign": "9012",
      "time": "2021-08-17 16:56:00.000"
    },
    "end": {
      "shiftNumber": "2109",
      "fnNumber": "4321",
      "fiscalDocNumber": "8765",
      "fiscalDocSign": "6543",
      "time": "2021-08-21 16:56:00.000",
      "chequesTotal": 15,
      "fiscalDocsTotal": 17
    }
  },
  "retailStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/74940da1-0016-11ec-ac12-000b00000096",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
      "type": "retailstore",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#retailstore/edit?id=74940da1-0016-11ec-ac12-000b00000096"
    }
  },
  "acquire": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/74221ae8-0016-11ec-ac12-000b00000081",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=74221ae8-0016-11ec-ac12-000b00000081"
    }
  },
  "bankPercent": 0.0,
  "qrBankPercent": 0.0,
  "bankComission": 0.0,
  "qrBankComission": 0.0
}
Удалить Розничную смену
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Розничной смены.


Запрос на удаление Розничной смены с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Розничной смены.

Метаданные Розничных сменМетаданные Розничных смен
Запрос на получение метаданных Розничных смен. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Розничных смен


attributes
Массив объектов доп. полей Розничных смен в формате Метаданных


createShared
создавать новые Розничные смены с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Розничных смен
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Розничных продаж.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "id": "bb08dccf-0bd2-11e6-9464-e4de000000ae",
      "name": "AttributeName1",
      "type": "string",
      "required": false
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 5290a290-0313-11e6-9464-e4de00000020 id Доп. поля.


Отдельное доп. поле
Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata/attributes/d335f74e-558c-11e6-8a84-bae50000009a",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "d335f74e-558c-11e6-8a84-bae50000009a",
  "name": "AttributeName1",
  "type": "file",
  "required": false
}
Розничная смена
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Розничной смены.


Получить Розничную смену
Запрос на получение отдельной Розничной смены с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/91a42d66-0ad2-11e6-9464-e4de00000017"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Розничной смены.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/91a42d66-0ad2-11e6-9464-e4de00000017",
    "type": "retailshift",
    "mediaType": "application/json"
  },
  "id": "91a42d66-0ad2-11e6-9464-e4de00000017",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-25 13:50:05",
  "name": "00004",
  "externalCode": "33Ox0o1GjpDZC9x41fUA11",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-25 13:10:19",
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "vatEnabled": true,
  "vatIncluded": true,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/account/3a30e844-016f-11e6-9464-e4de00000068",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "bb08dccf-0bd2-11e6-9464-e4de000000ae",
      "name": "AttributeName1",
      "type": "string",
      "value": "Да"
    }
  ],
  "closeDate": "2016-04-25 13:10:19",
  "proceedsNoCash": 0,
  "proceedsCash": 0,
  "receivedNoCash": 0,
  "receivedCash": 0,
  "retailStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/851f8576-f504-11e5-8a84-bae50000016c",
      "type": "retailstore",
      "mediaType": "application/json"
    }
  },
  "operations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/29547f06-ec69-11e7-0532-9eed0000001b",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
        "type": "retaildemand",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#retaildemand/edit?id=29547f06-ec69-11e7-0532-9eed0000001b"
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/3395a278-ec69-11e7-0532-9eed00000022",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata",
        "type": "retailsalesreturn",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#retailsalesreturn/edit?id=3395a278-ec69-11e7-0532-9eed00000022"
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/2eb3c0ad-f9d9-11e7-0532-9eed0000005a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashin/metadata",
        "type": "retaildrawercashin",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#retaildrawercashin/edit?id=2eb3c0ad-f9d9-11e7-0532-9eed0000005a"
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/3d8258c5-f9d9-11e7-0532-9eed0000005e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildrawercashout/metadata",
        "type": "retaildrawercashout",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#retaildrawercashout/edit?id=3d8258c5-f9d9-11e7-0532-9eed0000005e"
      }
    }
  ],
  "paymentOperations": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/6c3237ff-f9d9-11e7-0532-9eed00000086",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/cashin/metadata",
        "type": "cashin",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#cashin/edit?id=6c3237ff-f9d9-11e7-0532-9eed00000086"
      },
      "linkedSum": 0
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/5952a2fb-f9d8-11e7-0532-9eed00000036",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata",
        "type": "paymentin",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#paymentin/edit?id=5952a2fb-f9d8-11e7-0532-9eed00000036"
      },
      "linkedSum": 0
    }
  ],
  "bankPercent": 0.0,
  "bankComission": 0.0,
  "qrBankPercent": 0.0,
  "qrBankComission": 0.0
}
Розничный возврат
Средствами JSON API можно создавать и обновлять сведения о Розничных возвратах, запрашивать списки Розничных возвратов и сведения по отдельным Розничным возвратам. Позициями Розничных возвратов  можно управлять как в составе отдельного Возврата, так и отдельно - с помощью специальных ресурсов для управления позициями Розничного возврата. Кодом сущности для Розничного возврата в составе JSON API является ключевое слово retailsalesreturn.
Розничные возвратыАтрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


agent
Meta
= !=
Метаданные контрагентаОбязательное при ответе Expand Необходимо при создании


agentAccount
Meta

Метаданные счета контрагентаExpand


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта


cashSum
Float

Оплачено наличнымиОбязательное при ответе


code
String(255)
= != ~ ~= =~
Код Розничного возврата


contract
Meta
= !=
Метаданные договораExpand


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления Розничного возвратаТолько для чтения


demand
Meta

Метаданные связанной Розничной продажиExpand


description
String(4096)
= != ~ ~= =~
Комментарий Розничного возврата


externalCode
String(255)
= != ~ ~= =~
Внешний код Розничного возвратаОбязательное при ответе


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID Розничного возвратаОбязательное при ответе Только для чтения


meta
Meta

Метаданные Розничного возвратаОбязательное при ответе


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование Розничного возвратаОбязательное при ответе


noCashSum
Float

Оплачено картойОбязательное при ответе


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании


organizationAccount
Meta

Метаданные счета юрлицаExpand


owner
Meta
= !=
Владелец (Сотрудник)Expand


positions
MetaArray

Метаданные позиций Розничного возвратаОбязательное при ответе Expand


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


qrSum
Float

Оплачено по QR-кодуОбязательное при ответе


rate
Object

Валюта. Подробнее тутОбязательное при ответе


retailShift
Meta
= !=
Метаданные Розничной сменыОбязательное при ответе Expand Необходимо при создании


retailStore
Meta
= !=
Метаданные Точки продажОбязательное при ответе Expand Необходимо при создании


shared
Boolean
= !=
Общий доступОбязательное при ответе


state
Meta
= !=
Метаданные статуса Розничного возвратаExpand


store
Meta
= !=
Метаданные складаОбязательное при ответе Expand Необходимо при создании


sum
Int
= != < > <= >=
Сумма Розничного возврата в копейкахОбязательное при ответе Только для чтения


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


taxSystem
Enum

Код системы налогообложения. Подробнее тут


updated
DateTime
= != < > <= >=
Момент последнего обновления Розничного возвратаОбязательное при ответе Только для чтения


vatEnabled
Boolean

Учитывается ли НДСОбязательное при ответе


vatIncluded
Boolean

Включен ли НДС в цену


vatSum
Float

Сумма НДСОбязательное при ответе


Код системы налогообложения
Значения поля taxSystem.


Значение
Описание



GENERAL_TAX_SYSTEM
ОСН


SIMPLIFIED_TAX_SYSTEM_INCOME
УСН. Доход


SIMPLIFIED_TAX_SYSTEM_INCOME_OUTCOME
УСН. Доход-Расход


UNIFIED_AGRICULTURAL_TAX
ЕСХН


PRESUMPTIVE_TAX_SYSTEM
ЕНВД


PATENT_BASED
Патент


Позиции Розничного возврата
Позиции Розничного возврата - это список товаров/услуг/модификаций/серий/комплектов.
Объект позиции Розничного возврата содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияОбязательное при ответе Expand


cost
Int
Себестоимость (выводится, если документ был создан без основания)


discount
Int
Процент скидки или наценки. Наценка указывается отрицательным числом, т.е. -10 создаст наценку в 10%Обязательное при ответе


id
UUID
ID позицииОбязательное при ответе Только для чтения


pack
Object
Упаковка Товара. Подробнее тут


price
Float
Цена товара/услуги в копейкахОбязательное при ответе


quantity
Float
Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.Обязательное при ответе


things
Array(String)
Серийные номера. Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете. В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута.


vat
Int
НДС, которым облагается текущая позицияОбязательное при ответе


vatEnabled
Boolean
Включен ли НДС для позиции. С помощью этого флага для позиции можно выставлять НДС = 0 или НДС = "без НДС". (vat = 0, vatEnabled = false) -> vat = "без НДС", (vat = 0, vatEnabled = true) -> vat = 0%.Обязательное при ответе


С позициями можно работать с помощью специальных ресурсов для управления позициями Розничного возврата,
а также в составе отдельного Розничного возврата. При работе в составе отдельного Розничного возврата,
вы можете отправлять запросы на создание отдельного Розничного возврата с включенным в тело запроса
массивом позиций Розничного возврата. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Розничного возврата".
Также, при работе в составе отдельного Розничного возврата, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Розничного возврата. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Розничного возврата" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
О работе с доп. полями Розничных возвратов можно прочитать здесь
Получить Розничные возвраты
Запрос всех Розничных возвратов на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Розничные возвраты.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить Розничные возвраты
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Розничных возвратов.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailSalesReturn",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailSalesReturn/metadata",
    "type": "retailsalesreturn",
    "mediaType": "application/json",
    "size": 1,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/a62e39af-0c75-11e6-9464-e4de00000030",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata",
        "type": "retailsalesreturn",
        "mediaType": "application/json"
      },
      "id": "a62e39af-0c75-11e6-9464-e4de00000030",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "updated": "2016-04-27 15:43:31",
      "name": "00001",
      "externalCode": "33YOoIGVhdPXFBr8QNbD50",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "syncId": "eefa141e-0c65-4993-8b16-934905d47dbd",
      "moment": "2016-04-27 15:43:00",
      "applicable": true,
      "vatEnabled": true,
      "vatIncluded": true,
      "printed": true,
      "published": true,
      "sum": 14000,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/8518d001-f504-11e5-8a84-bae50000016a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/a62e39af-0c75-11e6-9464-e4de00000030/positions",
          "type": "salesreturnposition",
          "mediaType": "application/json",
          "size": 3,
          "limit": 1000,
          "offset": 0
        }
      },
      "retailStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/851f8576-f504-11e5-8a84-bae50000016c",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
          "type": "retailstore",
          "mediaType": "application/json"
        }
      },
      "demand": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/2ef43ba7-0c5a-11e6-9464-e4de0000000c",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
          "type": "retaildemand",
          "mediaType": "application/json"
        }
      },
      "retailShift": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/9e46db1e-0c75-11e6-9464-e4de0000002b",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
          "type": "retailshift",
          "mediaType": "application/json"
        }
      },
      "taxSystem": "GENERAL_TAX_SYSTEM",
      "cashSum": 14000,
      "noCashSum": 0,
      "qrSum": 0
    }
  ]
}
Создать Розничный возврат
Розничная смена, на которую указывает ссылка при создании Розничного возврата обязательно должна быть активной.
При создании Розничного возврата через JSON API, дата, указанная в moment возврата
должна быть позже даты, указанной в moment активной розничной смены, иначе
произойдет ошибка.
Обязательные поля при создании нового Розничного возврата:

name - Номер возврата
organization - Ссылка на ваше юрлицо в формате Метаданных
store - Ссылка на склад в формате Метаданных
demand - Ссылка на Розничную продажу, по которой произошел возврат в формате Метаданных, обязательное поле только для возврата на основании
retailStore - Ссылка на точку продаж в формате Метаданных
retailShift - Сссылка на Розничную смену, в рамках которой происходит возврат
agent - Ссылка на контрагента в формате Метаданных.
Контрагент, указанный в запросе на создание возврата, должен совпадать с контрагентом, указанном в документе, по которому создается возврат.
cashSum  - Оплачено наличными. Поле является необходимым для возврата без основания
noCashSum - Оплачено картой. Поле является необходимым для возврата без основания

При создании возврата:

Контрагент в возврате и в документе, по которому он создается, должны совпадать
Валюта и юрлицо в возврате и в документе так же должны совпадать
При передаче коллекции positions в теле запроса на создание возврата, передаваемые позиции
должны соответствовать позициям в документе. Различие может быть только в количестве товара в позиции
(меньшее либо равное количеству в документе). Нельзя передать позиции, которых нет в документе.

Пример создания новой Розничного возврата с телом запроса, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "123142vzvrt",
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/107430bc-36e7-11e7-8a7f-40d000000090",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/1076a96a-36e7-11e7-8a7f-40d000000092",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "retailStore": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/10a79ac5-36e7-11e7-8a7f-40d00000009f",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
                "type": "retailstore",
                "mediaType": "application/json"
              }
            },
            "demand": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/700f8635-36f7-11e7-8a7f-40d00000011e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
                "type": "retaildemand",
                "mediaType": "application/json"
              }
            },
            "retailShift": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/6fe7b0da-36f7-11e7-8a7f-40d00000011c",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
                "type": "retailshift",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Розничного возврата.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/80a2ea3b-3713-11e7-8a7f-40d000000003",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata",
    "type": "retailsalesreturn",
    "mediaType": "application/json"
  },
  "id": "80a2ea3b-3713-11e7-8a7f-40d000000003",
  "accountId": "103bff1b-36e7-11e7-8a7f-40d000000004",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/105a788e-36e7-11e7-8a7f-40d000000069",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/103cca6f-36e7-11e7-8a7f-40d000000005",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2017-05-12 16:04:15",
  "name": "123142vzvrt",
  "externalCode": "1-hpzSjAjCxS2dj55ZFeG2",
  "moment": "2017-05-12 16:04:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/10772c12-36e7-11e7-8a7f-40d000000097",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/1076a96a-36e7-11e7-8a7f-40d000000092",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/109e931d-36e7-11e7-8a7f-40d00000009d",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/107430bc-36e7-11e7-8a7f-40d000000090",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/80a2ea3b-3713-11e7-8a7f-40d000000003/positions",
      "type": "salesreturnposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "vatSum": 0,
  "demand": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/700f8635-36f7-11e7-8a7f-40d00000011e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
      "type": "retaildemand",
      "mediaType": "application/json"
    }
  },
  "retailStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/10a79ac5-36e7-11e7-8a7f-40d00000009f",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
      "type": "retailstore",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/6fe7b0da-36f7-11e7-8a7f-40d00000011c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json"
    }
  },
  "cashSum": 0,
  "noCashSum": 0,
  "qrSum": 0
}

Пример создания нового Розничного возврата с более насыщенным телом запроса.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "123142vzvrt",
            "description": "Розничный возврат по просьбе покупателя",
            "code": "303",
            "externalCode": "2250005aas-cszsz",
            "moment": "2016-05-06 14:47:47",
            "vatEnabled": true,
            "vatIncluded": true,
            "rate": {
              "currency": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/ee37a4b0-137a-11e6-9464-e4de000000e4",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
                  "type": "currency",
                  "mediaType": "application/json"
                }
              },
              "value": 71
            },
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/30f01af0-137a-11e6-9464-e4de0000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/30fe30a0-137a-11e6-9464-e4de00000050",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "retailStore": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/31b6349e-137a-11e6-9464-e4de0000005d",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
                "type": "retailstore",
                "mediaType": "application/json"
              }
            },
            "demand": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/5fa6624c-1380-11e6-9464-e4de00000205",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
                "type": "retaildemand",
                "mediaType": "application/json"
              }
            },
            "retailShift": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/5f67a979-1380-11e6-9464-e4de00000203",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
                "type": "retailshift",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": false
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "3325-4214-42145-4211"
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Розничного возврата.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/5d6c0d07-1381-11e6-9464-e4de00000000",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata",
    "type": "retailsalesreturn",
    "mediaType": "application/json"
  },
  "id": "5d6c0d07-1381-11e6-9464-e4de00000000",
  "accountId": "305f25aa-137a-11e6-9464-e4de00000001",
  "updated": "2016-05-06 14:55:01",
  "name": "123142vzvrt",
  "description": "Розничный возврат по просьбе покупателя",
  "code": "303",
  "externalCode": "2250005aas-cszsz",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-05-06 14:47:47",
  "applicable": true,
  "vatEnabled": true,
  "vatIncluded": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/ee37a4b0-137a-11e6-9464-e4de000000e4",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    },
    "value": 71
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/30f01af0-137a-11e6-9464-e4de0000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/30fe30a0-137a-11e6-9464-e4de00000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/31ace095-137a-11e6-9464-e4de0000005b",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c72ff31e-1380-11e6-9464-e4de00000231",
      "name": "AttributeName1",
      "type": "string",
      "value": "3325-4214-42145-4211"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c72ffba9-1380-11e6-9464-e4de00000232",
      "name": "AttributeName1",
      "type": "boolean",
      "value": false
    }
  ],
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/5d6c0d07-1381-11e6-9464-e4de00000000/positions",
      "type": "salesreturnposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "retailStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/31b6349e-137a-11e6-9464-e4de0000005d",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
      "type": "retailstore",
      "mediaType": "application/json"
    }
  },
  "demand": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/5fa6624c-1380-11e6-9464-e4de00000205",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
      "type": "retaildemand",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/5f67a979-1380-11e6-9464-e4de00000203",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json"
    }
  },
  "cashSum": 0,
  "noCashSum": 0,
  "qrSum": 0
}

Пример запроса на создание Розничного возврата с позициями в теле запроса.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "123142vzvrt",
            "description": "Розничный возврат по просьбе покупателя",
            "code": "303",
            "externalCode": "2250005aas-cszsz",
            "moment": "2016-05-06 14:47:47",
            "vatEnabled": true,
            "vatIncluded": true,
            "rate": {
              "currency": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/ee37a4b0-137a-11e6-9464-e4de000000e4",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
                  "type": "currency",
                  "mediaType": "application/json"
                }
              },
              "value": 71
            },
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/30f01af0-137a-11e6-9464-e4de0000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/30fe30a0-137a-11e6-9464-e4de00000050",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "retailStore": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/31b6349e-137a-11e6-9464-e4de0000005d",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
                "type": "retailstore",
                "mediaType": "application/json"
              }
            },
            "demand": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/5fa6624c-1380-11e6-9464-e4de00000205",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
                "type": "retaildemand",
                "mediaType": "application/json"
              }
            },
            "retailShift": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/5f67a979-1380-11e6-9464-e4de00000203",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
                "type": "retailshift",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": false
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "3325-4214-42145-4211"
              }
            ],
            "positions": [
              {
                "quantity": 5,
                "price": 30000.0,
                "discount": 0,
                "vat": 20,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/0805a582-137b-11e6-9464-e4de0000010c",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 7,
                "price": 30000.0,
                "discount": 0,
                "vat": 20,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/07fe4cad-137b-11e6-9464-e4de000000fd",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Розничного возврата.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/c1ab79f5-1381-11e6-9464-e4de00000005",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata",
    "type": "retailsalesreturn",
    "mediaType": "application/json"
  },
  "id": "c1ab79f5-1381-11e6-9464-e4de00000005",
  "accountId": "305f25aa-137a-11e6-9464-e4de00000001",
  "updated": "2016-05-06 14:57:50",
  "name": "123142vzvrt",
  "description": "Розничный возврат по просьбе покупателя",
  "code": "303",
  "externalCode": "2250005aas-cszsz",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-05-06 14:47:47",
  "applicable": true,
  "vatEnabled": true,
  "vatIncluded": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/ee37a4b0-137a-11e6-9464-e4de000000e4",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    },
    "value": 71
  },
  "sum": 360000,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/30f01af0-137a-11e6-9464-e4de0000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/30fe30a0-137a-11e6-9464-e4de00000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/31ace095-137a-11e6-9464-e4de0000005b",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c72ff31e-1380-11e6-9464-e4de00000231",
      "name": "AttributeName1",
      "type": "string",
      "value": "3325-4214-42145-4211"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c72ffba9-1380-11e6-9464-e4de00000232",
      "name": "AttributeName2",
      "type": "boolean",
      "value": false
    }
  ],
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/c1ab79f5-1381-11e6-9464-e4de00000005/positions",
      "type": "salesreturnposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "retailStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/31b6349e-137a-11e6-9464-e4de0000005d",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
      "type": "retailstore",
      "mediaType": "application/json"
    }
  },
  "demand": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/5fa6624c-1380-11e6-9464-e4de00000205",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
      "type": "retaildemand",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/5f67a979-1380-11e6-9464-e4de00000203",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json"
    }
  },
  "cashSum": 360000,
  "noCashSum": 0,
  "qrSum": 0
}

Пример запроса на создание Розничного возврата без основания.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "123142vzvrt",
            "description": "Розничный возврат по просьбе покупателя",
            "code": "303",
            "externalCode": "2250005aas-cszsz",
            "moment": "2016-05-06 14:47:47",
            "vatEnabled": true,
            "vatIncluded": true,
            "rate": {
              "currency": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/ee37a4b0-137a-11e6-9464-e4de000000e4",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
                  "type": "currency",
                  "mediaType": "application/json"
                }
              },
              "value": 71
            },
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/30f01af0-137a-11e6-9464-e4de0000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/30fe30a0-137a-11e6-9464-e4de00000050",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "retailStore": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/31b6349e-137a-11e6-9464-e4de0000005d",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
                "type": "retailstore",
                "mediaType": "application/json"
              }
            },
            "retailShift": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/5f67a979-1380-11e6-9464-e4de00000203",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
                "type": "retailshift",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": false
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "3325-4214-42145-4211"
              }
            ],
            "positions": [
              {
                "quantity": 5,
                "price": 30000.0,
                "discount": 0,
                "vat": 20,
                "cost": 2500,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/0805a582-137b-11e6-9464-e4de0000010c",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 7,
                "price": 30000.0,
                "discount": 0,
                "vat": 20,
                "cost": 3000,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/07fe4cad-137b-11e6-9464-e4de000000fd",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                }
              }
            ],
            "cashSum": 300000,
            "noCashSum": 60000
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Розничного возврата.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/c1ab79f5-1381-11e6-9464-e4de00000005",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata",
    "type": "retailsalesreturn",
    "mediaType": "application/json"
  },
  "id": "c1ab79f5-1381-11e6-9464-e4de00000005",
  "accountId": "305f25aa-137a-11e6-9464-e4de00000001",
  "updated": "2016-05-06 14:57:50",
  "name": "123142vzvrt",
  "description": "Розничный возврат по просьбе покупателя",
  "code": "303",
  "externalCode": "2250005aas-cszsz",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-05-06 14:47:47",
  "applicable": true,
  "vatEnabled": true,
  "vatIncluded": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/ee37a4b0-137a-11e6-9464-e4de000000e4",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    },
    "value": 71
  },
  "sum": 360000,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/30f01af0-137a-11e6-9464-e4de0000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/30fe30a0-137a-11e6-9464-e4de00000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/31ace095-137a-11e6-9464-e4de0000005b",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c72ff31e-1380-11e6-9464-e4de00000231",
      "name": "AttributeName1",
      "type": "string",
      "value": "3325-4214-42145-4211"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c72ffba9-1380-11e6-9464-e4de00000232",
      "name": "AttributeName2",
      "type": "boolean",
      "value": false
    }
  ],
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/c1ab79f5-1381-11e6-9464-e4de00000005/positions",
      "type": "salesreturnposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 100,
      "offset": 0
    }
  },
  "retailStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/31b6349e-137a-11e6-9464-e4de0000005d",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
      "type": "retailstore",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/5f67a979-1380-11e6-9464-e4de00000203",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json"
    }
  },
  "cashSum": 300000,
  "noCashSum": 60000,
  "qrSum": 0
}
Массовое создание и обновление Розничных возвратов
Массовое создание и обновление Розничных возвратов.
В теле запроса нужно передать массив, содержащий JSON представления Розничных возвратов, которые вы хотите создать или обновить.
Обновляемые Розничные возвраты должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Розничных возвратов
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "name": "123142vzvrt",
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/107430bc-36e7-11e7-8a7f-40d000000090",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "store": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/1076a96a-36e7-11e7-8a7f-40d000000092",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                  "type": "store",
                  "mediaType": "application/json"
                }
              },
              "retailStore": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/10a79ac5-36e7-11e7-8a7f-40d00000009f",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
                  "type": "retailstore",
                  "mediaType": "application/json"
                }
              },
              "demand": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/700f8635-36f7-11e7-8a7f-40d00000011e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
                  "type": "retaildemand",
                  "mediaType": "application/json"
                }
              },
              "retailShift": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/6fe7b0da-36f7-11e7-8a7f-40d00000011c",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
                  "type": "retailshift",
                  "mediaType": "application/json"
                }
              }
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/c1ab79f5-1381-11e6-9464-e4de00000005",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata",
                "type": "retailsalesreturn",
                "mediaType": "application/json"
              },
              "vatEnabled": false,
              "vatIncluded": false,
              "name": "newName",
              "code": "3033",
              "positions": [
                {
                  "quantity": 6,
                  "price": 30000.0,
                  "discount": 0,
                  "vat": 20,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/07f8fb39-137b-11e6-9464-e4de000000f3",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                      "type": "variant",
                      "mediaType": "application/json"
                    }
                  },
                  "cost": 250
                },
                {
                  "quantity": 2,
                  "price": 20000.0,
                  "discount": 0,
                  "vat": 0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/27a803bd-137b-11e6-9464-e4de0000013a",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  },
                  "cost": 370
                },
                {
                  "accountId": "305f25aa-137a-11e6-9464-e4de00000001",
                  "quantity": 4,
                  "price": 40000.0,
                  "discount": 0,
                  "vat": 0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/609e36c0-137b-11e6-9464-e4de00000179",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                      "type": "variant",
                      "mediaType": "application/json"
                    }
                  },
                  "cost": 490
                },
                {
                  "quantity": 4,
                  "price": 40000.0,
                  "discount": 0,
                  "vat": 0,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/609c2418-137b-11e6-9464-e4de00000174",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                      "type": "variant",
                      "mediaType": "application/json"
                    }
                  },
                  "cost": 510
                }
              ]
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Розничных возвратов.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/80a2ea3b-3713-11e7-8a7f-40d000000003",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata",
      "type": "retailsalesreturn",
      "mediaType": "application/json"
    },
    "id": "80a2ea3b-3713-11e7-8a7f-40d000000003",
    "accountId": "103bff1b-36e7-11e7-8a7f-40d000000004",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/105a788e-36e7-11e7-8a7f-40d000000069",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/103cca6f-36e7-11e7-8a7f-40d000000005",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2017-05-12 16:04:15",
    "name": "123142vzvrt",
    "externalCode": "1-hpzSjAjCxS2dj55ZFeG2",
    "moment": "2017-05-12 16:04:00",
    "applicable": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/10772c12-36e7-11e7-8a7f-40d000000097",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 0,
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/1076a96a-36e7-11e7-8a7f-40d000000092",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/109e931d-36e7-11e7-8a7f-40d00000009d",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/107430bc-36e7-11e7-8a7f-40d000000090",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/80a2ea3b-3713-11e7-8a7f-40d000000003/positions",
        "type": "salesreturnposition",
        "mediaType": "application/json",
        "size": 0,
        "limit": 1000,
        "offset": 0
      }
    },
    "vatEnabled": true,
    "vatIncluded": true,
    "vatSum": 0,
    "demand": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/700f8635-36f7-11e7-8a7f-40d00000011e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
        "type": "retaildemand",
        "mediaType": "application/json"
      }
    },
    "retailStore": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/10a79ac5-36e7-11e7-8a7f-40d00000009f",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
        "type": "retailstore",
        "mediaType": "application/json"
      }
    },
    "retailShift": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/6fe7b0da-36f7-11e7-8a7f-40d00000011c",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
        "type": "retailshift",
        "mediaType": "application/json"
      }
    },
    "cashSum": 0,
    "noCashSum": 0,
    "qrSum": 0
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/c1ab79f5-1381-11e6-9464-e4de00000005",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata",
      "type": "retailsalesreturn",
      "mediaType": "application/json"
    },
    "id": "c1ab79f5-1381-11e6-9464-e4de00000005",
    "accountId": "305f25aa-137a-11e6-9464-e4de00000001",
    "updated": "2016-05-06 15:02:27",
    "name": "newName",
    "description": "Розничный возврат по просьбе покупателя",
    "code": "3033",
    "externalCode": "2250005aas-cszsz",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "moment": "2016-05-06 14:47:47",
    "applicable": true,
    "vatEnabled": false,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/ee37a4b0-137a-11e6-9464-e4de000000e4",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      },
      "value": 71
    },
    "sum": 540000,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/30f01af0-137a-11e6-9464-e4de0000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/30fe30a0-137a-11e6-9464-e4de00000050",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/31ace095-137a-11e6-9464-e4de0000005b",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "attributes": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "c72ff31e-1380-11e6-9464-e4de00000231",
        "name": "AttributeName1",
        "type": "string",
        "value": "3325-4214-42145-4211"
      },
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
          "type": "attributemetadata",
          "mediaType": "application/json"
        },
        "id": "c72ffba9-1380-11e6-9464-e4de00000232",
        "name": "AttributeName2",
        "type": "boolean",
        "value": false
      }
    ],
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/c1ab79f5-1381-11e6-9464-e4de00000005/positions",
        "type": "salesreturnposition",
        "mediaType": "application/json",
        "size": 4,
        "limit": 1000,
        "offset": 0
      }
    },
    "retailStore": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/31b6349e-137a-11e6-9464-e4de0000005d",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
        "type": "retailstore",
        "mediaType": "application/json"
      }
    },
    "demand": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/5fa6624c-1380-11e6-9464-e4de00000205",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
        "type": "retaildemand",
        "mediaType": "application/json"
      }
    },
    "retailShift": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/5f67a979-1380-11e6-9464-e4de00000203",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
        "type": "retailshift",
        "mediaType": "application/json"
      }
    },
    "cashSum": 540000,
    "noCashSum": 0,
    "qrSum": 0
  }
]
Удалить Розничный возврат
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Розничного возврата.


Запрос на удаление Розничного возврата с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Розничного возврата.

Метаданные Розничных возвратовМетаданные Розничных возвратов
Запрос на получение метаданных Розничных возвратов. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Розничных возвратов


attributes
Массив объектов доп. полей Розничных возвратов в формате Метаданных


states
Массив статусов Розничных возвратов


createShared
создавать новые Розничные возвраты с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Розничных возвратов
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Розничных возвратов.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/attributes/c72ff31e-1380-11e6-9464-e4de00000231",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c72ff31e-1380-11e6-9464-e4de00000231",
      "name": "AttributeName1",
      "type": "string",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/attributes/c72ffba9-1380-11e6-9464-e4de00000232",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c72ffba9-1380-11e6-9464-e4de00000232",
      "name": "AttributeName2",
      "type": "boolean",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56c504-2e58-11e6-8a84-bae500000069",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Новый",
      "color": 15106326,
      "stateType": "Regular",
      "entityType": "retailsalesreturn"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/states/fb56cae3-2e58-11e6-8a84-bae50000006a",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56cae3-2e58-11e6-8a84-bae50000006a",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Подтвержден",
      "color": 40931,
      "stateType": "Regular",
      "entityType": "retailsalesreturn"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/states/fb56cf4f-2e58-11e6-8a84-bae50000006b",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56cf4f-2e58-11e6-8a84-bae50000006b",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Собран",
      "color": 8767198,
      "stateType": "Regular",
      "entityType": "retailsalesreturn"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/states/fb56d433-2e58-11e6-8a84-bae50000006c",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56d433-2e58-11e6-8a84-bae50000006c",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Отгружен",
      "color": 10774205,
      "stateType": "Regular",
      "entityType": "retailsalesreturn"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/states/fb56d92f-2e58-11e6-8a84-bae50000006d",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56d92f-2e58-11e6-8a84-bae50000006d",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Доставлен",
      "color": 8825440,
      "stateType": "Successful",
      "entityType": "retailsalesreturn"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/states/fb56de0a-2e58-11e6-8a84-bae50000006e",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56de0a-2e58-11e6-8a84-bae50000006e",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Возврат",
      "color": 15280409,
      "stateType": "Unsuccessful",
      "entityType": "retailsalesreturn"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/states/fb56e2b4-2e58-11e6-8a84-bae50000006f",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56e2b4-2e58-11e6-8a84-bae50000006f",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Отменен",
      "color": 15280409,
      "stateType": "Unsuccessful",
      "entityType": "retailsalesreturn"
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/attributes/9b0c8d28-558c-11e6-8a84-bae50000008a",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "9b0c8d28-558c-11e6-8a84-bae50000008a",
  "name": "AttributeName1",
  "type": "time",
  "required": false
}
Шаблон Розничного возвратаШаблон Розничного возврата на основе
Запрос на получение предзаполненого стандартными значениями
шаблона розничного возврата на основе других документов.
Шаблон розничного возврата можно получить на основе:

Розничной смены
Розничной продажи

При запросе шаблона только с розничной сменой в результате получиться шаблон возврата без основания.
При запросе шаблона с указанием розничной продажи, розничная смена может быть заполнена из нее.
Пример запроса на создание шаблона розничного возврата на основе смены.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "retailShift": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/ed8de012-479b-11e8-7ae5-8ba2000000ce",
                "type": "retailshift",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного розничного возврата.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/e346e355-2780-11e8-0532-9eed0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=e346e355-2780-11e8-0532-9eed0000002a"
    }
  },
  "shared": true,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/e29e01d3-2780-11e8-0532-9eed00000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "name": "",
  "moment": "2018-05-08 13:00:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/e37f9321-2780-11e8-0532-9eed00000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#currency/edit?id=e37f9321-2780-11e8-0532-9eed00000058"
      }
    }
  },
  "sum": 0,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/e37edd82-2780-11e8-0532-9eed00000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=e37edd82-2780-11e8-0532-9eed00000053"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/030a5127-3663-11e8-56c0-000800000000",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=030a5127-3663-11e8-56c0-000800000000"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/e37a6d1c-2780-11e8-0532-9eed00000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=e37a6d1c-2780-11e8-0532-9eed00000051"
    }
  },
  "documents": {
    "rows": []
  },
  "positions": {
    "rows": []
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/ed8de012-479b-11e8-7ae5-8ba2000000ce",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#retailshift/edit?id=ed8de012-479b-11e8-7ae5-8ba2000000ce"
    }
  },
  "cashSum": 0,
  "noCashSum": 0,
  "qrSum": 0
}

Пример запроса на создание шаблона розничного возврата на основе розничной продажи.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "demand": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/e806748e-9639-41da-8f2e-5e197312eac2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
                "type": "retaildemand",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного розничного возврата.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/e346e355-2780-11e8-0532-9eed0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=e346e355-2780-11e8-0532-9eed0000002a"
    }
  },
  "shared": true,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/e29e01d3-2780-11e8-0532-9eed00000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "name": "",
  "moment": "2018-05-08 13:00:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/e37f9321-2780-11e8-0532-9eed00000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#currency/edit?id=e37f9321-2780-11e8-0532-9eed00000058"
      }
    }
  },
  "sum": 0,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/e37edd82-2780-11e8-0532-9eed00000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=e37edd82-2780-11e8-0532-9eed00000053"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/030a5127-3663-11e8-56c0-000800000000",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=030a5127-3663-11e8-56c0-000800000000"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/e37a6d1c-2780-11e8-0532-9eed00000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=e37a6d1c-2780-11e8-0532-9eed00000051"
    }
  },
  "documents": {
    "rows": []
  },
  "positions": {
    "rows": [
      {
        "quantity": 1,
        "price": 16000.0,
        "discount": 10,
        "vat": 0,
        "vatEnabled": false,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/03216395-3663-11e8-56c0-000800000004",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
          }
        }
      }
    ]
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "demand": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/e806748e-9639-41da-8f2e-5e197312eac2",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
      "type": "retaildemand",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#retaildemand/edit?id=e806748e-9639-41da-8f2e-5e197312eac2"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/ed8de012-479b-11e8-7ae5-8ba2000000ce",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#retailshift/edit?id=ed8de012-479b-11e8-7ae5-8ba2000000ce"
    }
  },
  "cashSum": 0,
  "noCashSum": 0,
  "qrSum": 0
}
Розничный возвратПолучить Розничный возврат
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Розничного возврата.


Запрос на получение отдельного Розничного возврата с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Розничного возврата с указанным id.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/a62e39af-0c75-11e6-9464-e4de00000030",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata",
    "type": "retailsalesreturn",
    "mediaType": "application/json"
  },
  "id": "a62e39af-0c75-11e6-9464-e4de00000030",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "updated": "2016-04-27 15:43:31",
  "name": "00001",
  "externalCode": "33YOoIGVhdPXFBr8QNbD50",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "syncId": "eefa141e-0c65-4993-8b16-934905d47dbd",
  "moment": "2016-04-27 15:43:00",
  "applicable": true,
  "vatEnabled": true,
  "vatIncluded": true,
  "sum": 14000,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/8518d001-f504-11e5-8a84-bae50000016a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/a62e39af-0c75-11e6-9464-e4de00000030/positions",
      "type": "salesreturnposition",
      "mediaType": "application/json",
      "size": 3,
      "limit": 1000,
      "offset": 0
    }
  },
  "retailStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/851f8576-f504-11e5-8a84-bae50000016c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
      "type": "retailstore",
      "mediaType": "application/json"
    }
  },
  "demand": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/2ef43ba7-0c5a-11e6-9464-e4de0000000c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
      "type": "retaildemand",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/9e46db1e-0c75-11e6-9464-e4de0000002b",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json"
    }
  },
  "cashSum": 14000,
  "noCashSum": 0,
  "qrSum": 0
}
Изменить Розничный возврат
Запрос на обновление Розничного возврата с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Розничного возврата, кроме тех, что
помечены Только для чтения в описании атрибутов Розничного возврата.
При обновлении поля organization нужно также обновить поле organizationAccount иначе произойдет ошибка.
Контрагент должен совпадать с контрагентом, указанным в документе, по которому создается возврат.
При обновлении возврата:

Нельзя изменять следующие поля: agentAccount, agent, demand
Нельзя выставить валюту отличную от валюты в документе
Нельзя добавить позиции, отсутствующие среди позиций документа.

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Розничного возврата.


Пример запроса на обновление Розничного возврата.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "vatEnabled": false,
            "vatIncluded": false,
            "name": "newName",
            "code": "3033",
            "positions": [
              {
                "quantity": 6,
                "price": 30000.0,
                "discount": 0,
                "vat": 20,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/07f8fb39-137b-11e6-9464-e4de000000f3",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                },
                "cost": 250
              },
              {
                "quantity": 2,
                "price": 20000.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/27a803bd-137b-11e6-9464-e4de0000013a",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                },
                "cost": 370
              },
              {
                "accountId": "305f25aa-137a-11e6-9464-e4de00000001",
                "quantity": 4,
                "price": 40000.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/609e36c0-137b-11e6-9464-e4de00000179",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                },
                "cost": 490
              },
              {
                "quantity": 4,
                "price": 40000.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/609c2418-137b-11e6-9464-e4de00000174",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                },
                "cost": 510
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Розничного возврата.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/c1ab79f5-1381-11e6-9464-e4de00000005",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata",
    "type": "retailsalesreturn",
    "mediaType": "application/json"
  },
  "id": "c1ab79f5-1381-11e6-9464-e4de00000005",
  "accountId": "305f25aa-137a-11e6-9464-e4de00000001",
  "updated": "2016-05-06 15:02:27",
  "name": "newName",
  "description": "Розничный возврат по просьбе покупателя",
  "code": "3033",
  "externalCode": "2250005aas-cszsz",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-05-06 14:47:47",
  "applicable": true,
  "vatEnabled": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/ee37a4b0-137a-11e6-9464-e4de000000e4",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    },
    "value": 71
  },
  "sum": 540000,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/30f01af0-137a-11e6-9464-e4de0000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/30fe30a0-137a-11e6-9464-e4de00000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/31ace095-137a-11e6-9464-e4de0000005b",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c72ff31e-1380-11e6-9464-e4de00000231",
      "name": "AttributeName1",
      "type": "string",
      "value": "3325-4214-42145-4211"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "c72ffba9-1380-11e6-9464-e4de00000232",
      "name": "AttributeName2",
      "type": "boolean",
      "value": false
    }
  ],
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/c1ab79f5-1381-11e6-9464-e4de00000005/positions",
      "type": "salesreturnposition",
      "mediaType": "application/json",
      "size": 4,
      "limit": 1000,
      "offset": 0
    }
  },
  "retailStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/31b6349e-137a-11e6-9464-e4de0000005d",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailstore/metadata",
      "type": "retailstore",
      "mediaType": "application/json"
    }
  },
  "demand": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/5fa6624c-1380-11e6-9464-e4de00000205",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retaildemand/metadata",
      "type": "retaildemand",
      "mediaType": "application/json"
    }
  },
  "retailShift": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/5f67a979-1380-11e6-9464-e4de00000203",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/retailshift/metadata",
      "type": "retailshift",
      "mediaType": "application/json"
    }
  },
  "cashSum": 540000,
  "noCashSum": 0,
  "qrSum": 0
}

Позиции Розничного возврата
Отдельный ресурс для управления позициями Розничного возврата. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить позиции
Запрос на получение списка всех позиций данной Розничного возврата.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой позиции Розничного возврата.


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Розничного возврата.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить позиции 
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций Розничного возврата.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions",
    "type": "salesreturnposition",
    "mediaType": "application/json",
    "size": 4,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/6702da17-1382-11e6-9464-e4de0000000e",
        "type": "salesreturnposition",
        "mediaType": "application/json"
      },
      "id": "6702da17-1382-11e6-9464-e4de0000000e",
      "accountId": "305f25aa-137a-11e6-9464-e4de00000001",
      "quantity": 6,
      "price": 30000.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/07f8fb39-137b-11e6-9464-e4de000000f3",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
          "type": "variant",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
        }
      },
      "cost": 25
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/6702ecc7-1382-11e6-9464-e4de0000000f",
        "type": "salesreturnposition",
        "mediaType": "application/json"
      },
      "id": "6702ecc7-1382-11e6-9464-e4de0000000f",
      "accountId": "305f25aa-137a-11e6-9464-e4de00000001",
      "quantity": 2,
      "price": 20000.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/27a803bd-137b-11e6-9464-e4de0000013a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
        }
      },
      "cost": 37
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/6703f8ae-1382-11e6-9464-e4de00000010",
        "type": "salesreturnposition",
        "mediaType": "application/json"
      },
      "id": "6703f8ae-1382-11e6-9464-e4de00000010",
      "accountId": "305f25aa-137a-11e6-9464-e4de00000001",
      "quantity": 4,
      "price": 40000.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/609e36c0-137b-11e6-9464-e4de00000179",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
          "type": "variant",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=392c045c-2842-11e9-ac12-000a00000002"
        }
      },
      "cost": 49
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/67040794-1382-11e6-9464-e4de00000011",
        "type": "salesreturnposition",
        "mediaType": "application/json"
      },
      "id": "67040794-1382-11e6-9464-e4de00000011",
      "accountId": "305f25aa-137a-11e6-9464-e4de00000001",
      "quantity": 4,
      "price": 40000.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/609c2418-137b-11e6-9464-e4de00000174",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
          "type": "variant",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
        }
      },
      "cost": 51
    }
  ]
}
Позиция Розничного возвратаПолучить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Розничного возврата.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Розничного возврата.


Запрос на получение отдельной позиции Розничного возврата с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Розничного возврата.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "salesreturnposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "305f25aa-137a-11e6-9464-e4de00000001",
  "quantity": 103,
  "price": 999.0,
  "discount": 0,
  "vat": 0,
  "vatEnabled": false,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/609e36c0-137b-11e6-9464-e4de00000179",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
      "type": "variant",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
    }
  },
  "cost": 25
}
Создать позицию
Запрос на создание новой позиции в Розничном возврате.
Для успешного создания необходимо в теле запроса указать следующие поля:

assortment - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем service, consignment, variant в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании позиции Розничного возврата.
quantity - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций Розничного возврата. Все созданные данным запросом позиции
будут добавлены к уже существующим.
Нельзя создавать позиции, отличные от позиций в документе, по которому создается возврат. Допустимо только
отличие в quantity позиций (количество в позиции в возврате м.б. меньше или равно количеству в позиции в документе).

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Розничного возврата.


Пример запроса на создание позиций в Розничном возврате.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "quantity": 103,
              "price": 999.0,
              "discount": 0,
              "vat": 0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/609e36c0-137b-11e6-9464-e4de00000179",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                  "type": "variant",
                  "mediaType": "application/json"
                }
              },
              "cost": 25
            },
            {
              "quantity": 21,
              "price": 100.0,
              "discount": 0,
              "vat": 21,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/07f8fb39-137b-11e6-9464-e4de000000f3",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                  "type": "variant",
                  "mediaType": "application/json"
                }
              },
              "cost": 37
            },
            {
              "quantity": 3,
              "price": 35300.0,
              "discount": 0,
              "vat": 7,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/609e36c0-137b-11e6-9464-e4de00000179",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                  "type": "variant",
                  "mediaType": "application/json"
                }
              },
              "cost": 49
            }
          ]
'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданных позиций.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/13982b01-138a-11e6-9464-e4de00000018",
      "type": "salesreturnposition",
      "mediaType": "application/json"
    },
    "id": "13982b01-138a-11e6-9464-e4de00000018",
    "accountId": "305f25aa-137a-11e6-9464-e4de00000001",
    "quantity": 103,
    "price": 999.0,
    "discount": 0,
    "vat": 0,
    "vatEnabled": false,
    "variant": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/609e36c0-137b-11e6-9464-e4de00000179",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=609e36c0-137b-11e6-9464-e4de00000179"
      }
    },
    "cost": 25
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/13998a65-138a-11e6-9464-e4de00000019",
      "type": "salesreturnposition",
      "mediaType": "application/json"
    },
    "id": "13998a65-138a-11e6-9464-e4de00000019",
    "accountId": "305f25aa-137a-11e6-9464-e4de00000001",
    "quantity": 21,
    "price": 100.0,
    "discount": 0,
    "vat": 0,
    "vatEnabled": false,
    "variant": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/07f8fb39-137b-11e6-9464-e4de000000f3",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=07f8fb39-137b-11e6-9464-e4de000000f3"
      }
    },
    "cost": 37
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/13999856-138a-11e6-9464-e4de0000001a",
      "type": "salesreturnposition",
      "mediaType": "application/json"
    },
    "id": "13999856-138a-11e6-9464-e4de0000001a",
    "accountId": "305f25aa-137a-11e6-9464-e4de00000001",
    "quantity": 3,
    "price": 35300.0,
    "discount": 0,
    "vat": 0,
    "vatEnabled": false,
    "variant": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/609e36c0-137b-11e6-9464-e4de00000179",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=609e36c0-137b-11e6-9464-e4de00000179"
      }
    },
    "cost": 49
  }
]
Изменить позицию
Запрос на обновление отдельной позиции Розничного возврата.
При обновлении отдельной позиции в возврате можно только изменить количество данной позиции.
Причем это количество должно быть в пределах , где n - кол-во данной позиции в документе, по которому создан возврат.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Розничного возврата.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Розничного возврата.


Пример запроса на обновление отдельной позиции в Розничном возврате.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 10,
            "price": 3000.0,
            "discount": 15,
            "vat": 10,
            "cost": 250
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной позиции Розничного возврата.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "salesreturnposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "305f25aa-137a-11e6-9464-e4de00000001",
  "quantity": 10,
  "price": 3000.0,
  "discount": 15,
  "vat": 0,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/609e36c0-137b-11e6-9464-e4de00000179",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
      "type": "variant",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
    }
  },
  "cost": 250
}

Удалить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Розничного возврата.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Розничного возврата.


Запрос на удаление отдельной позиции Розничного возврата с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление позиции Розничного возврата.

Массовое удаление позиций
Параметры


Параметр
Описание



id
string (required) Example: 3e1c03bb-684f-11ee-ac12-000c000000b0 id Розничного возврата.


Запрос на массовое удаление позиций Розничного возврата.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "salesreturnposition",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/retailsalesreturn/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "salesreturnposition",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление позиций Розничного возврата. 

Списание
Средствами JSON API можно создавать и обновлять сведения о Списаниях, запрашивать списки Списаний и сведения по отдельным Списаниям. Позициями Списаний можно управлять как в составе отдельного Списания, так и отдельно - с помощью специальных ресурсов для управления позициями Списания. Кодом сущности для Списания в составе JSON API является ключевое слово loss. Больше о Списаниях можно прочитать этой ссылке.
СписанияАтрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения Change-handler


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе Change-handler


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта Change-handler


code
String(255)
= != ~ ~= =~
Код Списания


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения Change-handler


deleted
DateTime
= != < > <= >=
Момент последнего удаления СписанияТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий СписанияChange-handler


externalCode
String(255)
= != ~ ~= =~
Внешний код СписанияОбязательное при ответе Change-handler


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID СписанияОбязательное при ответе Только для чтения Change-handler


meta
Meta

Метаданные СписанияОбязательное при ответе Change-handler


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе Change-handler


name
String(255)
= != ~ ~= =~
Наименование СписанияОбязательное при ответе Change-handler


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании Change-handler


owner
Meta
= !=
Владелец (Сотрудник)Expand


positions
MetaArray

Метаданные позиций СписанияОбязательное при ответе Expand Change-handler


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


project
Meta
= !=
Метаданные проектаExpand Change-handler


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


rate
Object

Валюта. Подробнее тутОбязательное при ответе Change-handler


shared
Boolean
= !=
Общий доступОбязательное при ответе


state
Meta
= !=
Метаданные статуса СписанияExpand Change-handler


store
Meta
= !=
Метаданные складаОбязательное при ответе Expand Необходимо при создании Change-handler


sum
Int
= != < > <= >=
Сумма Списания в копейкахОбязательное при ответе Только для чтения Change-handler


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


updated
DateTime
= != < > <= >=
Момент последнего обновления СписанияОбязательное при ответе Только для чтения Change-handler


Связи с другими документами


Название
Описание



salesReturn
Ссылка на связанный со списанием возврат покупателя в формате Метаданных


inventory
Ссылка на связанную со списанием инвентаризацию в формате Метаданных


Позиции Списания
Позиции Списания - это список товаров/модификаций/серий.
Объект позиции Списания содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения Change-handler


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияОбязательное при ответе Expand Change-handler


id
UUID
ID позицииОбязательное при ответе Только для чтения Change-handler


pack
Object
Упаковка Товара. Подробнее тутChange-handler


price
Float
Цена товара/услуги в копейкахОбязательное при ответе Change-handler


quantity
Float
Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.Обязательное при ответе Change-handler


reason
String(255)
Причина списания данной позиции


slot
Meta
Ячейка на складе. Подробнее тутExpand


things
Array(String)
Серийные номера. Значение данного атрибута игнорируется, если товар позиции не находится на серийном учете. В ином случае количество товаров в позиции будет равно количеству серийных номеров, переданных в значении атрибута.Change-handler


С позициями можно работать с помощью специальных ресурсов для управления позициями Списания,
а также в составе отдельного Списания. При работе в составе отдельного Списания,
вы можете отправлять запросы на создание отдельного Списания с включенным в тело запроса
массивом позиций Списания. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Списания".
Также, при работе в составе отдельного Списания, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Списания. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Списания" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
О работе с доп. полями Списаний можно прочитать здесь
Получить Списания
Запрос всех Списаний на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Списания.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить Списания
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/loss"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Списаний.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata",
    "type": "loss",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/6ddca2d7-4f28-11e6-8a84-bae500000066",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata",
        "type": "loss",
        "mediaType": "application/json"
      },
      "id": "6ddca2d7-4f28-11e6-8a84-bae500000066",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-07-21 15:22:54",
      "name": "00001",
      "externalCode": "o5GMiWUJhqhq1vmrUWwI-2",
      "moment": "2016-07-21 12:49:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/cdbc62de-3f68-11e6-8a84-bae500000050",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        },
        "value": 63
      },
      "sum": 3981730,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "attributes": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata/attributes/d0912ad5-4f3d-11e6-8a84-bae500000082",
            "type": "attributemetadata",
            "mediaType": "application/json"
          },
          "id": "d0912ad5-4f3d-11e6-8a84-bae500000082",
          "name": "AttributeName1",
          "type": "double",
          "value": 0.2
        }
      ],
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/6ddca2d7-4f28-11e6-8a84-bae500000066/positions",
          "type": "lossposition",
          "mediaType": "application/json",
          "size": 2,
          "limit": 1000,
          "offset": 0
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/9d020efd-4f2a-11e6-8a84-bae500000078",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata",
        "type": "loss",
        "mediaType": "application/json"
      },
      "id": "9d020efd-4f2a-11e6-8a84-bae500000078",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-07-21 15:23:02",
      "name": "00002",
      "externalCode": "08cP74Ftgc7MrBTbGfGVJ3",
      "moment": "2016-07-21 13:05:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 0,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "attributes": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata/attributes/d0912ad5-4f3d-11e6-8a84-bae500000082",
            "type": "attributemetadata",
            "mediaType": "application/json"
          },
          "id": "d0912ad5-4f3d-11e6-8a84-bae500000082",
          "name": "AttributeName1",
          "type": "double",
          "value": 45.2
        }
      ],
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/9d020efd-4f2a-11e6-8a84-bae500000078/positions",
          "type": "lossposition",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      },
      "salesReturn": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/a8b8e1e3-3f85-11e6-8a84-bae50000008d",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
          "type": "salesreturn",
          "mediaType": "application/json"
        }
      }
    }
  ]
}
Создать Списание
Запрос на создание нового Списания. Для успешного создания необходимо в теле запроса указать следующие поля:

organization - Ссылка на ваше юрлицо в формате Метаданных Необходимое
store - Ссылка на склад в формате Метаданных Необходимое

Пример создания нового Списания.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/loss"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b72f4f02-9b8b-11e6-8af5-581e0000009b",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "positions": [
              {
                "quantity": 23,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/987148b8-9a09-11e6-8af5-581e0000006f",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 12,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/987d77f1-9a09-11e6-8af5-581e00000074",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                    "type": "variant",
                    "mediaType": "application/json"
                  }
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Списания.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/b014dab4-4f42-11e6-8a84-bae500000006",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata",
    "type": "loss",
    "mediaType": "application/json"
  },
  "id": "b014dab4-4f42-11e6-8a84-bae500000006",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-21 15:57:32",
  "name": "00005",
  "externalCode": "itqCvT69hgSZFTJEL9cP70",
  "moment": "2016-07-21 15:57:32",
  "applicable": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 50000,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/b014dab4-4f42-11e6-8a84-bae500000006/positions",
      "type": "lossposition",
      "mediaType": "application/json",
      "size": 3,
      "limit": 1000,
      "offset": 0
    }
  },
  "salesReturn": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/166909e6-4a99-11e6-8a84-bae500000089",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
      "type": "salesreturn",
      "mediaType": "application/json"
    }
  }
}
Массовое создание и обновление Списаний
Массовое создание и обновление Списаний.
В теле запроса нужно передать массив, содержащий JSON представления Списаний, которые вы хотите создать или обновить.
Обновляемые Списания должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Списаний
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/loss"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "store": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/b72f4f02-9b8b-11e6-8af5-581e0000009b",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                  "type": "store",
                  "mediaType": "application/json"
                }
              },
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "positions": [
                {
                  "quantity": 23,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/987148b8-9a09-11e6-8af5-581e0000006f",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                      "type": "product",
                      "mediaType": "application/json"
                    }
                  }
                },
                {
                  "quantity": 12,
                  "assortment": {
                    "meta": {
                      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/987d77f1-9a09-11e6-8af5-581e00000074",
                      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                      "type": "variant",
                      "mediaType": "application/json"
                    }
                  }
                }
              ]
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/b014dab4-4f42-11e6-8a84-bae500000006",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata",
                "type": "loss",
                "mediaType": "application/json"
              },
              "name": "00606234",
              "externalCode": "3498142кук",
              "moment": "2016-07-21 15:57:32",
              "applicable": true,
              "sum": 50000,
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "store": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                  "type": "store",
                  "mediaType": "application/json"
                }
              },
              "positions": [],
              "salesReturn": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/9b83cb6b-3f80-11e6-8a84-bae5000000bb",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
                  "type": "salesreturn",
                  "mediaType": "application/json"
                }
              }
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Списаний.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/b014dab4-4f42-11e6-8a84-bae500000006",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata",
      "type": "loss",
      "mediaType": "application/json"
    },
    "id": "b014dab4-4f42-11e6-8a84-bae500000006",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-07-21 15:57:32",
    "name": "00005",
    "externalCode": "itqCvT69hgSZFTJEL9cP70",
    "moment": "2016-07-21 15:57:32",
    "applicable": false,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 50000,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/b014dab4-4f42-11e6-8a84-bae500000006/positions",
        "type": "lossposition",
        "mediaType": "application/json",
        "size": 3,
        "limit": 1000,
        "offset": 0
      }
    },
    "salesReturn": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/166909e6-4a99-11e6-8a84-bae500000089",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
        "type": "salesreturn",
        "mediaType": "application/json"
      }
    }
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/b014dab4-4f42-11e6-8a84-bae500000006",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata",
      "type": "loss",
      "mediaType": "application/json"
    },
    "id": "b014dab4-4f42-11e6-8a84-bae500000006",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-07-21 16:05:11",
    "name": "00606234",
    "externalCode": "3498142кук",
    "moment": "2016-07-21 15:57:32",
    "applicable": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 0,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/b014dab4-4f42-11e6-8a84-bae500000006/positions",
        "type": "lossposition",
        "mediaType": "application/json",
        "size": 0,
        "limit": 1000,
        "offset": 0
      }
    },
    "salesReturn": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/9b83cb6b-3f80-11e6-8a84-bae5000000bb",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
        "type": "salesreturn",
        "mediaType": "application/json"
      }
    }
  }
]
Удалить Списание
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Списания.


Запрос на удаление Списания с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/loss/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Списания.

Массовое удаление Списаний
В теле запроса нужно передать массив, содержащий JSON метаданных Списаний, которые вы хотите удалить.
Запрос на массовое удаление Списаний. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/loss/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata",
                "type": "loss",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata",
                "type": "loss",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Списаний.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'loss' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'loss' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные СписанийМетаданные Списаний
Запрос на получение метаданных Списаний. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Списаний


attributes
Массив объектов доп. полей Списаний в формате Метаданных


states
Массив статусов Списаний


createShared
создавать новые Списания с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Списаний
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление метаданных Списаний.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata/attributes/d0911efc-4f3d-11e6-8a84-bae500000081",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "d0911efc-4f3d-11e6-8a84-bae500000081",
      "name": "AttributeName1",
      "type": "string",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata/attributes/d0912ad5-4f3d-11e6-8a84-bae500000082",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "d0912ad5-4f3d-11e6-8a84-bae500000082",
      "name": "AttributeName2",
      "type": "double",
      "required": true
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata/attributes/d0912ad5-4f3d-11e6-8a84-bae500000082",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "d0912ad5-4f3d-11e6-8a84-bae500000082",
  "name": "AttributeName1",
  "type": "double",
  "required": true
}
Шаблон СписанияШаблон Списания
Запрос на получение предзаполненого стандартными значениями шаблона списания без связи с каким-либо документом.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/loss/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d ''  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного списания.
ПоказатьСвернуть
{
  "applicable": false,
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2",
      "type": "lossposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    },
    "rows": []
  }
}
Шаблон Списания на основе
Запрос на получение предзаполненного списания на основе возврата покупателя.
В результате запроса, будет создан предзаполненный шаблон списания на основе переданного
возврата покупателя.
Пример с заказом (application/json)
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/loss/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "salesReturn": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/166909e6-4a99-11e6-8a84-bae500000089",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
                "type": "salesreturn",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного списания.
ПоказатьСвернуть
{
  "applicable": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 28000,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2",
      "type": "lossposition",
      "mediaType": "application/json",
      "size": 3,
      "limit": 1000,
      "offset": 0
    },
    "rows": [
      {
        "meta": {
          "type": "lossposition",
          "mediaType": "application/json"
        },
        "quantity": 1,
        "price": 20000.0,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/20485cfd-2e62-11e6-8a84-bae500000112",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
          }
        }
      },
      {
        "meta": {
          "type": "lossposition",
          "mediaType": "application/json"
        },
        "quantity": 1,
        "price": 10000.0,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/328b0454-2e62-11e6-8a84-bae500000118",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
          }
        }
      },
      {
        "meta": {
          "type": "lossposition",
          "mediaType": "application/json"
        },
        "quantity": 1,
        "price": 20000.0,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/20485cfd-2e62-11e6-8a84-bae500000112",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=392c045c-2842-11e9-ac12-000a00000002"
          }
        }
      }
    ]
  },
  "salesReturn": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/166909e6-4a99-11e6-8a84-bae500000089",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
      "type": "salesreturn",
      "mediaType": "application/json"
    }
  }
}

СписаниеПолучить Списание
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Списания.


Запрос на получение отдельного списания с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/loss/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Списания.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/6ddca2d7-4f28-11e6-8a84-bae500000066",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata",
    "type": "loss",
    "mediaType": "application/json"
  },
  "id": "6ddca2d7-4f28-11e6-8a84-bae500000066",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-21 15:22:54",
  "name": "00001",
  "externalCode": "o5GMiWUJhqhq1vmrUWwI-2",
  "moment": "2016-07-21 12:49:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/cdbc62de-3f68-11e6-8a84-bae500000050",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    },
    "value": 63
  },
  "sum": 3981730,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata/attributes/d0912ad5-4f3d-11e6-8a84-bae500000082",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "d0912ad5-4f3d-11e6-8a84-bae500000082",
      "name": "AttributeName1",
      "type": "double",
      "value": 0.2
    }
  ],
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/6ddca2d7-4f28-11e6-8a84-bae500000066/positions",
      "type": "lossposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  }
}
Изменить Списание
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Списания.


Запрос на обновление списания с указанным id.
Пример запроса на обновление отдельного Списания.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/loss/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "00606234",
            "externalCode": "3498142кук",
            "moment": "2016-07-21 15:57:32",
            "applicable": true,
            "sum": 50000,
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "positions": [],
            "salesReturn": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/9b83cb6b-3f80-11e6-8a84-bae5000000bb",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
                "type": "salesreturn",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Списания.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/b014dab4-4f42-11e6-8a84-bae500000006",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata",
    "type": "loss",
    "mediaType": "application/json"
  },
  "id": "b014dab4-4f42-11e6-8a84-bae500000006",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-21 16:05:11",
  "name": "00606234",
  "externalCode": "3498142кук",
  "moment": "2016-07-21 15:57:32",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/b014dab4-4f42-11e6-8a84-bae500000006/positions",
      "type": "lossposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "salesReturn": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/9b83cb6b-3f80-11e6-8a84-bae5000000bb",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
      "type": "salesreturn",
      "mediaType": "application/json"
    }
  }
}

Пример запроса на изменение Списания с дополнительными полями.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/loss/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "00606234",
            "externalCode": "3498142кук",
            "moment": "2016-07-21 15:57:32",
            "applicable": true,
            "sum": 50000,
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "positions": [],
            "salesReturn": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/9b83cb6b-3f80-11e6-8a84-bae5000000bb",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
                "type": "salesreturn",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata/attributes/d0912ad5-4f3d-11e6-8a84-bae500000082",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": 0.7643
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata/attributes/d0911efc-4f3d-11e6-8a84-bae500000081",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "Строковое значение"
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Списания.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/b014dab4-4f42-11e6-8a84-bae500000006",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata",
    "type": "loss",
    "mediaType": "application/json"
  },
  "id": "b014dab4-4f42-11e6-8a84-bae500000006",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-21 16:05:11",
  "name": "00606234",
  "externalCode": "3498142кук",
  "moment": "2016-07-21 15:57:32",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata/attributes/d0911efc-4f3d-11e6-8a84-bae500000081",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "d0911efc-4f3d-11e6-8a84-bae500000081",
      "name": "AttributeName1",
      "type": "string",
      "value": "Строковое значение"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/metadata/attributes/d0912ad5-4f3d-11e6-8a84-bae500000082",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "d0912ad5-4f3d-11e6-8a84-bae500000082",
      "name": "AttributeName2",
      "type": "double",
      "value": 0.7643
    }
  ],
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/b014dab4-4f42-11e6-8a84-bae500000006/positions",
      "type": "lossposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "salesReturn": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/9b83cb6b-3f80-11e6-8a84-bae5000000bb",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/salesreturn/metadata",
      "type": "salesreturn",
      "mediaType": "application/json"
    }
  }
}
Позиции Списания
Отдельный ресурс для управления позициями Списания. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить позиции Списания
Запрос на получение списка всех позиций данного Списания.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой позиции Списания.


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Списания.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить позиции Списания
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/loss/7944ef04-f831-11e5-7a69-971500188b19/positions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного Списания.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/7944ef04-f831-11e5-7a69-971500188b19/positions",
    "type": "lossposition",
    "mediaType": "application/json",
    "size": 3,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/7944ef04-f831-11e5-7a69-971500188b19/positions/0b615a22-4f42-11e6-8a84-bae50000008e",
        "type": "lossposition",
        "mediaType": "application/json"
      },
      "id": "0b615a22-4f42-11e6-8a84-bae50000008e",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 2,
      "price": 20000.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/20485cfd-2e62-11e6-8a84-bae500000112",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=392c045c-2842-11e9-ac12-000a00000002"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/7944ef04-f831-11e5-7a69-971500188b19/positions/0b61605f-4f42-11e6-8a84-bae50000008f",
        "type": "lossposition",
        "mediaType": "application/json"
      },
      "id": "0b61605f-4f42-11e6-8a84-bae50000008f",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 6,
      "price": 10000.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/328b0454-2e62-11e6-8a84-bae500000118",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/7944ef04-f831-11e5-7a69-971500188b19/positions/0b616604-4f42-11e6-8a84-bae500000090",
        "type": "lossposition",
        "mediaType": "application/json"
      },
      "id": "0b616604-4f42-11e6-8a84-bae500000090",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 33000.0,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/328b0454-2e62-11e6-8a84-bae500000118",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
        }
      }
    }
  ]
}
Позиция СписанияПолучить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Списания.


positionID
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b20 id позиции.


Запрос на получение отдельной позиции Списания с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/loss/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Списания.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20",
    "type": "lossposition",
    "mediaType": "application/json"
  },
  "id": "7944ef04-f831-11e5-7a69-971500188b20",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "quantity": 2,
  "price": 20000.0,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/20485cfd-2e62-11e6-8a84-bae500000112",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002"
    }
  }
}
Создать позицию
Запрос на создание новой позиции в Списании.
Для успешного создания необходимо в теле запроса указать следующие поля:

assortment - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем service, consignment, variant в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании позиции Списания
quantity - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Одновременно можно создать как одну так и несколько позиций Списания. Все созданные данным запросом позиции
будут добавлены к уже существующим.

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Списания.


Пример создания позиций в Списании.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/loss/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/7944ef04-f831-11e5-7a69-971500188b19/positions/0b615a22-4f42-11e6-8a84-bae50000008e",
                "type": "lossposition",
                "mediaType": "application/json"
              },
              "quantity": 321,
              "price": 53000.0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/20485cfd-2e62-11e6-8a84-bae500000112",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                  "type": "product",
                  "mediaType": "application/json"
                }
              },
              "reason": "поломка"
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/7944ef04-f831-11e5-7a69-971500188b19/positions/0b615a22-4f42-11e6-8a84-bae50000008e",
                "type": "lossposition",
                "mediaType": "application/json"
              },
              "quantity": 12,
              "price": 2645.0,
              "assortment": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/20485cfd-2e62-11e6-8a84-bae500000112",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                  "type": "product",
                  "mediaType": "application/json"
                }
              },
              "reason": "брак"
            }
          ]
'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного Списания.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/7944ef04-f831-11e5-7a69-971500188b19/positions/0b615a22-4f42-11e6-8a84-bae50000008e",
      "type": "lossposition",
      "mediaType": "application/json"
    },
    "id": "0b615a22-4f42-11e6-8a84-bae50000008e",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 321,
    "price": 53000.0,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/20485cfd-2e62-11e6-8a84-bae500000112",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
      }
    },
    "reason": "поломка"
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/7944ef04-f831-11e5-7a69-971500188b19/positions/0b615a22-4f42-11e6-8a84-bae50000008e",
      "type": "lossposition",
      "mediaType": "application/json"
    },
    "id": "0b615a22-4f42-11e6-8a84-bae50000008e",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 12,
    "price": 2645.0,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/20485cfd-2e62-11e6-8a84-bae500000112",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002"
      }
    },
    "reason": "брак"
  }
]
Изменить позицию
Запрос на обновление отдельной позиции Списания. Для обновления позиции нет каких-либо
 обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Списания.


positionID
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b20 id позиции.


Пример запроса на обновление отдельной позиции в Списании.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/loss/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 172,
            "price": 7777.0,
            "reason": "Разорван"
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной позиции Списания.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20",
    "type": "lossposition",
    "mediaType": "application/json"
  },
  "id": "7944ef04-f831-11e5-7a69-971500188b20",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "quantity": 172,
  "price": 7777.0,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/20485cfd-2e62-11e6-8a84-bae500000112",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002"
    }
  },
  "reason": "Разорван"
}
Удалить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Списания.


positionID
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b20 id позиции.


Запрос на удаление отдельной позиции Списания с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/loss/7944ef04-f831-11e5-7a69-971500188b19/positions/7944ef04-f831-11e5-7a69-971500188b20"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление позиции Списания.

Массовое удаление позиций
Параметры


Параметр
Описание



id
string (required) Example: 3e1c03bb-684f-11ee-ac12-000c000000b0 id Списания.


Запрос на массовое удаление позиций Списания.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/loss/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "lossposition",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/loss/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "lossposition",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление позиций Списания. 

Счет покупателюСчета покупателям
Средствами JSON API можно создавать и обновлять сведения о Счете покупателю, запрашивать списки Счетов и сведения по отдельным Счетам Покупателям. Позициями Счетов можно управлять как в составе отдельного Счета, так и отдельно - с помощью специальных ресурсов для управления позициями Счета. Кодом сущности для Счета покупателю в составе JSON API является ключевое слово invoiceout. Больше о Счетах Покупателям и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по этой ссылке.
Атрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения Change-handler


agent
Meta
= !=
Метаданные контрагентаОбязательное при ответе Expand Необходимо при создании Change-handler


agentAccount
Meta

Метаданные счета контрагентаExpand Change-handler


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе Change-handler


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта Change-handler


code
String(255)
= != ~ ~= =~
Код Счета покупателю


contract
Meta
= !=
Метаданные договораExpand Change-handler


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения Change-handler


deleted
DateTime
= != < > <= >=
Момент последнего удаления Счета покупателюТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Счета покупателю Change-handler


externalCode
String(255)
= != ~ ~= =~
Внешний код Счета покупателюОбязательное при ответе Change-handler


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID Счете покупателюОбязательное при ответе Только для чтения Change-handler


meta
Meta

Метаданные Счета покупателюОбязательное при ответе Change-handler


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе Change-handler


name
String(255)
= != ~ ~= =~
Наименование Счета покупателюОбязательное при ответе Change-handler


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании Change-handler


organizationAccount
Meta

Метаданные счета юрлицаExpand Change-handler


owner
Meta
= !=
Владелец (Сотрудник)Expand


payedSum
Float

Сумма входящих платежей по Счету покупателюОбязательное при ответе Только для чтения Change-handler


paymentPlannedMoment
DateTime
= != < > <= >=
Планируемая дата оплатыChange-handler


positions
MetaArray

Метаданные позиций Счета покупателюОбязательное при ответе Expand Change-handler


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


project
Meta
= !=
Метаданные проектаExpand Change-handler


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


rate
Object

Валюта. Подробнее тутОбязательное при ответе Change-handler


salesChannel
Meta
= !=
Метаданные канала продажExpand


shared
Boolean
= !=
Общий доступОбязательное при ответе


shippedSum
Float

Сумма отгруженногоОбязательное при ответе Только для чтения Change-handler


state
Meta
= !=
Метаданные статуса счетаExpand Change-handler


store
Meta
= !=
Метаданные складаExpand Change-handler


sum
Int
= != < > <= >=
Сумма Счета в установленной валютеОбязательное при ответе Только для чтения Change-handler


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


updated
DateTime
= != < > <= >=
Момент последнего обновления Счета покупателюОбязательное при ответе Только для чтения Change-handler


vatEnabled
Boolean

Учитывается ли НДСОбязательное при ответе Change-handler


vatIncluded
Boolean

Включен ли НДС в ценуChange-handler


vatSum
Float

Сумма НДСОбязательное при ответе Только для чтения Change-handler


Связи с другими документами


Название
Описание



customerOrder
Ссылка на Заказ Покупателя, с которым связан этот Счет покупателю в формате Метаданных


payments
Массив ссылок на связанные операции в формате Метаданных Только для чтения


demands
Массив ссылок на связанные отгрузки в формате Метаданных


Позиции Счета покупателю
Позиции Счета - это список товаров/услуг/модификаций/серий/комплектов.
Объект позиции Счета содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения Change-handler


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияОбязательное при ответе Expand Change-handler


discount
Int
Процент скидки или наценки. Наценка указывается отрицательным числом, т.е. -10 создаст наценку в 10%Обязательное при ответе Change-handler


id
UUID
ID позицииОбязательное при ответе Только для чтения Change-handler


pack
Object
Упаковка Товара. Подробнее тутChange-handler


price
Float
Цена товара/услуги в копейкахОбязательное при ответе Change-handler


quantity
Float
Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.Обязательное при ответе Change-handler


vat
Int
НДС, которым облагается текущая позицияОбязательное при ответе Change-handler


vatEnabled
Boolean
Включен ли НДС для позиции. С помощью этого флага для позиции можно выставлять НДС = 0 или НДС = "без НДС". (vat = 0, vatEnabled = false) -> vat = "без НДС", (vat = 0, vatEnabled = true) -> vat = 0%.Обязательное при ответе Change-handler


С позициями можно работать с помощью специальных ресурсов для управления позициями Счета,
а также в составе отдельного Счета покупателю. При работе в составе отдельного Счета покупателю,
вы можете отправлять запросы на создание отдельного Счета покупателю с включенным в тело запроса
массивом позиций Счета. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Счета покупателю".
Также, при работе в составе отдельного Счета покупателю, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Счета. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Счета" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
О работе с доп. полями Счетов покупателям можно прочитать здесь
Получить Счета покупателям
Запрос всех Счетов покупателям на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Счета покупателям.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить Счета покупателям
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Счетов покупателям.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
    "type": "invoiceout",
    "mediaType": "application/json",
    "size": 3,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/0cb8d047-f664-11e5-8a84-bae500000095",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
        "type": "invoiceout",
        "mediaType": "application/json"
      },
      "id": "0cb8d047-f664-11e5-8a84-bae500000095",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
      "updated": "2016-03-30 16:48:13",
      "name": "00001",
      "externalCode": "TAXyoccKiJPtMhcBAsqqw1",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "moment": "2016-03-30 13:41:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 123000,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/850f1667-f504-11e5-8a84-bae500000163",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/account/850c8af2-f504-11e5-8a84-bae50000015f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "agentAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/account/850f1eab-f504-11e5-8a84-bae500000164",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/0cb8d047-f664-11e5-8a84-bae500000095/positions",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
          "type": "invoiceposition",
          "mediaType": "application/json",
          "size": 6,
          "limit": 1000,
          "offset": 0
        }
      },
      "payedSum": 0,
      "shippedSum": 0,
      "salesChannel": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
          "type": "saleschannel",
          "mediaType": "application/json"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/2ee1ce22-019e-11e6-9464-e4de0000007d",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
        "type": "invoiceout",
        "mediaType": "application/json"
      },
      "id": "2ee1ce22-019e-11e6-9464-e4de0000007d",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "updated": "2016-04-22 15:00:07",
      "name": "13212",
      "externalCode": "Vv-7tagmi46o0TTT6XI1a0",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "moment": "2016-04-14 11:02:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 408739611676,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "contract": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/8ce3c179-015e-11e6-9464-e4de0000007a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
          "type": "contract",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9794d400-f689-11e5-8a84-bae500000078",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/account/850c8af2-f504-11e5-8a84-bae50000015f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "agentAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/account/9794f7a0-f689-11e5-8a84-bae500000079",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/2ee1ce22-019e-11e6-9464-e4de0000007d/positions",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
          "type": "invoiceposition",
          "mediaType": "application/json",
          "size": 4,
          "limit": 1000,
          "offset": 0
        }
      },
      "paymentPlannedMoment": "2016-04-15 11:03:00",
      "payedSum": 0,
      "shippedSum": 0,
      "customerOrder": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/34efe2ee-015e-11e6-9464-e4de0000006b",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
          "type": "customerorder",
          "mediaType": "application/json"
        }
      },
      "salesChannel": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
          "type": "saleschannel",
          "mediaType": "application/json"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/8a7a037d-0564-11e6-9464-e4de000000a2",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
        "type": "invoiceout",
        "mediaType": "application/json"
      },
      "id": "8a7a037d-0564-11e6-9464-e4de000000a2",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "updated": "2016-04-18 15:53:25",
      "name": "13213",
      "externalCode": "lLXQLQQrg2s1Q6j8vVt7g2",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "moment": "2016-04-18 15:53:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 0,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/51f263f9-0307-11e6-9464-e4de0000007c",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/account/3a30e844-016f-11e6-9464-e4de00000068",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "agentAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/account/3a30e844-016f-11e6-9464-e4de00000068",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/8a7a037d-0564-11e6-9464-e4de000000a2/positions",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
          "type": "invoiceposition",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      },
      "paymentPlannedMoment": "2016-04-09 15:53:00",
      "payedSum": 0,
      "shippedSum": 0,
      "salesChannel": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
          "type": "saleschannel",
          "mediaType": "application/json"
        }
      }
    }
  ]
}
Создать Счет покупателю
Запрос на создание нового Счета покупателю.
Обязательные для создания поля:


Параметр
Описание



name
номер Счета покупателю


organization
Ссылка на ваше юрлицо в формате Метаданных


agent
Ссылка на контрагента (покупателя) в формате Метаданных


Пример создания нового Счета с телом запроса, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "inv_out_name",
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/850f1667-f504-11e5-8a84-bae500000163",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Счета покупателю.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/726e5b8c-0886-11e6-9464-e4de0000002a",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
    "type": "invoiceout",
    "mediaType": "application/json"
  },
  "id": "726e5b8c-0886-11e6-9464-e4de0000002a",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-22 16:02:47",
  "name": "inv_out_name",
  "externalCode": "BtPDebO1g1PlmStW1jr--2",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-22 16:02:47",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/850f1667-f504-11e5-8a84-bae500000163",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/account/3a30e844-016f-11e6-9464-e4de00000068",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/account/850f1eab-f504-11e5-8a84-bae500000164",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/726e5b8c-0886-11e6-9464-e4de0000002a/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
      "type": "invoiceposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "shippedSum": 0
}

Пример создания нового Счета с более насыщенным телом запроса.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "inv_out_name",
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/850f1667-f504-11e5-8a84-bae500000163",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "code": "1243521",
            "externalCode": "666777666",
            "moment": "2016-04-19 13:50:24",
            "applicable": true,
            "description": "Описание счета",
            "organizationAccount": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/account/850c8af2-f504-11e5-8a84-bae50000015f",
                "type": "account",
                "mediaType": "application/json"
              }
            },
            "agentAccount": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/account/850f1eab-f504-11e5-8a84-bae500000164",
                "type": "account",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "salesChannel": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
                "type": "saleschannel",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Счета покупателю.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/128465fd-0887-11e6-9464-e4de0000002e",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
    "type": "invoiceout",
    "mediaType": "application/json"
  },
  "id": "128465fd-0887-11e6-9464-e4de0000002e",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-22 16:07:16",
  "name": "inv_out_name",
  "description": "Описание счета",
  "code": "1243521",
  "externalCode": "666777666",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-19 13:50:24",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/850f1667-f504-11e5-8a84-bae500000163",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/account/850c8af2-f504-11e5-8a84-bae50000015f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/account/850f1eab-f504-11e5-8a84-bae500000164",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/128465fd-0887-11e6-9464-e4de0000002e/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
      "type": "invoiceposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "shippedSum": 0,
  "salesChannel": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
      "type": "saleschannel",
      "mediaType": "application/json"
    }
  }
}

Пример запроса на создание Счета покупателю с доп. полями.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "inv_out_name",
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/850f1667-f504-11e5-8a84-bae500000163",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "code": "1243521",
            "externalCode": "666777666",
            "moment": "2016-04-19 13:50:24",
            "applicable": true,
            "description": "Комментарий к счету",
            "organizationAccount": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/account/850c8af2-f504-11e5-8a84-bae50000015f",
                "type": "account",
                "mediaType": "application/json"
              }
            },
            "agentAccount": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/account/850f1eab-f504-11e5-8a84-bae500000164",
                "type": "account",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "значение доп поля"
              }
            ],
            "salesChannel": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
                "type": "saleschannel",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Счета покупателю.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/c358e3ac-0887-11e6-9464-e4de00000032",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
    "type": "invoiceout",
    "mediaType": "application/json"
  },
  "id": "c358e3ac-0887-11e6-9464-e4de00000032",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-22 16:12:12",
  "name": "inv_out_name2",
  "description": "Комментарий к счету",
  "code": "124352133",
  "externalCode": "666777666",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-19 13:50:24",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/850f1667-f504-11e5-8a84-bae500000163",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/account/850c8af2-f504-11e5-8a84-bae50000015f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/account/850f1eab-f504-11e5-8a84-bae500000164",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "51d191f4-0887-11e6-9464-e4de00000079",
      "name": "AttributeName1",
      "type": "string",
      "value": "значение доп поля"
    }
  ],
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/c358e3ac-0887-11e6-9464-e4de00000032/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
      "type": "invoiceposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "shippedSum": 0,
  "salesChannel": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
      "type": "saleschannel",
      "mediaType": "application/json"
    }
  }
}

Пример запроса на создание Счета покупателю с позициями в теле запроса.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "inv_out_name3",
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/850f1667-f504-11e5-8a84-bae500000163",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "code": "12435213322",
            "externalCode": "666777666",
            "moment": "2016-04-19 13:50:24",
            "applicable": true,
            "description": "Комментарий к счету",
            "organizationAccount": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/account/850c8af2-f504-11e5-8a84-bae50000015f",
                "type": "account",
                "mediaType": "application/json"
              }
            },
            "agentAccount": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/account/850f1eab-f504-11e5-8a84-bae500000164",
                "type": "account",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "positions": [
              {
                "quantity": 10,
                "price": 100.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/8b382799-f7d2-11e5-8a84-bae5000003a5",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 20,
                "price": 200.0,
                "discount": 0,
                "vat": 21,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/be903062-f504-11e5-8a84-bae50000019a",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Счета покупателю.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/6afee657-0888-11e6-9464-e4de00000037",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
    "type": "invoiceout",
    "mediaType": "application/json"
  },
  "id": "6afee657-0888-11e6-9464-e4de00000037",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-22 16:16:54",
  "name": "inv_out_name3",
  "description": "Комментарий к счету",
  "code": "12435213322",
  "externalCode": "666777666",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-19 13:50:24",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 5840,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/850f1667-f504-11e5-8a84-bae500000163",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/account/850c8af2-f504-11e5-8a84-bae50000015f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/account/850f1eab-f504-11e5-8a84-bae500000164",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/6afee657-0888-11e6-9464-e4de00000037/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
      "type": "invoiceposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "shippedSum": 0
}
Массовое создание и обновление Счетов покупателю
Массовое создание и обновление Счетов покупателю.
В теле запроса нужно передать массив, содержащий JSON представления Счетов покупателю, которые вы хотите создать или обновить.
Обновляемые Счета покупателю должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Счетов покупателю
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "name": "inv_out_name",
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/850f1667-f504-11e5-8a84-bae500000163",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                  "type": "counterparty",
                  "mediaType": "application/json"
                }
              }
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/6afee657-0888-11e6-9464-e4de00000037",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
                "type": "invoiceout",
                "mediaType": "application/json"
              },
              "name": "change name",
              "code": "change_code",
              "externalCode": "666777666",
              "moment": "2016-04-19 13:50:24",
              "applicable": false,
              "description": "Комментарий к счету",
              "store": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                  "type": "store",
                  "mediaType": "application/json"
                }
              }
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Счетов покупателю.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/726e5b8c-0886-11e6-9464-e4de0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
      "type": "invoiceout",
      "mediaType": "application/json"
    },
    "id": "726e5b8c-0886-11e6-9464-e4de0000002a",
    "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
    "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
    "updated": "2016-04-22 16:02:47",
    "name": "inv_out_name",
    "externalCode": "BtPDebO1g1PlmStW1jr--2",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "moment": "2016-04-22 16:02:47",
    "applicable": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 0,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/850f1667-f504-11e5-8a84-bae500000163",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/account/3a30e844-016f-11e6-9464-e4de00000068",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "agentAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/account/850f1eab-f504-11e5-8a84-bae500000164",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/726e5b8c-0886-11e6-9464-e4de0000002a/positions",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
        "type": "invoiceposition",
        "mediaType": "application/json",
        "size": 0,
        "limit": 1000,
        "offset": 0
      }
    },
    "payedSum": 0,
    "shippedSum": 0,
    "salesChannel": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
        "type": "saleschannel",
        "mediaType": "application/json"
      }
    }
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/6afee657-0888-11e6-9464-e4de00000037",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
      "type": "invoiceout",
      "mediaType": "application/json"
    },
    "id": "6afee657-0888-11e6-9464-e4de00000037",
    "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
    "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
    "updated": "2016-04-22 16:21:19",
    "name": "change name",
    "description": "Комментарий к счету",
    "code": "change_code",
    "externalCode": "666777666",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "moment": "2016-04-19 13:50:24",
    "applicable": false,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 5840,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/850f1667-f504-11e5-8a84-bae500000163",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/account/850c8af2-f504-11e5-8a84-bae50000015f",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "agentAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/account/850f1eab-f504-11e5-8a84-bae500000164",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/6afee657-0888-11e6-9464-e4de00000037/positions",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
        "type": "invoiceposition",
        "mediaType": "application/json",
        "size": 2,
        "limit": 1000,
        "offset": 0
      }
    },
    "payedSum": 0,
    "shippedSum": 0,
    "salesChannel": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
        "type": "saleschannel",
        "mediaType": "application/json"
      }
    }
  }
]
Удалить Счет покупателю
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Счета покупателю.


Запрос на удаление Счета покупателю с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Счета покупателю.

Массовое удаление Счетов покупателям
В теле запроса нужно передать массив, содержащий JSON метаданных Счетов покупателям, которые вы хотите удалить.
Запрос на массовое удаление Счетов покупателям. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
                "type": "invoiceout",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
                "type": "invoiceout",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Счетов покупателям.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'invoiceout' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'invoiceout' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные Счетов покупателямМетаданные Счетов покупателям
Запрос на получение метаданных Счетов покупателям. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Счетов покупателям


attributes
Массив объектов доп. полей Счетов покупателям в формате Метаданных


states
Массив статусов Счетов покупателям


createShared
создавать новые Счета покупателям с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Счетов покупателям
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Счетов покупателям.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata/attributes/51d191f4-0887-11e6-9464-e4de00000079",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "51d191f4-0887-11e6-9464-e4de00000079",
      "name": "AttributeName1",
      "type": "string",
      "required": false
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Отдельное доп. поле
Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata/attributes/d91965f1-558b-11e6-8a84-bae500000087",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "d91965f1-558b-11e6-8a84-bae500000087",
  "name": "AttributeName1",
  "type": "double",
  "required": false
}
Шаблон Счета покупателюШаблон Счета покупателю
Запрос на получение предзаполненого стандартными значениями шаблона счета покупателю без связи с каким-либо документом.
Пустое тело запроса (application/json)
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d ''  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного счета покупателю.
ПоказатьСвернуть
{
  "applicable": false,
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2",
      "type": "invoiceposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    },
    "rows": []
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "payedSum": 0,
  "shippedSum": 0
}
Шаблон Счета покупателю на основе
Запрос на получение предзаполненного счета покупателю на основе заказа покупателя или отгрузки.
В результате запроса, будет создан предзаполненный шаблон счета покупателю на основе переданного
документа.
Запрос на создание счета покупателю на основе заказа покупателя.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "customerOrder": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/451cb4c0-3d1d-11e6-8a84-bae500000004",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
                "type": "customerorder",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного счета покупателю.
ПоказатьСвернуть
{
  "applicable": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/6792c8d5-3d19-11e6-8a84-bae500000005",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2",
      "type": "invoiceposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    },
    "rows": []
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "payedSum": 0,
  "shippedSum": 0,
  "customerOrder": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/451cb4c0-3d1d-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/customerorder/metadata",
      "type": "customerorder",
      "mediaType": "application/json"
    }
  }
}

Запрос на создание счета покупателю на основе отгрузки.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "demands": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/94e39314-cba5-11e7-6a80-332a00000035",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
                  "type": "demand",
                  "mediaType": "application/json",
                  "uuidHref": "https://online.moysklad.ru/app/#demand/edit?id=94e39314-cba5-11e7-6a80-332a00000035"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного счета покупателю.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/46073d61-ca1f-11e7-6a80-332a0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=46073d61-ca1f-11e7-6a80-332a0000002a"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/452fb22f-ca1f-11e7-6a80-332a00000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "name": "",
  "moment": "2017-11-22 19:08:56",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/464062ac-ca1f-11e7-6a80-332a00000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#currency/edit?id=464062ac-ca1f-11e7-6a80-332a00000058"
      }
    }
  },
  "sum": 90000,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/463f8970-ca1f-11e7-6a80-332a00000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=463f8970-ca1f-11e7-6a80-332a00000053"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/463fe231-ca1f-11e7-6a80-332a00000056",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=463fe231-ca1f-11e7-6a80-332a00000056"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/463a706e-ca1f-11e7-6a80-332a00000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=463a706e-ca1f-11e7-6a80-332a00000051"
    }
  },
  "documents": {
    "rows": []
  },
  "positions": {
    "rows": [
      {
        "quantity": 1,
        "price": 90000.0,
        "discount": 0,
        "vat": 0,
        "vatEnabled": false,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/b5d328b3-cab0-11e7-6a80-332a0000000d",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
            "type": "variant",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
          }
        }
      }
    ]
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "payedSum": 0,
  "shippedSum": 0,
  "demands": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/94e39314-cba5-11e7-6a80-332a00000035",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
        "type": "demand",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#demand/edit?id=94e39314-cba5-11e7-6a80-332a00000035"
      }
    }
  ]
}
Счет покупателюПолучить Счет покупателю
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Счета покупателя.


Запрос на получение отдельного Счета покупателю с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Счета покупателю.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/0cb8d047-f664-11e5-8a84-bae500000095",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
    "type": "invoiceout",
    "mediaType": "application/json"
  },
  "id": "0cb8d047-f664-11e5-8a84-bae500000095",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-03-30 16:48:13",
  "name": "00001",
  "externalCode": "TAXyoccKiJPtMhcBAsqqw1",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-03-30 13:41:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 123000,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/850f1667-f504-11e5-8a84-bae500000163",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/account/850c8af2-f504-11e5-8a84-bae50000015f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/account/850f1eab-f504-11e5-8a84-bae500000164",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/0cb8d047-f664-11e5-8a84-bae500000095/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
      "type": "invoiceposition",
      "mediaType": "application/json",
      "size": 6,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "shippedSum": 0,
  "salesChannel": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
      "type": "saleschannel",
      "mediaType": "application/json"
    }
  }
}
Изменить Счет покупателю
Запрос на обновление Счета покупателю с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Счета покупателю, кроме тех, что
помечены Только для чтения в описании атрибутов Счета покупателю.
При обновлении полей organization и agent нужно также обновить поля organizationAccount и
agentAccount соответственно, иначе произойдет ошибка.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Счета покупателя.


Пример запроса на обновление отдельного Счета покупателю.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "change name",
            "code": "change_code",
            "externalCode": "666777666",
            "moment": "2016-04-19 13:50:24",
            "applicable": false,
            "description": "Комментарий к счету",
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Счета покупателю.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/6afee657-0888-11e6-9464-e4de00000037",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
    "type": "invoiceout",
    "mediaType": "application/json"
  },
  "id": "6afee657-0888-11e6-9464-e4de00000037",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-22 16:21:19",
  "name": "change name",
  "description": "Комментарий к счету",
  "code": "change_code",
  "externalCode": "666777666",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-19 13:50:24",
  "applicable": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 5840,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/850f1667-f504-11e5-8a84-bae500000163",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/account/850c8af2-f504-11e5-8a84-bae50000015f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/account/850f1eab-f504-11e5-8a84-bae500000164",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/6afee657-0888-11e6-9464-e4de00000037/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
      "type": "invoiceposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "shippedSum": 0,
  "salesChannel": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
      "type": "saleschannel",
      "mediaType": "application/json"
    }
  }
}

Пример запроса на изменение Счета покупателю с дополнительными полями.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "change name",
            "code": "change_code",
            "externalCode": "666777666",
            "moment": "2016-04-19 13:50:24",
            "applicable": false,
            "description": "Комментарий к счету",
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "new_val"
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Счета покупателю.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/6afee657-0888-11e6-9464-e4de00000037",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
    "type": "invoiceout",
    "mediaType": "application/json"
  },
  "id": "6afee657-0888-11e6-9464-e4de00000037",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-22 16:21:19",
  "name": "change name",
  "description": "Комментарий к счету",
  "code": "change_code",
  "externalCode": "666777666",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-04-19 13:50:24",
  "applicable": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 5840,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/850f1667-f504-11e5-8a84-bae500000163",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/account/850c8af2-f504-11e5-8a84-bae50000015f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/account/850f1eab-f504-11e5-8a84-bae500000164",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "51d191f4-0887-11e6-9464-e4de00000079",
      "name": "AttributeName1",
      "type": "string",
      "value": "new_val"
    }
  ],
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/6afee657-0888-11e6-9464-e4de00000037/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
      "type": "invoiceposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "shippedSum": 0,
  "salesChannel": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
      "type": "saleschannel",
      "mediaType": "application/json"
    }
  }
}

Пример запроса на обновление Счета покупателю с позициями в теле запроса.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "change name again",
            "code": "change_code_again",
            "externalCode": "666777666",
            "moment": "2016-04-19 13:50:24",
            "applicable": false,
            "description": "Now with 1 position",
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": "new_val_again"
              }
            ],
            "positions": [
              {
                "quantity": 20,
                "price": 200.0,
                "discount": 0,
                "vat": 21,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/be903062-f504-11e5-8a84-bae50000019a",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Счета покупателю.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/6afee657-0888-11e6-9464-e4de00000037",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
    "type": "invoiceout",
    "mediaType": "application/json"
  },
  "id": "6afee657-0888-11e6-9464-e4de00000037",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "syncId": "734a9e26-45a2-4ead-849c-e144daeb854d",
  "updated": "2016-04-22 16:25:06",
  "name": "change name again",
  "description": "Now with 1 position",
  "code": "change_code_again",
  "externalCode": "666777666",
  "owner": {
    "name": "Администратор"
  },
  "shared": false,
  "group": {
    "name": "Основной"
  },
  "moment": "2016-04-19 13:50:24",
  "applicable": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 4000,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/850c8195-f504-11e5-8a84-bae50000015e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/850ee995-f504-11e5-8a84-bae500000160",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/850f1667-f504-11e5-8a84-bae500000163",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/account/850c8af2-f504-11e5-8a84-bae50000015f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/account/850f1eab-f504-11e5-8a84-bae500000164",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata/attributes/0cd74e1e-2e59-11e6-8a84-bae50000008a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "51d191f4-0887-11e6-9464-e4de00000079",
      "name": "AttributeName1",
      "type": "string",
      "value": "new_val_again"
    }
  ],
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/6afee657-0888-11e6-9464-e4de00000037/positions",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
      "type": "invoiceposition",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "shippedSum": 0,
  "salesChannel": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/saleschannel/56446e7f-3633-11ec-ac13-000d00000000",
      "type": "saleschannel",
      "mediaType": "application/json"
    }
  }
}
Позиции Счета покупателю
Отдельный ресурс для управления позициями Счета покупателю. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить позиции Счета покупателю
Запрос на получение списка всех позиций данного Счета покупателю.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой позиции Счета покупателю.


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Счета покупателя.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить позиции Счета покупателю
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/7944ef04-f831-11e5-7a69-971500188b19/positions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного Счета покупателю.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/7944ef04-f831-11e5-7a69-971500188b19/positions",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
    "type": "invoiceposition",
    "mediaType": "application/json",
    "size": 1,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/7944ef04-f831-11e5-7a69-971500188b19/positions/90572e91-0889-11e6-9464-e4de00000043",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
        "type": "invoiceposition",
        "mediaType": "application/json"
      },
      "id": "90572e91-0889-11e6-9464-e4de00000043",
      "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
      "quantity": 20,
      "price": 200.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/be903062-f504-11e5-8a84-bae50000019a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
        }
      }
    }
  ]
}
Позиция Счета покупателя
Отдельная позиция Счета покупателю с указанным id позиции.
Получить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Счета покупателя.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id id позиции Счета покупателю.


Запрос на получение отдельной позиции Счета с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Счета покупателю.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
    "type": "invoiceposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "quantity": 12,
  "price": 999.0,
  "discount": 1,
  "vat": 0,
  "vatEnabled": false,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/671402e4-f7d2-11e5-8a84-bae50000007c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
      "type": "variant",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
    }
  }
}
Создать позицию
Запрос на создание новой позиции в Счете покупателю.
Для успешного создания необходимо в теле запроса указать следующие поля:

assortment - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем service, consignment, variant в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании позиции Счета
quantity - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.
Также, как и при работе с Позициями Заказа Покупателя, можно создать как одну, так и несколько позиций в одном запросе.

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Счета покупателя.


Пример создания позиции в Счете покупателю.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 12,
            "price": 999.0,
            "discount": 1,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/671402e4-f7d2-11e5-8a84-bae50000007c",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                "type": "variant",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного Счете покупателю.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/7944ef04-f831-11e5-7a69-971500188b19/positions/8a43c5a3-088a-11e6-9464-e4de00000046",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
      "type": "invoiceposition",
      "mediaType": "application/json"
    },
    "id": "8a43c5a3-088a-11e6-9464-e4de00000046",
    "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
    "quantity": 12,
    "price": 999.0,
    "discount": 1,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/671402e4-f7d2-11e5-8a84-bae50000007c",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
      }
    }
  }
]
Изменить позицию
Запрос на обновление отдельной позиции Счета. Для обновления позиции нет каких-либо
обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Счета покупателя.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id id позиции Счета покупателю.


Пример запроса на обновление отдельной позиции в Счете покупателю.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 22,
            "price": 1000.0,
            "discount": 0,
            "vat": 12
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной позиции Счета покупателю.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/metadata",
    "type": "invoiceposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "quantity": 22,
  "price": 1000.0,
  "discount": 0,
  "vat": 0,
  "vatEnabled": false,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/671402e4-f7d2-11e5-8a84-bae50000007c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
      "type": "variant",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
    }
  }
}
Удалить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Счета покупателя.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id id позиции Счета покупателю.


Запрос на удаление отдельной позиции Счета с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление позиции Счета.

Массовое удаление позиций
Параметры


Параметр
Описание



id
string (required) Example: 3e1c03bb-684f-11ee-ac12-000c000000b0 id Счета покупателя.


Запрос на массовое удаление позиций Счета покупателя.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "invoiceposition",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoiceout/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "invoiceposition",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление позиций Счета покупателя. 

Счет поставщикаСчета поставщиков
Средствами JSON API можно создавать и обновлять сведения о Счете поставщика, запрашивать списки Счетов и сведения по отдельным Счетам Поставщиков. Позициями Счетов можно управлять как в составе отдельного Счета, так и отдельно - с помощью специальных ресурсов для управления позициями Счета. Кодом сущности для Счета поставщика в составе JSON API является ключевое слово invoicein. Больше о Счетах Поставщиков и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по этой ссылке.
Атрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения Change-handler


agent
Meta
= !=
Метаданные контрагентаОбязательное при ответе Expand Необходимо при создании Change-handler


agentAccount
Meta

Метаданные счета контрагентаExpand Change-handler


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе Change-handler


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объектаChange-handler


code
String(255)
= != ~ ~= =~
Код Счета поставщика


contract
Meta
= !=
Метаданные договораExpand Change-handler


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения Change-handler


deleted
DateTime
= != < > <= >=
Момент последнего удаления Счета поставщикаТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Счета поставщикаChange-handler


externalCode
String(255)
= != ~ ~= =~
Внешний код Счета поставщикаОбязательное при ответе Change-handler


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID Счета поставщикаОбязательное при ответе Только для чтения Change-handler


incomingDate
DateTime
= != < > <= >=
Входящая датаChange-handler


incomingNumber
Float
= != ~ ~= =~
Входящий номерChange-handler


meta
Meta

Метаданные Счета поставщикаОбязательное при ответе Change-handler


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе Change-handler


name
String(255)
= != ~ ~= =~
Наименование Счета поставщикаОбязательное при ответе Change-handler


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании Change-handler


organizationAccount
Meta

Метаданные счета юрлицаExpand Change-handler


owner
Meta
= !=
Владелец (Сотрудник)Expand


payedSum
Float

Сумма входящих платежей по Счету поставщикаОбязательное при ответе Только для чтения Change-handler


paymentPlannedMoment
DateTime
= != < > <= >=
Планируемая дата оплатыChange-handler


positions
MetaArray

Метаданные позиций Счета поставщикаОбязательное при ответе Expand Change-handler


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


project
Meta
= !=
Метаданные проектаExpand Change-handler


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


rate
Object

Валюта. Подробнее тутОбязательное при ответе Change-handler


shared
Boolean
= !=
Общий доступОбязательное при ответе


shippedSum
Float

Сумма отгруженногоОбязательное при ответе Только для чтения Change-handler


state
Meta
= !=
Метаданные статуса счетаExpand Change-handler


store
Meta
= !=
Метаданные складаExpand Change-handler


sum
Int
= != < > <= >=
Сумма Счета в установленной валютеОбязательное при ответе Только для чтения Change-handler


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


updated
DateTime
= != < > <= >=
Момент последнего обновления Счета поставщикаОбязательное при ответе Только для чтения Change-handler


vatEnabled
Boolean

Учитывается ли НДСОбязательное при ответе Change-handler


vatIncluded
Boolean

Включен ли НДС в ценуChange-handler


vatSum
Float

Сумма НДСОбязательное при ответе Только для чтения Change-handler


Связи с другими документами


Название
Описание



payments
Массив ссылок на связанные операции в формате Метаданных Только для чтения


purchaseOrder
Ссылка на связанный заказ поставщику в формате Метаданных


supplies
Ссылки на связанные приемки в формате Метаданных


Позиции Счета поставщика
Позиции Счета - это список товаров/услуг/модификаций/серий.
Объект позиции Счета содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения Change-handler


assortment
Meta
Метаданные товара/услуги/серии/модификации, которую представляет собой позицияОбязательное при ответе Expand Change-handler


discount
Int
Процент скидки или наценки. Наценка указывается отрицательным числом, т.е. -10 создаст наценку в 10%Обязательное при ответе Change-handler


id
UUID
ID позицииОбязательное при ответе Только для чтения Change-handler


pack
Object
Упаковка Товара. Подробнее тутChange-handler


price
Float
Цена товара/услуги в копейкахОбязательное при ответе Change-handler


quantity
Float
Количество товаров/услуг данного вида в позиции. Если позиция - товар, у которого включен учет по серийным номерам, то значение в этом поле всегда будет равно количеству серийных номеров для данной позиции в документе.Обязательное при ответе Change-handler


vat
Int
НДС, которым облагается текущая позицияОбязательное при ответе Change-handler


vatEnabled
Boolean
Включен ли НДС для позиции. С помощью этого флага для позиции можно выставлять НДС = 0 или НДС = "без НДС". (vat = 0, vatEnabled = false) -> vat = "без НДС", (vat = 0, vatEnabled = true) -> vat = 0%.Обязательное при ответе Change-handler


С позициями можно работать с помощью специальных ресурсов для управления позициями Счета,
а также в составе отдельного Счета поставщика. При работе в составе отдельного Счета поставщика,
вы можете отправлять запросы на создание отдельного Счета поставщика с включенным в тело запроса
массивом позиций Счета. Если количество позиций превышает максимально допустимое, то для
дальнейшего пополнения позиций нужно будет работать со специальным ресурсом "Позиции Счета поставщика".
Также, при работе в составе отдельного Счета поставщика, можно отправлять запросы на обновление списка позиций
с включенным в тело запроса массивом позиций Счета. При этом важно помнить, что коллекция позиций будет
восприниматься как "все позиции Счета" и полностью заменит уже существующую коллекцию при обновлении объекта - лишние
позиции будут удалены, новые добавлены, существующие - изменены.
О работе с доп. полями Счетов поставщиков можно прочитать здесь
Получить Счета поставщиков
Запрос всех Счетов поставщиков на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Счета поставщиков.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить Счета поставщиков
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/invoicein"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Счетов поставщиков.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
    "type": "invoicein",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/af6f9b4c-2e64-11e6-8a84-bae500000149",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
        "type": "invoicein",
        "mediaType": "application/json"
      },
      "id": "af6f9b4c-2e64-11e6-8a84-bae500000149",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-06-10 17:04:15",
      "name": "00001",
      "externalCode": "tGOteo8phk7xjWaYInNdo3",
      "moment": "2016-06-10 10:16:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 0,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/faf41a7b-2e58-11e6-8a84-bae500000051",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "vatEnabled": true,
      "vatIncluded": true,
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/af6f9b4c-2e64-11e6-8a84-bae500000149/positions",
          "type": "invoiceposition",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      },
      "payedSum": 0,
      "shippedSum": 0,
      "incomingNumber": "2"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/36c000ad-3f52-11e6-8a84-bae500000069",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
        "type": "invoicein",
        "mediaType": "application/json"
      },
      "id": "36c000ad-3f52-11e6-8a84-bae500000069",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-07-01 09:08:21",
      "name": "00002",
      "externalCode": "oS8jXsK8hHmxYzn8MzT1d0",
      "moment": "2016-07-01 09:07:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 0,
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "store": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "contract": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/2b34d43f-3f52-11e6-8a84-bae500000066",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
          "type": "contract",
          "mediaType": "application/json"
        }
      },
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/722e39f0-313e-11e6-8a84-bae500000008",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1489a08d-32ca-11e6-8a84-bae50000000d",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organizationAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "agentAccount": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1489a08d-32ca-11e6-8a84-bae50000000d/accounts/1489ad8d-32ca-11e6-8a84-bae50000000e",
          "type": "account",
          "mediaType": "application/json"
        }
      },
      "vatEnabled": true,
      "vatIncluded": true,
      "positions": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/36c000ad-3f52-11e6-8a84-bae500000069/positions",
          "type": "invoiceposition",
          "mediaType": "application/json",
          "size": 2,
          "limit": 1000,
          "offset": 0
        }
      },
      "paymentPlannedMoment": "2016-07-07 09:07:00",
      "payedSum": 0,
      "shippedSum": 0,
      "incomingNumber": "124124",
      "incomingDate": "2016-07-28 00:00:00"
    }
  ]
}
Создать Счет поставщика
Запрос на создание нового Счета поставщика.
Обязательные для создания поля:


Параметр
Описание



name
номер Счета поставщика


organization
Ссылка на ваше юрлицо в формате Метаданных


agent
Ссылка на контрагента (поставщика) в формате Метаданных


Пример создания нового Счета с телом запроса, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/invoicein"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "007232",
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Счета поставщика.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/06fdb416-3f55-11e6-8a84-bae500000007",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
    "type": "invoicein",
    "mediaType": "application/json"
  },
  "id": "06fdb416-3f55-11e6-8a84-bae500000007",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 09:28:30",
  "name": "007232",
  "externalCode": "zpLXS2--gsfaXr1VEn8Xv1",
  "moment": "2016-07-01 09:28:30",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/06fdb416-3f55-11e6-8a84-bae500000007/positions",
      "type": "invoiceposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "shippedSum": 0
}

Пример создания нового Счета с более насыщенным телом запроса.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/invoicein"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "00732",
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "code": "77881123",
            "externalCode": "33443",
            "moment": "2016-06-27 10:52:24",
            "applicable": true,
            "description": "Счет поставщика",
            "organizationAccount": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
                "type": "account",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "incomingNumber": "12412412",
            "incomingDate": "2016-06-17 10:52:24"
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Счета поставщика.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/6d4d1628-3f54-11e6-8a84-bae500000000",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
    "type": "invoicein",
    "mediaType": "application/json"
  },
  "id": "6d4d1628-3f54-11e6-8a84-bae500000000",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 09:24:12",
  "name": "00732",
  "description": "Счет поставщика",
  "code": "77881123",
  "externalCode": "33443",
  "moment": "2016-06-27 10:52:24",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/6d4d1628-3f54-11e6-8a84-bae500000000/positions",
      "type": "invoiceposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "shippedSum": 0,
  "incomingNumber": "12412412",
  "incomingDate": "2016-06-17 10:52:24"
}

Пример запроса на создание Счета поставщика с доп. полями.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/invoicein"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "5500732",
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "code": "77881123",
            "externalCode": "33443",
            "moment": "2016-06-27 10:52:24",
            "applicable": true,
            "description": "Счет поставщика",
            "organizationAccount": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
                "type": "account",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "incomingNumber": "12412412",
            "incomingDate": "2016-06-17 10:52:24",
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata/attributes/e97c5ea8-3f52-11e6-8a84-bae50000006f",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": 5
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata/attributes/48c7b9af-3f55-11e6-8a84-bae500000076",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": true
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Счета поставщика.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/ab4486eb-3f55-11e6-8a84-bae50000000b",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
    "type": "invoicein",
    "mediaType": "application/json"
  },
  "id": "ab4486eb-3f55-11e6-8a84-bae50000000b",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 09:33:05",
  "name": "5500732",
  "description": "Счет поставщика",
  "code": "77881123",
  "externalCode": "33443",
  "moment": "2016-06-27 10:52:24",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata/attributes/e97c5ea8-3f52-11e6-8a84-bae50000006f",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "e97c5ea8-3f52-11e6-8a84-bae50000006f",
      "name": "AttributeName1",
      "type": "long",
      "value": 5
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata/attributes/48c7b9af-3f55-11e6-8a84-bae500000076",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "48c7b9af-3f55-11e6-8a84-bae500000076",
      "name": "AttributeName2",
      "type": "boolean",
      "value": true
    }
  ],
  "vatEnabled": true,
  "vatIncluded": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/ab4486eb-3f55-11e6-8a84-bae50000000b/positions",
      "type": "invoiceposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "shippedSum": 0,
  "incomingNumber": "12412412",
  "incomingDate": "2016-06-17 10:52:24"
}

Пример запроса на создание Счета поставщика с позициями в теле запроса.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/invoicein"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "69375",
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "code": "77881123",
            "externalCode": "33443",
            "moment": "2016-06-27 10:52:24",
            "applicable": true,
            "description": "Счет поставщика",
            "organizationAccount": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
                "type": "account",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "incomingNumber": "12412412",
            "incomingDate": "2016-06-17 10:52:24",
            "positions": [
              {
                "quantity": 1,
                "price": 0.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/00f1f397-3303-11e6-8a84-bae500000380",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 1,
                "price": 0.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/00dacbec-3303-11e6-8a84-bae50000033a",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 1,
                "price": 0.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e84aed23-3303-11e6-8a84-bae500014dcd",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 1,
                "price": 263000.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/20485cfd-2e62-11e6-8a84-bae500000112",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Счета поставщика.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/13607115-3f56-11e6-8a84-bae500000011",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
    "type": "invoicein",
    "mediaType": "application/json"
  },
  "id": "13607115-3f56-11e6-8a84-bae500000011",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 09:36:00",
  "name": "69375",
  "description": "Счет поставщика",
  "code": "77881123",
  "externalCode": "33443",
  "moment": "2016-06-27 10:52:24",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 263000,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/13607115-3f56-11e6-8a84-bae500000011/positions",
      "type": "invoiceposition",
      "mediaType": "application/json",
      "size": 4,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "shippedSum": 0,
  "incomingNumber": "12412412",
  "incomingDate": "2016-06-17 10:52:24"
}
Массовое создание и обновление Счетов поставщика
Массовое создание и обновление Счетов поставщика.
В теле запроса нужно передать массив, содержащий JSON представления Счетов поставщика, которые вы хотите создать или обновить.
Обновляемые Счета поставщика должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Счетов поставщика
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/invoicein"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "name": "007232",
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                  "type": "counterparty",
                  "mediaType": "application/json"
                }
              }
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/13607115-3f56-11e6-8a84-bae500000011",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
                "type": "invoicein",
                "mediaType": "application/json"
              },
              "name": "4040228",
              "description": "Сделка с новым поставщиком",
              "code": "1234124152",
              "externalCode": "8756248",
              "moment": "2016-06-29 10:59:24",
              "applicable": false,
              "sum": 125712521,
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "store": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                  "type": "store",
                  "mediaType": "application/json"
                }
              },
              "agent": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/149b96ba-32ca-11e6-8a84-bae50000001f",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                  "type": "counterparty",
                  "mediaType": "application/json"
                }
              },
              "agentAccount": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/149b96ba-32ca-11e6-8a84-bae50000001f/accounts/149ba387-32ca-11e6-8a84-bae500000020",
                  "type": "account",
                  "mediaType": "application/json"
                }
              },
              "vatEnabled": true,
              "vatIncluded": false,
              "positions": [],
              "payedSum": 700,
              "shippedSum": 1230,
              "incomingNumber": "66355",
              "incomingDate": "2016-12-05 11:42:54"
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Счетов поставщика.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/06fdb416-3f55-11e6-8a84-bae500000007",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
      "type": "invoicein",
      "mediaType": "application/json"
    },
    "id": "06fdb416-3f55-11e6-8a84-bae500000007",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-07-01 09:28:30",
    "name": "007232",
    "externalCode": "zpLXS2--gsfaXr1VEn8Xv1",
    "moment": "2016-07-01 09:28:30",
    "applicable": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 0,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "agentAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/147c1f1b-32ca-11e6-8a84-bae500000004/accounts/147c3231-32ca-11e6-8a84-bae500000005",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "vatEnabled": true,
    "vatIncluded": true,
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/06fdb416-3f55-11e6-8a84-bae500000007/positions",
        "type": "invoiceposition",
        "mediaType": "application/json",
        "size": 0,
        "limit": 1000,
        "offset": 0
      }
    },
    "payedSum": 0,
    "shippedSum": 0
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/13607115-3f56-11e6-8a84-bae500000011",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
      "type": "invoicein",
      "mediaType": "application/json"
    },
    "id": "13607115-3f56-11e6-8a84-bae500000011",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-07-01 09:42:42",
    "name": "4040228",
    "description": "Сделка с новым поставщиком",
    "code": "1234124152",
    "externalCode": "8756248",
    "moment": "2016-06-29 10:59:24",
    "applicable": false,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 0,
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "store": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/149b96ba-32ca-11e6-8a84-bae50000001f",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "organizationAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "agentAccount": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/149b96ba-32ca-11e6-8a84-bae50000001f/accounts/149ba387-32ca-11e6-8a84-bae500000020",
        "type": "account",
        "mediaType": "application/json"
      }
    },
    "vatEnabled": true,
    "vatIncluded": false,
    "created": "2016-08-25 19:55:00",
    "printed": true,
    "published": true,
    "positions": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/13607115-3f56-11e6-8a84-bae500000011/positions",
        "type": "invoiceposition",
        "mediaType": "application/json",
        "size": 0,
        "limit": 1000,
        "offset": 0
      }
    },
    "payedSum": 0,
    "shippedSum": 0,
    "incomingNumber": "66355",
    "incomingDate": "2016-12-05 11:42:54"
  }
]
Удалить Счет поставщика
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Счета поставщика.


Запрос на удаление Счета поставщика с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Счета поставщика.

Массовое удаление Счетов поставщиков
В теле запроса нужно передать массив, содержащий JSON метаданных Счетов поставщиков, которые вы хотите удалить.
Запрос на массовое удаление Счетов поставщиков. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
                "type": "invoicein",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
                "type": "invoicein",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Счетов поставщиков.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'invoicein' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'invoicein' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные Счетов поставщиковМетаданные Счетов поставщиков
Запрос на получение метаданных Счетов поставщиков. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Счетов поставщиков


attributes
Массив объектов доп. полей Счетов поставщиков в формате Метаданных


states
Массив статусов Счетов поставщиков


createShared
создавать новые Счета поставщиков с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Счетов поставщиков
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Счетов поставщиков.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata/attributes/e97c5ea8-3f52-11e6-8a84-bae50000006f",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "e97c5ea8-3f52-11e6-8a84-bae50000006f",
      "name": "AttributeName1",
      "type": "long",
      "required": false
    }
  ],
  "createShared": false
}
Отдельное доп. полеОтдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata/attributes/48c7b9af-3f55-11e6-8a84-bae500000076",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "48c7b9af-3f55-11e6-8a84-bae500000076",
  "name": "AttributeName1",
  "type": "boolean",
  "required": false
}
Шаблон Счета поставщикаШаблон Счета поставщика
Запрос на получение предзаполненого стандартными значениями шаблона счета поставщика без связи с каким-либо документом.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d ''  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного счета поставщика.
ПоказатьСвернуть
{
  "applicable": false,
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2",
      "type": "invoiceposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    },
    "rows": []
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "payedSum": 0,
  "shippedSum": 0
}
Шаблон Счета поставщика на основе
Запрос на получение предзаполненного счета поставщика на основе заказа поставщику или приемки.
В результате запроса, будет создан предзаполненный шаблон счета поставщика на основе переданного
документа.
Запрос на создание счета поставщика на основе заказа поставщику.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "purchaseOrder": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/22b4caaa-3f74-11e6-8a84-bae500000069",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
                "type": "purchaseorder",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного счета поставщика.
ПоказатьСвернуть
{
  "applicable": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/cdbc62de-3f68-11e6-8a84-bae500000050",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    },
    "value": 63
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/e105a2e7-3f6f-11e6-8a84-bae500000087",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1483952f-32ca-11e6-8a84-bae500000007",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1483952f-32ca-11e6-8a84-bae500000007/accounts/1483a4fa-32ca-11e6-8a84-bae500000008",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2",
      "type": "invoiceposition",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    },
    "rows": [
      {
        "meta": {
          "type": "invoiceposition",
          "mediaType": "application/json"
        },
        "quantity": 1,
        "price": 0.0,
        "discount": 0,
        "vat": 0,
        "vatEnabled": false,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a81082f-3c64-11e6-8a84-bae50000000e",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
            "type": "variant",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
          }
        }
      }
    ]
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "payedSum": 0,
  "shippedSum": 0,
  "purchaseOrder": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/22b4caaa-3f74-11e6-8a84-bae500000069",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchaseorder/metadata",
      "type": "purchaseorder",
      "mediaType": "application/json"
    }
  }
}

Запрос на создание счета поставщика на основе приемки.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "supplies": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/60c7896d-cf7c-11e7-6a80-332a00000004",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
                  "type": "supply",
                  "mediaType": "application/json",
                  "uuidHref": "https://online.moysklad.ru/app/#supply/edit?id=60c7896d-cf7c-11e7-6a80-332a00000004"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного счета поставщика.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/46073d61-ca1f-11e7-6a80-332a0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=46073d61-ca1f-11e7-6a80-332a0000002a"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/452fb22f-ca1f-11e7-6a80-332a00000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "name": "",
  "moment": "2017-11-22 19:08:01",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/464062ac-ca1f-11e7-6a80-332a00000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#currency/edit?id=464062ac-ca1f-11e7-6a80-332a00000058"
      }
    }
  },
  "sum": 100000,
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/463f8970-ca1f-11e7-6a80-332a00000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=463f8970-ca1f-11e7-6a80-332a00000053"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/463fb76d-ca1f-11e7-6a80-332a00000054",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=463fb76d-ca1f-11e7-6a80-332a00000054"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/463a706e-ca1f-11e7-6a80-332a00000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=463a706e-ca1f-11e7-6a80-332a00000051"
    }
  },
  "documents": {
    "rows": []
  },
  "positions": {
    "rows": [
      {
        "quantity": 1,
        "price": 100000.0,
        "discount": 0,
        "vat": 0,
        "vatEnabled": false,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/b5d328b3-cab0-11e7-6a80-332a0000000d",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
            "type": "variant",
            "mediaType": "application/json",
            "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
          }
        }
      }
    ]
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "payedSum": 0,
  "shippedSum": 0,
  "supplies": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/60c7896d-cf7c-11e7-6a80-332a00000004",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
        "type": "supply",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#supply/edit?id=60c7896d-cf7c-11e7-6a80-332a00000004"
      }
    }
  ]
}
Счет поставщикаПолучить Счет поставщика
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Счета поставщика.


Запрос на получение отдельного Счета поставщика с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Счета поставщика.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/36c000ad-3f52-11e6-8a84-bae500000069",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
    "type": "invoicein",
    "mediaType": "application/json"
  },
  "id": "36c000ad-3f52-11e6-8a84-bae500000069",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 09:08:21",
  "name": "00002",
  "externalCode": "oS8jXsK8hHmxYzn8MzT1d0",
  "moment": "2016-07-01 09:07:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "contract": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/2b34d43f-3f52-11e6-8a84-bae500000066",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
      "type": "contract",
      "mediaType": "application/json"
    }
  },
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/722e39f0-313e-11e6-8a84-bae500000008",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1489a08d-32ca-11e6-8a84-bae50000000d",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/1489a08d-32ca-11e6-8a84-bae50000000d/accounts/1489ad8d-32ca-11e6-8a84-bae50000000e",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "vatEnabled": true,
  "vatIncluded": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/36c000ad-3f52-11e6-8a84-bae500000069/positions",
      "type": "invoiceposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "paymentPlannedMoment": "2016-07-07 09:07:00",
  "payedSum": 0,
  "shippedSum": 0,
  "incomingNumber": "124124",
  "incomingDate": "2016-07-28 00:00:00"
}
Изменить Счет поставщика
Запрос на обновление Счета поставщика с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Счета поставщика, кроме тех, что
помечены Только для чтения в описании атрибутов Счета поставщика.
При обновлении полей organization и agent нужно также обновить поля organizationAccount и
agentAccount соответственно, иначе произойдет ошибка.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Счета поставщика.


Пример запроса на обновление отдельного Счета поставщика.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "4040228",
            "description": "Сделка с новым поставщиком",
            "code": "1234124152",
            "externalCode": "8756248",
            "moment": "2016-06-29 10:59:24",
            "applicable": false,
            "sum": 125712521,
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/149b96ba-32ca-11e6-8a84-bae50000001f",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "agentAccount": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/149b96ba-32ca-11e6-8a84-bae50000001f/accounts/149ba387-32ca-11e6-8a84-bae500000020",
                "type": "account",
                "mediaType": "application/json"
              }
            },
            "vatEnabled": true,
            "vatIncluded": false,
            "positions": [],
            "payedSum": 700,
            "shippedSum": 1230,
            "incomingNumber": "66355",
            "incomingDate": "2016-12-05 11:42:54"
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Счета поставщика.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/13607115-3f56-11e6-8a84-bae500000011",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
    "type": "invoicein",
    "mediaType": "application/json"
  },
  "id": "13607115-3f56-11e6-8a84-bae500000011",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 09:42:42",
  "name": "4040228",
  "description": "Сделка с новым поставщиком",
  "code": "1234124152",
  "externalCode": "8756248",
  "moment": "2016-06-29 10:59:24",
  "applicable": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/149b96ba-32ca-11e6-8a84-bae50000001f",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/149b96ba-32ca-11e6-8a84-bae50000001f/accounts/149ba387-32ca-11e6-8a84-bae500000020",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "vatEnabled": true,
  "vatIncluded": false,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/13607115-3f56-11e6-8a84-bae500000011/positions",
      "type": "invoiceposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "shippedSum": 0,
  "incomingNumber": "66355",
  "incomingDate": "2016-12-05 11:42:54"
}

Пример запроса на изменение Счета поставщика с дополнительными полями.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "4040228",
            "description": "Сделка с новым поставщиком",
            "code": "1234124152",
            "externalCode": "8756248",
            "moment": "2016-06-29 10:59:24",
            "applicable": false,
            "sum": 125712521,
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/149b96ba-32ca-11e6-8a84-bae50000001f",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "agentAccount": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/149b96ba-32ca-11e6-8a84-bae50000001f/accounts/149ba387-32ca-11e6-8a84-bae500000020",
                "type": "account",
                "mediaType": "application/json"
              }
            },
            "vatEnabled": true,
            "vatIncluded": false,
            "positions": [],
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata/attributes/e97c5ea8-3f52-11e6-8a84-bae50000006f",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": 1
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata/attributes/48c7b9af-3f55-11e6-8a84-bae500000076",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": false
              }
            ],
            "payedSum": 700,
            "shippedSum": 1230,
            "incomingNumber": "66355",
            "incomingDate": "2016-12-05 11:42:54"
          }
'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Счета поставщика.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/13607115-3f56-11e6-8a84-bae500000011",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
    "type": "invoicein",
    "mediaType": "application/json"
  },
  "id": "13607115-3f56-11e6-8a84-bae500000011",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 09:42:42",
  "name": "4040228",
  "description": "Сделка с новым поставщиком",
  "code": "1234124152",
  "externalCode": "8756248",
  "moment": "2016-06-29 10:59:24",
  "applicable": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/149b96ba-32ca-11e6-8a84-bae50000001f",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/149b96ba-32ca-11e6-8a84-bae50000001f/accounts/149ba387-32ca-11e6-8a84-bae500000020",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata/attributes/e97c5ea8-3f52-11e6-8a84-bae50000006f",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "e97c5ea8-3f52-11e6-8a84-bae50000006f",
      "name": "AttributeName1",
      "type": "long",
      "value": 1
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata/attributes/48c7b9af-3f55-11e6-8a84-bae500000076",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "48c7b9af-3f55-11e6-8a84-bae500000076",
      "name": "AttributeName1",
      "type": "boolean",
      "value": false
    }
  ],
  "vatEnabled": true,
  "vatIncluded": false,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/13607115-3f56-11e6-8a84-bae500000011/positions",
      "type": "invoiceposition",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "shippedSum": 0,
  "incomingNumber": "66355",
  "incomingDate": "2016-12-05 11:42:54"
}

Пример запроса на обновление Счета поставщика с позициями в теле запроса.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "4040228",
            "description": "Сделка с новым поставщиком",
            "code": "1234124152",
            "externalCode": "8756248",
            "moment": "2016-06-29 10:59:24",
            "applicable": false,
            "sum": 125712521,
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "store": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "agent": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/149b96ba-32ca-11e6-8a84-bae50000001f",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
                "type": "counterparty",
                "mediaType": "application/json"
              }
            },
            "agentAccount": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/149b96ba-32ca-11e6-8a84-bae50000001f/accounts/149ba387-32ca-11e6-8a84-bae500000020",
                "type": "account",
                "mediaType": "application/json"
              }
            },
            "vatEnabled": true,
            "vatIncluded": false,
            "positions": [
              {
                "quantity": 1,
                "price": 0.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/00f1f397-3303-11e6-8a84-bae500000380",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              },
              {
                "quantity": 1,
                "price": 0.0,
                "discount": 0,
                "vat": 0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/00dacbec-3303-11e6-8a84-bae50000033a",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json"
                  }
                }
              }
            ],
            "attributes": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata/attributes/e97c5ea8-3f52-11e6-8a84-bae50000006f",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": 1
              },
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata/attributes/48c7b9af-3f55-11e6-8a84-bae500000076",
                  "type": "attributemetadata",
                  "mediaType": "application/json"
                },
                "value": false
              }
            ],
            "payedSum": 700,
            "shippedSum": 1230,
            "incomingNumber": "66355",
            "incomingDate": "2016-12-05 11:42:54"
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Счета поставщика.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/13607115-3f56-11e6-8a84-bae500000011",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata",
    "type": "invoicein",
    "mediaType": "application/json"
  },
  "id": "13607115-3f56-11e6-8a84-bae500000011",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/faba7f37-2e58-11e6-8a84-bae500000028",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f97aa1fb-2e58-11e6-8a84-bae500000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-07-01 09:44:23",
  "name": "4040228",
  "description": "Сделка с новым поставщиком",
  "code": "1234124152",
  "externalCode": "8756248",
  "moment": "2016-06-29 10:59:24",
  "applicable": false,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "store": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/faf3ff5b-2e58-11e6-8a84-bae500000050",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/149b96ba-32ca-11e6-8a84-bae50000001f",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organizationAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/fae3561a-2e58-11e6-8a84-bae50000004e/accounts/fae39d66-2e58-11e6-8a84-bae50000004f",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "agentAccount": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/149b96ba-32ca-11e6-8a84-bae50000001f/accounts/149ba387-32ca-11e6-8a84-bae500000020",
      "type": "account",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata/attributes/e97c5ea8-3f52-11e6-8a84-bae50000006f",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "e97c5ea8-3f52-11e6-8a84-bae50000006f",
      "name": "AttributeName1",
      "type": "long",
      "value": 1
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/metadata/attributes/48c7b9af-3f55-11e6-8a84-bae500000076",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "48c7b9af-3f55-11e6-8a84-bae500000076",
      "name": "AttributeName1",
      "type": "boolean",
      "value": false
    }
  ],
  "vatEnabled": true,
  "vatIncluded": false,
  "created": "2016-08-25 19:55:00",
  "printed": true,
  "published": true,
  "positions": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/13607115-3f56-11e6-8a84-bae500000011/positions",
      "type": "invoiceposition",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "payedSum": 0,
  "shippedSum": 0,
  "incomingNumber": "66355",
  "incomingDate": "2016-12-05 11:42:54"
}
Позиции Счета поставщика
Отдельный ресурс для управления позициями Счета поставщика. С его помощью вы можете управлять позициями большого документа, количество строк в котором превышает лимит на количество строк, сохраняемых вместе с документом. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить позиции Счета поставщика
Запрос на получение списка всех позиций данного Счета поставщика.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой позиции Счета поставщика.


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Счета поставщика.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить позиции Счета поставщика
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/7944ef04-f831-11e5-7a69-971500188b19/positions"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка позиций отдельного Счета поставщика.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/7944ef04-f831-11e5-7a69-971500188b19/positions",
    "type": "invoiceposition",
    "mediaType": "application/json",
    "size": 4,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/7944ef04-f831-11e5-7a69-971500188b19/positions/36c018f9-3f52-11e6-8a84-bae50000006a",
        "type": "invoiceposition",
        "mediaType": "application/json"
      },
      "id": "36c018f9-3f52-11e6-8a84-bae50000006a",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 0.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/00f1f397-3303-11e6-8a84-bae500000380",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=e64d0a86-2a99-11e9-ac12-000c00000041"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/7944ef04-f831-11e5-7a69-971500188b19/positions/36c021a2-3f52-11e6-8a84-bae50000006b",
        "type": "invoiceposition",
        "mediaType": "application/json"
      },
      "id": "36c021a2-3f52-11e6-8a84-bae50000006b",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 0.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/00dacbec-3303-11e6-8a84-bae50000033a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3b1e1f15-2842-11e9-ac12-000c0000002f"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/7944ef04-f831-11e5-7a69-971500188b19/positions/1ab34547-3f53-11e6-8a84-bae500000072",
        "type": "invoiceposition",
        "mediaType": "application/json"
      },
      "id": "1ab34547-3f53-11e6-8a84-bae500000072",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 0.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/e84aed23-3303-11e6-8a84-bae500014dcd",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=392c045c-2842-11e9-ac12-000a00000002"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/7944ef04-f831-11e5-7a69-971500188b19/positions/1ab353de-3f53-11e6-8a84-bae500000073",
        "type": "invoiceposition",
        "mediaType": "application/json"
      },
      "id": "1ab353de-3f53-11e6-8a84-bae500000073",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "quantity": 1,
      "price": 263000.0,
      "discount": 0,
      "vat": 0,
      "vatEnabled": false,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/20485cfd-2e62-11e6-8a84-bae500000112",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json",
          "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
        }
      }
    }
  ]
}
Позиция Счета поставщика
Отдельная позиция Счета поставщика с указанным id позиции.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Счета поставщика.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Счета поставщика.


Получить позицию
Запрос на получение отдельной позиции Счета с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельной позиции Счета поставщика.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "invoiceposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "quantity": 1,
  "price": 0.0,
  "discount": 0,
  "vat": 0,
  "vatEnabled": false,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/00f1f397-3303-11e6-8a84-bae500000380",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
    }
  }
}
Создать позицию
Запрос на создание новой позиции в Счете поставщика.
Для успешного создания необходимо в теле запроса указать следующие поля:

assortment - Ссылка на товар/услугу/серию/модификацию, которую представляет собой позиция.
Также можно указать поле с именем service, consignment, variant в соответствии с тем,
чем является указанная позиция. Подробнее об этом поле можно прочитать в описании позиции Счета
quantity - Количество указанной позиции. Должно быть положительным, иначе возникнет ошибка.

Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Счета поставщика.


Пример создания позиции в Счете поставщика.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/7944ef04-f831-11e5-7a69-971500188b19/positions"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 12,
            "price": 999.0,
            "discount": 1,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a7daa6b-3c64-11e6-8a84-bae50000000a",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                "type": "variant",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной позиции отдельного Счете поставщика.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/7944ef04-f831-11e5-7a69-971500188b19/positions/c3b264eb-3f54-11e6-8a84-bae500000004",
      "type": "invoiceposition",
      "mediaType": "application/json"
    },
    "id": "c3b264eb-3f54-11e6-8a84-bae500000004",
    "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
    "quantity": 12,
    "price": 999.0,
    "discount": 1,
    "vat": 0,
    "vatEnabled": false,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a7daa6b-3c64-11e6-8a84-bae50000000a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
        "type": "variant",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
      }
    }
  }
]
Изменить позицию
Запрос на обновление отдельной позиции Счета. Для обновления позиции нет каких-либо
обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Счета поставщика.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Счета поставщика.


Пример запроса на обновление отдельной позиции в Счете поставщика.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 47,
            "price": 303.0,
            "discount": 0,
            "vat": 11,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a7daa6b-3c64-11e6-8a84-bae50000000a",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
                "type": "variant",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной позиции Счета поставщика.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c",
    "type": "invoiceposition",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
  "quantity": 47,
  "price": 303.0,
  "discount": 0,
  "vat": 11,
  "vatEnabled": true,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/variant/7a7daa6b-3c64-11e6-8a84-bae50000000a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/variant/metadata",
      "type": "variant",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#feature/edit?id=3bb1af6c-2842-11e9-ac12-000c00000061"
    }
  }
}
Удалить позицию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Счета поставщика.


positionID
string (required) Example: 34f6344f-015e-11e6-9464-e4de0000006c id позиции Счета поставщика.


Запрос на удаление отдельной позиции Счета поставщика с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/7944ef04-f831-11e5-7a69-971500188b19/positions/34f6344f-015e-11e6-9464-e4de0000006c"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление позиции Счета поставщика.

Массовое удаление позиций
Параметры


Параметр
Описание



id
string (required) Example: 3e1c03bb-684f-11ee-ac12-000c000000b0 id Счета поставщика.


Запрос на массовое удаление позиций Счета поставщика.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "invoiceposition",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/invoicein/3e1c03bb-684f-11ee-ac12-000c000000b0/positions/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "invoiceposition",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление позиций Счета поставщика. 

Счет-фактура выданныйСчета-фактуры выданные
Средствами JSON API можно создавать и изменять Счета-фактуры выданные, запрашивать списки Счетов-фактур выданных, сведения по отдельным Счетам-фактурам и удалять Счета-фактуры. Счет-фактура может быть создана только на основании отгрузки, возврата поставщику или входящего платежа, без документа-основания счет-фактуру создать нельзя. Кодом сущности для Счета-фактуры выданного в составе JSON API является ключевое слово factureout.
Атрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


agent
Meta
= !=
Метаданные контрагентаОбязательное при ответе Expand


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта


code
String(255)
= != ~ ~= =~
Код выданного Счета-фактуры


contract
Meta
= !=
Метаданные договораExpand


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления выданного Счета-фактурыТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий выданного Счета-фактуры


externalCode
String(255)
= != ~ ~= =~
Внешний код выданного Счета-фактурыОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID выданного Счета-фактурыОбязательное при ответе Только для чтения


meta
Meta

Метаданные выданного Счета-фактурыОбязательное при ответе


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование выданного Счета-фактурыОбязательное при ответе


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании


owner
Meta
= !=
Владелец (Сотрудник)Expand


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


rate
Object

Валюта. Подробнее тутОбязательное при ответе


shared
Boolean
= !=
Общий доступОбязательное при ответе


state
Meta
= !=
Метаданные статуса выданного Счета-фактурыExpand


stateContractId
String(255)

Идентификатор государственного контракта, договора (соглашения)


sum
Int
= != < > <= >=
Сумма выданного Счета-фактуры в копейкахОбязательное при ответе Только для чтения


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


updated
DateTime
= != < > <= >=
Момент последнего обновления выданного Счета-фактурыОбязательное при ответе Только для чтения


Связи с другими документами


Название
Описание



demands
Массив ссылок на связанные отгрузки в формате Метаданных


payments
Массив ссылок на связанные входящие платежи в формате Метаданных


returns
Массив ссылок на связанные возвраты поставщикам в формате Метаданных


Другие поля


Название
Тип
Описание



consignee
Meta
Метаданные грузополучателя (контрагент или юрлицо)Expand


paymentNumber
String(255)
Название платежного документа


paymentDate
DateTime
Дата платежного документа


О работе с доп. полями Счетов-фактур можно прочитать здесь
Получить выданные Счета-фактуры
Запрос всех Счетов-фактур выданных на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой выданные Счета-фактуры.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить выданные Счета-фактуры
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/factureout"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Счетов-фактур выданных.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata",
    "type": "factureout",
    "mediaType": "application/json",
    "size": 1,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/02eb1458-aa6e-11e6-8a84-bc5200000076",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata",
        "type": "factureout",
        "mediaType": "application/json"
      },
      "id": "02eb1458-aa6e-11e6-8a84-bc5200000076",
      "accountId": "c3cc7e30-99bb-11e6-8a84-bc5200000001",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/c4b17cf2-99bb-11e6-8a84-bc520000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/c3cff163-99bb-11e6-8a84-bc5200000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-14 16:38:48",
      "name": "00001",
      "description": "комментарий",
      "externalCode": "pb8w9ZcVhQbFff4R58SQ30",
      "moment": "2016-11-14 16:25:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/217065c0-9b50-11e6-8a84-bc52000000bf",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        },
        "value": 60
      },
      "sum": 0,
      "contract": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/contract/f1204d87-9c46-11e6-8a84-bc52000000b9",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/contract/metadata",
          "type": "contract",
          "mediaType": "application/json"
        }
      },
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/c4dee133-99bb-11e6-8a84-bc5200000051",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/c4dee133-99bb-11e6-8a84-bc5200000051",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "state": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata/states/e1115474-aa6e-11e6-8a84-bc520000007c",
          "type": "state",
          "mediaType": "application/json"
        }
      },
      "attributes": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata/attributes/8b0b6c1d-aa6f-11e6-8a84-bc520000008a",
            "type": "attributemetadata",
            "mediaType": "application/json"
          },
          "id": "8b0b6c1d-aa6f-11e6-8a84-bc520000008a",
          "name": "доп поле",
          "type": "string",
          "value": "значение доп.поля"
        }
      ],
      "paymentNumber": "платежный д-т",
      "paymentDate": "2016-11-14 00:00:00",
      "stateContractId": "005674",
      "consignee": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/c4dee133-99bb-11e6-8a84-bc5200000051",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "demands": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/f2570f6a-aa6d-11e6-8a84-bc520000006f",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
            "type": "demand",
            "mediaType": "application/json"
          }
        }
      ]
    }
  ]
}
Создать Счет-фактуру
Запрос на создание Счета-фактуры на основании отгрузки, входящего платежа или возврата поставщику.
Документ-основание должен быть указан в единственном экземпляре.
Для установки paymentNumber, paymentDate значения должны быть переданы в теле Json, так как перечисленные поля не заполняются из документа-основания.
Пример создания нового Счета-фактуры, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/factureout"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "demands": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/a95dbc95-24e0-11e7-1542-821d00000001",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
                  "type": "demand",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Счета-фактуры.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/fa610268-2b5d-11e7-1542-821d00000010",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata",
    "type": "factureout",
    "mediaType": "application/json"
  },
  "id": "fa610268-2b5d-11e7-1542-821d00000010",
  "accountId": "f4917c99-2346-11e7-1542-821d00000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/f500c39b-2346-11e7-1542-821d0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f49447eb-2346-11e7-1542-821d00000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2017-04-27 18:27:08",
  "name": "00001",
  "externalCode": "KAwh2VT7hIzHDWQoIcfvS0",
  "moment": "2017-04-27 18:27:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/f52dd97c-2346-11e7-1542-821d00000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/f52d95dd-2346-11e7-1542-821d00000056",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/f52a29b3-2346-11e7-1542-821d00000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "created": "2017-04-27 18:27:09",
  "printed": true,
  "published": true,
  "demands": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/a95dbc95-24e0-11e7-1542-821d00000001",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
        "type": "demand",
        "mediaType": "application/json"
      }
    }
  ]
}

Массовое создание и обновление Счетов-фактур выданных
Массовое создание и обновление Счетов-фактур выданных.
В теле запроса нужно передать массив, содержащий JSON представления Счетов-фактур выданных, которые вы хотите создать или обновить.
Обновляемые выданные Счета-фактуры должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Счетов-фактур выданных
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/factureout"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "demands": [
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/a95dbc95-24e0-11e7-1542-821d00000001",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
                    "type": "demand",
                    "mediaType": "application/json"
                  }
                }
              ]
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/99d41b01-aa8a-11e6-8af5-581e0000007e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata",
                "type": "factureout",
                "mediaType": "application/json"
              },
              "name": "FactureOut2"
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Счетов-фактур выданных.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/fa610268-2b5d-11e7-1542-821d00000010",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata",
      "type": "factureout",
      "mediaType": "application/json"
    },
    "id": "fa610268-2b5d-11e7-1542-821d00000010",
    "accountId": "f4917c99-2346-11e7-1542-821d00000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/f500c39b-2346-11e7-1542-821d0000002a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f49447eb-2346-11e7-1542-821d00000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2017-04-27 18:27:08",
    "name": "00001",
    "externalCode": "KAwh2VT7hIzHDWQoIcfvS0",
    "moment": "2017-04-27 18:27:00",
    "applicable": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/f52dd97c-2346-11e7-1542-821d00000058",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 0,
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/f52d95dd-2346-11e7-1542-821d00000056",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/f52a29b3-2346-11e7-1542-821d00000051",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "created": "2017-04-27 18:27:09",
    "printed": true,
    "published": true,
    "demands": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/a95dbc95-24e0-11e7-1542-821d00000001",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
          "type": "demand",
          "mediaType": "application/json"
        }
      }
    ]
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/99d41b01-aa8a-11e6-8af5-581e0000007e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata",
      "type": "factureout",
      "mediaType": "application/json"
    },
    "id": "99d41b01-aa8a-11e6-8af5-581e0000007e",
    "accountId": "f4917c99-2346-11e7-1542-821d00000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/f500c39b-2346-11e7-1542-821d0000002a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f49447eb-2346-11e7-1542-821d00000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2017-04-27 18:36:36",
    "name": "FactureOut2",
    "externalCode": "KAwh2VT7hIzHDWQoIcfvS0",
    "moment": "2017-04-27 18:27:00",
    "applicable": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/f52dd97c-2346-11e7-1542-821d00000058",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 0,
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/f52d95dd-2346-11e7-1542-821d00000056",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/f52a29b3-2346-11e7-1542-821d00000051",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "created": "2017-04-27 18:27:09",
    "printed": true,
    "published": true,
    "stateContractId": "005674",
    "demands": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/a95dbc95-24e0-11e7-1542-821d00000001",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
          "type": "demand",
          "mediaType": "application/json"
        }
      }
    ]
  }
]
Массовое удаление Счетов-фактур выданных
В теле запроса нужно передать массив, содержащий JSON метаданных Счетов-фактур выданных, которые вы хотите удалить.
Запрос на массовое удаление Счетов-фактур выданных. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/factureout/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata",
                "type": "factureout",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata",
                "type": "factureout",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Счетов-фактур выданных.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'factureout' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'factureout' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные Счетов-фактур выданныхМетаданные Счетов-фактур
Запрос на получение метаданных Счетов-фактур выданных. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Счетов-фактур выданных


attributes
Массив объектов доп. полей Счетов-фактур выданных в формате Метаданных


states
Массив статусов Счетов-фактур выданных


createShared
создавать новые выданные Счета-фактуры с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Счетов-фактур выданных
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Счетов-фактур выданных.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata/attributes/8b0b6c1d-aa6f-11e6-8a84-bc520000008a",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "8b0b6c1d-aa6f-11e6-8a84-bc520000008a",
      "name": "доп поле",
      "type": "string",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata/states/e1115474-aa6e-11e6-8a84-bc520000007c",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "e1115474-aa6e-11e6-8a84-bc520000007c",
      "accountId": "c3cc7e30-99bb-11e6-8a84-bc5200000001",
      "name": "rewtret",
      "color": 10066329,
      "stateType": "Regular",
      "entityType": "factureout"
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 8b0b6c1d-aa6f-11e6-8a84-bc520000008a id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata/attributes/8b0b6c1d-aa6f-11e6-8a84-bc520000008a"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata/attributes/8b0b6c1d-aa6f-11e6-8a84-bc520000008a",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "8b0b6c1d-aa6f-11e6-8a84-bc520000008a",
  "name": "доп поле",
  "type": "string",
  "required": false
}
Шаблон Счета-фактуры выданногоШаблон Счета-фактуры выданного на основе
Запрос на получение предзаполненного шаблона Счета-фактуры выданного на основе отгрузки, возврата поставщику или входящего платежа.
В ответ на запрос вернется предзаполненный шаблон Счета-фактуры выданного, который
затем можно будет использовать для создания нового Счета-фактуры с помощью POST запроса.
Пример запроса на создание шаблона Счета-фактуры выданного на основе отгрузки.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/factureout/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "demands": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/fb3e5ec6-66cc-11e7-6adb-ede5000000be",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
                  "type": "demand",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного Счета-фактуры выданного.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/498a0445-66cc-11e7-6adb-ede50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=498a0445-66cc-11e7-6adb-ede50000002a"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/48f21833-66cc-11e7-6adb-ede500000001",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2017-07-20 14:54:48",
  "applicable": true,
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/49b4b0b0-66cc-11e7-6adb-ede500000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#currency/edit?id=49b4b0b0-66cc-11e7-6adb-ede500000058"
      }
    }
  },
  "sum": 10000,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/49b43cd5-66cc-11e7-6adb-ede500000056",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=49b43cd5-66cc-11e7-6adb-ede500000056"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/49b00bbc-66cc-11e7-6adb-ede500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=49b00bbc-66cc-11e7-6adb-ede500000051"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata/states/82d0741a-6abc-11e7-6adb-ede50000000e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "demands": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/fb3e5ec6-66cc-11e7-6adb-ede5000000be",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
        "type": "demand",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#demand/edit?id=fb3e5ec6-66cc-11e7-6adb-ede5000000be"
      }
    }
  ]
}

Пример запроса на создание шаблона Счета-фактуры выданного на основе возврата поставщику.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/factureout/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "returns": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/62ebf0be-67d8-11e7-6adb-ede500000033",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata",
                  "type": "purchasereturn",
                  "mediaType": "application/json",
                  "uuidHref": "https://online.moysklad.ru/app/#purchasereturn/edit?id=62ebf0be-67d8-11e7-6adb-ede500000033"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного Счета-фактуры выданного.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/498a0445-66cc-11e7-6adb-ede50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=498a0445-66cc-11e7-6adb-ede50000002a"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/48f21833-66cc-11e7-6adb-ede500000001",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2017-07-20 15:26:40",
  "applicable": true,
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/49b4b0b0-66cc-11e7-6adb-ede500000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#currency/edit?id=49b4b0b0-66cc-11e7-6adb-ede500000058"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/49b40d55-66cc-11e7-6adb-ede500000054",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=49b40d55-66cc-11e7-6adb-ede500000054"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/49b00bbc-66cc-11e7-6adb-ede500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=49b00bbc-66cc-11e7-6adb-ede500000051"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata/states/82d0741a-6abc-11e7-6adb-ede50000000e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "returns": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/62ebf0be-67d8-11e7-6adb-ede500000033",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/purchasereturn/metadata",
        "type": "purchasereturn",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#purchasereturn/edit?id=62ebf0be-67d8-11e7-6adb-ede500000033"
      }
    }
  ]
}

Пример запроса на создание шаблона Счета-фактуры выданного на основе входящего платежа.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/factureout/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "payments": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/f69cb6ec-6d45-11e7-6adb-ede50000001c",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata",
                  "type": "paymentin",
                  "mediaType": "application/json",
                  "uuidHref": "https://online.moysklad.ru/app/#paymentin/edit?id=f69cb6ec-6d45-11e7-6adb-ede50000001c"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного Счета-фактуры выданного.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/498a0445-66cc-11e7-6adb-ede50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=498a0445-66cc-11e7-6adb-ede50000002a"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/48f21833-66cc-11e7-6adb-ede500000001",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2017-07-20 15:25:09",
  "applicable": true,
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/49b4b0b0-66cc-11e7-6adb-ede500000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#currency/edit?id=49b4b0b0-66cc-11e7-6adb-ede500000058"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/35950354-6ae5-11e7-6adb-ede500000036",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=35950354-6ae5-11e7-6adb-ede500000036"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/49b00bbc-66cc-11e7-6adb-ede500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=49b00bbc-66cc-11e7-6adb-ede500000051"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata/states/82d0741a-6abc-11e7-6adb-ede50000000e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "payments": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/f69cb6ec-6d45-11e7-6adb-ede50000001c",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentin/metadata",
        "type": "paymentin",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#paymentin/edit?id=f69cb6ec-6d45-11e7-6adb-ede50000001c"
      }
    }
  ]
}
Счет-фактура выданныйПолучить Счет-фактуру выданный
Параметры


Параметр
Описание



id
string (required) Example: 99d41b01-aa8a-11e6-8af5-581e0000007e id Счета-фактуры.


Запрос на получение отдельного Счета-фактуры выданного с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/factureout/99d41b01-aa8a-11e6-8af5-581e0000007e"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Счета-фактуры выданного.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/99d41b01-aa8a-11e6-8af5-581e0000007e",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata",
    "type": "factureout",
    "mediaType": "application/json"
  },
  "id": "99d41b01-aa8a-11e6-8af5-581e0000007e",
  "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9575ba6d-9609-11e6-8af5-581e000000ad",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/956169fa-9609-11e6-8af5-581e00000009",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-14 19:52:25",
  "name": "00001",
  "externalCode": "iXXMP3d-gJI8avpfWsDAU3",
  "moment": "2016-11-08 17:26:00",
  "applicable": true,
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9596f69c-9609-11e6-8af5-581e000000d9",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata/states/9770ee98-aa8a-11e6-8af5-581e0000007b",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata/attributes/3aa46d91-aa8a-11e6-8af5-581e00000077",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "3aa46d91-aa8a-11e6-8af5-581e00000077",
      "name": "special_description",
      "type": "string",
      "value": "jih"
    }
  ],
  "stateContractId": "005674",
  "demands": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/750c8f8e-a5bf-11e6-8af5-581e000000bc",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
        "type": "demand",
        "mediaType": "application/json"
      }
    }
  ]
}
Изменить Счет-фактуру выданный
Параметры


Параметр
Описание



id
string (required) Example: 99d41b01-aa8a-11e6-8af5-581e0000007e id Счета-фактуры.


Запрос на обновление Счета-фактуры с указанным id.
Пример запроса на обновление Счета-фактуры.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/factureout/99d41b01-aa8a-11e6-8af5-581e0000007e"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "FactureOut2"
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Счета-фактуры.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/99d41b01-aa8a-11e6-8af5-581e0000007e",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/factureout/metadata",
    "type": "factureout",
    "mediaType": "application/json"
  },
  "id": "99d41b01-aa8a-11e6-8af5-581e0000007e",
  "accountId": "f4917c99-2346-11e7-1542-821d00000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/f500c39b-2346-11e7-1542-821d0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f49447eb-2346-11e7-1542-821d00000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2017-04-27 18:36:36",
  "name": "FactureOut2",
  "externalCode": "KAwh2VT7hIzHDWQoIcfvS0",
  "moment": "2017-04-27 18:27:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/f52dd97c-2346-11e7-1542-821d00000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/f52d95dd-2346-11e7-1542-821d00000056",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/f52a29b3-2346-11e7-1542-821d00000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "created": "2017-04-27 18:27:09",
  "printed": true,
  "published": true,
  "stateContractId": "005674",
  "demands": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/demand/a95dbc95-24e0-11e7-1542-821d00000001",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/demand/metadata",
        "type": "demand",
        "mediaType": "application/json"
      }
    }
  ]
}

Удалить Счет-фактуру выданный
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b20 id Счета-фактуры.


Запрос на удаление Счета-фактуры выданного с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/factureout/7944ef04-f831-11e5-7a69-971500188b20"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Счета-фактуры выданного.

Счет-фактура полученныйСчета-фактуры полученные
Средствами JSON API можно создавать и изменять Счета-фактуры полученные, запрашивать списки Счетов-фактур полученных, сведения по отдельным Счетам-фактурам и удалять Счета-фактуры. Счет-фактура может быть создана только на основании приемки или исходящего платежа, без документа-основания счет-фактуру создать нельзя.  Кодом сущности для Счета-фактуры полученного в составе JSON API является ключевое слово facturein.
Атрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


agent
Meta
= !=
Метаданные контрагентаОбязательное при ответе Expand


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта


code
String(255)
= != ~ ~= =~
Код выданного Счета-фактуры полученного


contract
Meta
= !=
Метаданные договораExpand


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления Счета-фактуры полученногоТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий выданного Счета-фактуры полученного


externalCode
String(255)
= != ~ ~= =~
Внешний код выданного Счета-фактуры полученногоОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID Счета-фактуры полученногоОбязательное при ответе Только для чтения


meta
Meta

Метаданные Счета-фактуры полученногоОбязательное при ответе


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование выданного Счета-фактуры полученногоОбязательное при ответе


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании


owner
Meta
= !=
Владелец (Сотрудник)Expand


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


rate
Object

Валюта. Подробнее тутОбязательное при ответе


shared
Boolean
= !=
Общий доступОбязательное при ответе


state
Meta
= !=
Метаданные статуса Счета-фактуры полученногоExpand


sum
Int
= != < > <= >=
Сумма Счета-фактуры полученного в установленной валютеОбязательное при ответе Только для чтения


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для изменения


updated
DateTime
= != < > <= >=
Момент последнего обновления Счета-фактуры полученногоОбязательное при ответе Только для чтения


Связи с другими документами


Название
Описание



supplies
Массив ссылок на связанные приемки в формате Метаданных


payments
Массив ссылок на связанные исходящие платежи в формате Метаданных


Другие поля


Название
Тип
Описание



incomingNumber
Int
Входящий номер


incomingDate
DateTime
Входящая дата


О работе с доп. полями Счетов-фактур можно прочитать здесь
Получить Счета-фактуры полученные
Запрос всех Счетов-фактур полученных на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Счета-фактуры полученные.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить Счета-фактуры полученные
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/facturein"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Счетов-фактур полученных.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/facturein",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata",
    "type": "facturein",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/209fe91a-ab00-11e6-8af5-581e00000076",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata",
        "type": "facturein",
        "mediaType": "application/json"
      },
      "id": "209fe91a-ab00-11e6-8af5-581e00000076",
      "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9575ba6d-9609-11e6-8af5-581e000000ad",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/956169fa-9609-11e6-8af5-581e00000009",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-15 09:52:51",
      "name": "00002",
      "externalCode": "sylr1937hnp9AAftWLeYl3",
      "moment": "2016-11-15 09:52:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 200000,
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9596b6e2-9609-11e6-8af5-581e000000d7",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "supplies": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/1b56b5c8-ab00-11e6-8af5-581e00000070",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
            "type": "supply",
            "mediaType": "application/json"
          }
        }
      ]
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/f4369e0b-aaff-11e6-8af5-581e0000006c",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata",
        "type": "facturein",
        "mediaType": "application/json"
      },
      "id": "f4369e0b-aaff-11e6-8af5-581e0000006c",
      "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9575ba6d-9609-11e6-8af5-581e000000ad",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/956169fa-9609-11e6-8af5-581e00000009",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-15 09:51:37",
      "name": "00001",
      "externalCode": "M0YjPeX8gqISsVA32pRQu0",
      "moment": "2016-11-15 09:51:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "rate": {
        "currency": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
            "type": "currency",
            "mediaType": "application/json"
          }
        }
      },
      "sum": 0,
      "agent": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9596b6e2-9609-11e6-8af5-581e000000d7",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
          "type": "counterparty",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "supplies": [
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/ecc943f6-aaff-11e6-8af5-581e00000066",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
            "type": "supply",
            "mediaType": "application/json"
          }
        }
      ]
    }
  ]
}
Создать Счет-фактуру
Запрос на создание Счета-фактуры на основании приемки или исходящего платежа.
Документ-основание должен быть указан в единственном экземпляре.
Для установки incomingNumber, incomingDate значения должны быть переданы в теле Json, так как перечисленные поля не заполняются из документа-основания.
Пример создания нового Счета-фактуры, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/facturein"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "incomingNumber": "356124365",
            "incomingDate": "2017-04-06 00:00:00",
            "supplies": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/22e8d1ea-29bc-11e7-1542-821d00000002",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
                  "type": "supply",
                  "mediaType": "application/json"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданного Счета-фактуры.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/bc060447-2b48-11e7-1542-821d00000000",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata",
    "type": "facturein",
    "mediaType": "application/json"
  },
  "id": "bc060447-2b48-11e7-1542-821d00000000",
  "accountId": "f4917c99-2346-11e7-1542-821d00000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/f500c39b-2346-11e7-1542-821d0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f49447eb-2346-11e7-1542-821d00000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2017-04-27 17:35:04",
  "name": "00001",
  "description": "dsfsdf",
  "externalCode": "5cp4fXAKjQ3MIxQNCKL-80",
  "moment": "2017-04-27 15:55:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/f52dd97c-2346-11e7-1542-821d00000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 4000,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/f52d7b30-2346-11e7-1542-821d00000054",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/f52a29b3-2346-11e7-1542-821d00000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "created": "2017-04-27 15:55:04",
  "printed": true,
  "published": true,
  "incomingNumber": "356124365",
  "incomingDate": "2017-04-06 00:00:00",
  "supplies": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/22e8d1ea-29bc-11e7-1542-821d00000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
        "type": "supply",
        "mediaType": "application/json"
      }
    }
  ]
}
Массовое создание и обновление Счетов-фактур полученных
Массовое создание и обновление Счетов-фактур полученных.
В теле запроса нужно передать массив, содержащий JSON представления Счетов-фактур полученных, которые вы хотите создать или обновить.
Обновляемые Счета-фактуры полученные должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Счетов-фактур полученных
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/facturein"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "incomingNumber": "356124365",
              "incomingDate": "2017-04-06 00:00:00",
              "supplies": [
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/22e8d1ea-29bc-11e7-1542-821d00000002",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
                    "type": "supply",
                    "mediaType": "application/json"
                  }
                }
              ]
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/209fe91a-ab00-11e6-8af5-581e00000076",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata",
                "type": "facturein",
                "mediaType": "application/json"
              },
              "name": "FactureIn2"
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Счетов-фактур полученных.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/bc060447-2b48-11e7-1542-821d00000000",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata",
      "type": "facturein",
      "mediaType": "application/json"
    },
    "id": "bc060447-2b48-11e7-1542-821d00000000",
    "accountId": "f4917c99-2346-11e7-1542-821d00000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/f500c39b-2346-11e7-1542-821d0000002a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f49447eb-2346-11e7-1542-821d00000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2017-04-27 17:35:04",
    "name": "00001",
    "description": "dsfsdf",
    "externalCode": "5cp4fXAKjQ3MIxQNCKL-80",
    "moment": "2017-04-27 15:55:00",
    "applicable": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/f52dd97c-2346-11e7-1542-821d00000058",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 4000,
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/f52d7b30-2346-11e7-1542-821d00000054",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/f52a29b3-2346-11e7-1542-821d00000051",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "created": "2017-04-27 15:55:04",
    "printed": true,
    "published": true,
    "incomingNumber": "356124365",
    "incomingDate": "2017-04-06 00:00:00",
    "supplies": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/22e8d1ea-29bc-11e7-1542-821d00000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
          "type": "supply",
          "mediaType": "application/json"
        }
      }
    ]
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/209fe91a-ab00-11e6-8af5-581e00000076",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata",
      "type": "facturein",
      "mediaType": "application/json"
    },
    "id": "209fe91a-ab00-11e6-8af5-581e00000076",
    "accountId": "f4917c99-2346-11e7-1542-821d00000001",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/f500c39b-2346-11e7-1542-821d0000002a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f49447eb-2346-11e7-1542-821d00000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2017-04-27 18:38:19",
    "name": "FactureIn2",
    "description": "dsfsdf",
    "externalCode": "5cp4fXAKjQ3MIxQNCKL-80",
    "moment": "2017-04-27 15:55:00",
    "applicable": true,
    "rate": {
      "currency": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/f52dd97c-2346-11e7-1542-821d00000058",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
          "type": "currency",
          "mediaType": "application/json"
        }
      }
    },
    "sum": 4000,
    "agent": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/f52d7b30-2346-11e7-1542-821d00000054",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
        "type": "counterparty",
        "mediaType": "application/json"
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/f52a29b3-2346-11e7-1542-821d00000051",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "created": "2017-04-27 15:55:04",
    "printed": true,
    "published": true,
    "incomingNumber": "356124365",
    "incomingDate": "2017-04-06 00:00:00",
    "supplies": [
      {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/22e8d1ea-29bc-11e7-1542-821d00000002",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
          "type": "supply",
          "mediaType": "application/json"
        }
      }
    ]
  }
]
Массовое удаление Счетов-фактур полученных
В теле запроса нужно передать массив, содержащий JSON метаданных Счетов-фактур полученных, которые вы хотите удалить.
Запрос на массовое удаление Счетов-фактур полученных. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/facturein/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata",
                "type": "facturein",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata",
                "type": "facturein",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Счетов-фактур полученных.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'facturein' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'facturein' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные Счетов-фактур полученныхМетаданные Счетов-фактур
Запрос на получение метаданных Счетов-фактур полученных. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Счетов-фактур полученных


attributes
Массив объектов доп. полей Счетов-фактур полученных в формате Метаданных


states
Массив статусов Счетов-фактур полученных


createShared
создавать новые Счета-фактуры полученные с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Счетов-фактур полученных
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Счетов-фактур полученных.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata/attributes/6323a876-ab00-11e6-8af5-581e00000083",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "6323a876-ab00-11e6-8af5-581e00000083",
      "name": "extra field",
      "type": "string",
      "required": false
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata/attributes/6323b1d9-ab00-11e6-8af5-581e00000084",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "id": "6323b1d9-ab00-11e6-8af5-581e00000084",
      "name": "else_field",
      "type": "string",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata/states/6f210951-ab00-11e6-8af5-581e00000088",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "6f210951-ab00-11e6-8af5-581e00000088",
      "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
      "name": "my_status",
      "color": 10066329,
      "stateType": "Regular",
      "entityType": "facturein"
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 8b0b6c1d-aa6f-11e6-8a84-bc520000008a id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata/attributes/8b0b6c1d-aa6f-11e6-8a84-bc520000008a"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata/attributes/6323b1d9-ab00-11e6-8af5-581e00000084",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "6323b1d9-ab00-11e6-8af5-581e00000084",
  "name": "else_field",
  "type": "string",
  "required": false
}
Шаблон Счета-фактуры полученногоШаблон Счета-фактуры полученного на основе
Запрос на получение предзаполненного шаблона Счета-фактуры полученного на основе приемки или исходящего платежа.
В ответ на запрос вернется предзаполненный шаблон Счета-фактуры полученного, который
затем можно будет использовать для создания нового Счета-фактуры с помощью POST запроса.
Пример запроса на создание шаблона Счета-фактуры полученного на основе приемки.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/facturein/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "supplies": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/5dfd7505-67d8-11e7-6adb-ede50000002d",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
                  "type": "supply",
                  "mediaType": "application/json",
                  "uuidHref": "https://online.moysklad.ru/app/#supply/edit?id=5dfd7505-67d8-11e7-6adb-ede50000002d"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного Счета-фактуры полученного.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/498a0445-66cc-11e7-6adb-ede50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=498a0445-66cc-11e7-6adb-ede50000002a"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/48f21833-66cc-11e7-6adb-ede500000001",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2017-07-20 15:30:01",
  "applicable": true,
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/49b4b0b0-66cc-11e7-6adb-ede500000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#currency/edit?id=49b4b0b0-66cc-11e7-6adb-ede500000058"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/49b40d55-66cc-11e7-6adb-ede500000054",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=49b40d55-66cc-11e7-6adb-ede500000054"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/49b00bbc-66cc-11e7-6adb-ede500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=49b00bbc-66cc-11e7-6adb-ede500000051"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata/states/7ef4eb25-6abc-11e7-6adb-ede50000000a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "supplies": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/5dfd7505-67d8-11e7-6adb-ede50000002d",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
        "type": "supply",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#supply/edit?id=5dfd7505-67d8-11e7-6adb-ede50000002d"
      }
    }
  ]
}

Пример запроса на создание шаблона Счета-фактуры полученного на основе исходящего платежа.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/facturein/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "payments": [
              {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/dc5acb9c-6d46-11e7-6adb-ede500000030",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata",
                  "type": "paymentout",
                  "mediaType": "application/json",
                  "uuidHref": "https://online.moysklad.ru/app/#paymentout/edit?id=dc5acb9c-6d46-11e7-6adb-ede500000030"
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненного Счета-фактуры полученного.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/498a0445-66cc-11e7-6adb-ede50000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=498a0445-66cc-11e7-6adb-ede50000002a"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/48f21833-66cc-11e7-6adb-ede500000001",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2017-07-20 15:29:19",
  "applicable": true,
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/49b4b0b0-66cc-11e7-6adb-ede500000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#currency/edit?id=49b4b0b0-66cc-11e7-6adb-ede500000058"
      }
    }
  },
  "sum": 0,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/d77f0d20-6ae2-11e7-6adb-ede50000001c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#company/edit?id=d77f0d20-6ae2-11e7-6adb-ede50000001c"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/49b00bbc-66cc-11e7-6adb-ede500000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=49b00bbc-66cc-11e7-6adb-ede500000051"
    }
  },
  "state": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata/states/7ef4eb25-6abc-11e7-6adb-ede50000000a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata",
      "type": "state",
      "mediaType": "application/json"
    }
  },
  "payments": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/dc5acb9c-6d46-11e7-6adb-ede500000030",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/paymentout/metadata",
        "type": "paymentout",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#paymentout/edit?id=dc5acb9c-6d46-11e7-6adb-ede500000030"
      }
    }
  ]
}
Счет-фактура полученныйПолучить Счет-фактуру полученный
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Счета-фактуры.


Запрос на получение отдельного Счета-фактуры полученного с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/facturein/209fe91a-ab00-11e6-8af5-581e00000076"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Счета-фактуры полученного.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/209fe91a-ab00-11e6-8af5-581e00000076",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata",
    "type": "facturein",
    "mediaType": "application/json"
  },
  "id": "209fe91a-ab00-11e6-8af5-581e00000076",
  "accountId": "9560e3e3-9609-11e6-8af5-581e00000008",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/9575ba6d-9609-11e6-8af5-581e000000ad",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/956169fa-9609-11e6-8af5-581e00000009",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-15 09:52:51",
  "name": "00002",
  "externalCode": "sylr1937hnp9AAftWLeYl3",
  "moment": "2016-11-15 09:52:00",
  "applicable": true,
  "printed": true,
  "published": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/baac25f0-50ac-11e5-300d-c79b00000055",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 200000,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/9596b6e2-9609-11e6-8af5-581e000000d7",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/95920812-9609-11e6-8af5-581e000000d4",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "supplies": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/1b56b5c8-ab00-11e6-8af5-581e00000070",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
        "type": "supply",
        "mediaType": "application/json"
      }
    }
  ]
}
Изменить Счет-фактуру полученный
Запрос на обновление Счета-фактуры с указанным id.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Счета-фактуры.


Пример запроса на обновление Счета-фактуры.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/facturein/209fe91a-ab00-11e6-8af5-581e00000076"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "FactureIn2"
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного Счета-фактуры.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/209fe91a-ab00-11e6-8af5-581e00000076",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/facturein/metadata",
    "type": "facturein",
    "mediaType": "application/json"
  },
  "id": "209fe91a-ab00-11e6-8af5-581e00000076",
  "accountId": "f4917c99-2346-11e7-1542-821d00000001",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/f500c39b-2346-11e7-1542-821d0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/f49447eb-2346-11e7-1542-821d00000002",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2017-04-27 18:38:19",
  "name": "FactureIn2",
  "description": "dsfsdf",
  "externalCode": "5cp4fXAKjQ3MIxQNCKL-80",
  "moment": "2017-04-27 15:55:00",
  "applicable": true,
  "rate": {
    "currency": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/currency/f52dd97c-2346-11e7-1542-821d00000058",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/currency/metadata",
        "type": "currency",
        "mediaType": "application/json"
      }
    }
  },
  "sum": 4000,
  "agent": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/f52d7b30-2346-11e7-1542-821d00000054",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/counterparty/metadata",
      "type": "counterparty",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/f52a29b3-2346-11e7-1542-821d00000051",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "created": "2017-04-27 15:55:04",
  "printed": true,
  "published": true,
  "incomingNumber": "356124365",
  "incomingDate": "2017-04-06 00:00:00",
  "supplies": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/supply/22e8d1ea-29bc-11e7-1542-821d00000002",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/supply/metadata",
        "type": "supply",
        "mediaType": "application/json"
      }
    }
  ]
}
Удалить Счет-фактуру полученный
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Счета-фактуры.


Запрос на удаление Счета-фактуры полученного с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/facturein/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Счета-фактуры полученного.

Техоперация
Средствами JSON API можно создавать и обновлять сведения о Техоперациях, запрашивать списки Техопераций и сведения по отдельным Техоперациям. Позициями Техопераций можно управлять как в составе отдельной Техоперации, так и отдельно - с помощью специальных ресурсов для управления материалами и продуктами Техоперации. Кодом сущности для Техоперации в составе JSON API является ключевое слово processing. Больше о Техоперациях и работе с ними в основном интерфейсе вы можете прочитать в нашей службе поддержки по
этой ссылке.
ТехоперацииАтрибуты сущности


Название
Тип
Фильтрация
Описание



accountId
UUID
= !=
ID учетной записиОбязательное при ответе Только для чтения


applicable
Boolean
= !=
Отметка о проведенииОбязательное при ответе


attributes
Array(Object)
Операторы доп. полей
Коллекция метаданных доп. полей. Поля объекта


code
String(255)
= != ~ ~= =~
Код Техоперации


created
DateTime
= != < > <= >=
Дата созданияОбязательное при ответе Только для чтения


deleted
DateTime
= != < > <= >=
Момент последнего удаления ТехоперацииТолько для чтения


description
String(4096)
= != ~ ~= =~
Комментарий Техоперации


externalCode
String(255)
= != ~ ~= =~
Внешний код ТехоперацииОбязательное при ответе


files
MetaArray

Метаданные массива Файлов (Максимальное количество файлов - 100)Обязательное при ответе Expand


group
Meta
= !=
Отдел сотрудникаОбязательное при ответе Expand


id
UUID
= !=
ID ТехоперацииОбязательное при ответе Только для чтения


materials
Array(Object)

Список Метаданных материалов ТехоперацииОбязательное при ответе Expand


materialsStore
Meta

Метаданные склада для материаловОбязательное при ответе Expand Необходимо при создании


meta
Meta

Метаданные ТехоперацииОбязательное при ответе Только для чтения


moment
DateTime
= != < > <= >=
Дата документаОбязательное при ответе


name
String(255)
= != ~ ~= =~
Наименование ТехоперацииОбязательное при ответе


organization
Meta
= !=
Метаданные юрлицаОбязательное при ответе Expand Необходимо при создании


organizationAccount
Meta

Метаданные счета юрлицаExpand


owner
Meta
= !=
Владелец (Сотрудник)Expand


printed
Boolean
= !=
Напечатан ли документОбязательное при ответе Только для чтения


processingPlan
Meta

Метаданные ТехкартыExpand


processingSum
Int

Затраты на производство за единицу объема производстваОбязательное при ответе


products
Array(Object)

Список Метаданных готовых продуктов ТехоперацииОбязательное при ответе Expand


productsStore
Meta

Метаданные склада для продукцииОбязательное при ответе Expand Необходимо при создании


project
Meta
= !=
Метаданные проектаExpand


published
Boolean
= !=
Опубликован ли документОбязательное при ответе Только для чтения


quantity
Float
= != < > <= >=
Объем производстваОбязательное при ответе


shared
Boolean
= !=
Общий доступОбязательное при ответе


state
Meta
= !=
Метаданные статуса ТехоперацииExpand


syncId
UUID
= !=
ID синхронизации. После заполнения недоступен для измененияТолько для чтения


updated
DateTime
= != < > <= >=
Момент последнего обновления ТехоперацииОбязательное при ответе Только для чтения


Связи с другими документами


Название
Описание



processingOrder
Ссылка на заказ на производство в формате Метаданных


Материалы Техоперации
Материалы Техоперации - это список товаров/модификаций, используемых для производства готовых продуктов.
Объект материала Техоперации содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения


assortment
Meta
Метаданные товара/серии/модификации, которую представляет собой позицияОбязательное при ответе Expand


id
UUID
ID ТехоперацииОбязательное при ответе Только для чтения


quantity
Float
Количество товаров данного вида в позицииОбязательное при ответе


Продукты Техоперации
Продукты Техоперации - это список товаров/модификаций, получаемых при производстве.
Объект продукта Техоперации содержит следующие поля:


Название
Тип
Описание



accountId
UUID
ID учетной записиОбязательное при ответе Только для чтения


assortment
Meta
Метаданные товара/серии/модификации, которую представляет собой позицияОбязательное при ответе Expand


id
UUID
ID ТехоперацииОбязательное при ответе Только для чтения


quantity
Float
Количество товаров данного вида в позицииОбязательное при ответе


С материалами и продуктами можно работать с помощью специальных ресурсов для управления позициями Техоперации,
а также в составе отдельной Техоперации. При работе в составе отдельной Техоперации,
вы можете отправлять запросы на создание отдельной Техоперации с включенными в тело запроса
массивами материалов и продуктов Техоперации.
Также, при работе в составе отдельной Техоперации, можно отправлять запросы на обновление списка материалов и продуктов
с включенными в тело запроса массивами материалов и продуктов Техоперации. 
Особенности поведения Техоперации
Поля quantity, processingSum, products, materials тесно связаны с техкартой. 
Техоперация должна состоять как минимум из одной позиции в готовой продукции. Для этого необходимо привязать техкарту и готовая продукция будет проставлена автоматически из техкарты, 
либо самостоятельно передать готовую продукцию в поле products.
Получить список Техопераций
Запрос всех Техопераций на данной учетной записи.
Результат: Объект JSON, включающий в себя поля:


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой Техоперации.


Параметры


Параметр
Описание



limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


search
string (optional) Example: 0001 Фильтр документов по указанной поисковой строке.


Получить список Техопераций
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/processing"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка Техопераций.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
    "type": "processing",
    "mediaType": "application/json",
    "size": 6,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
        "type": "processing",
        "mediaType": "application/json"
      },
      "id": "493ddf6b-aff9-11e6-5bed-427b00000076",
      "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d5ad957e-91f1-11e6-5bed-427b0000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d55da707-91f1-11e6-5bed-427b00000001",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-21 17:46:29.000",
      "name": "я1",
      "externalCode": "JhQJY8u1isyuqHyn7B6Wx3",
      "moment": "2016-11-21 17:46:00.000",
      "applicable": true,
      "printed": true,
      "published": true,
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/7f3a7d7a-97a1-11e6-5bed-427b0000009c",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "processingSum": 10000,
      "quantity": 1,
      "processingPlan": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
          "type": "processingplan",
          "mediaType": "application/json"
        }
      },
      "productsStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/c61ce912-a747-11e6-5bed-427b000000a8",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "materialsStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "processingOrder": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c7201428-afcc-11e6-5bed-427b00000068",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
          "type": "processingorder",
          "mediaType": "application/json"
        }
      },
      "products": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076/products",
          "type": "processingpositionresult",
          "mediaType": "application/json",
          "size": 2,
          "limit": 1000,
          "offset": 0
        }
      },
      "materials": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076/materials",
          "type": "processingpositionmaterial",
          "mediaType": "application/json",
          "size": 2,
          "limit": 1000,
          "offset": 0
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/8450f4de-b002-11e6-5bed-427b00000000",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
        "type": "processing",
        "mediaType": "application/json"
      },
      "id": "8450f4de-b002-11e6-5bed-427b00000000",
      "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d5ad957e-91f1-11e6-5bed-427b0000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d55da707-91f1-11e6-5bed-427b00000001",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-21 18:52:33.000",
      "name": "я2",
      "externalCode": "pJCPjt45j2MH-RF6joC801",
      "moment": "2016-11-21 18:51:23.000",
      "applicable": true,
      "printed": true,
      "published": true,
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/7f3a7d7a-97a1-11e6-5bed-427b0000009c",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "processingSum": 1000,
      "quantity": 3,
      "processingPlan": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/1a18770e-ad9a-11e6-5bed-427b00000064",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
          "type": "processingplan",
          "mediaType": "application/json"
        }
      },
      "productsStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "materialsStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "processingOrder": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/5fbf79f4-adac-11e6-5bed-427b0000006a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
          "type": "processingorder",
          "mediaType": "application/json"
        }
      },
      "products": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/8450f4de-b002-11e6-5bed-427b00000000/products",
          "type": "processingpositionresult",
          "mediaType": "application/json",
          "size": 2,
          "limit": 1000,
          "offset": 0
        }
      },
      "materials": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/8450f4de-b002-11e6-5bed-427b00000000/materials",
          "type": "processingpositionmaterial",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/86e98bad-acc4-11e6-5bed-427b0000006f",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
        "type": "processing",
        "mediaType": "application/json"
      },
      "id": "86e98bad-acc4-11e6-5bed-427b0000006f",
      "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d5ad957e-91f1-11e6-5bed-427b0000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d55da707-91f1-11e6-5bed-427b00000001",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-21 17:18:59.000",
      "name": "3",
      "description": "123",
      "externalCode": "wI2vDDTVgkW48xeO4nQx83",
      "moment": "2016-11-17 18:15:00.000",
      "applicable": true,
      "printed": true,
      "published": true,
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/7f3a7d7a-97a1-11e6-5bed-427b0000009c",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "processingSum": 77800,
      "quantity": 1,
      "processingPlan": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/6b4ffbf7-ac12-11e6-5bed-427b00000091",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
          "type": "processingplan",
          "mediaType": "application/json"
        }
      },
      "productsStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "materialsStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "products": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/86e98bad-acc4-11e6-5bed-427b0000006f/products",
          "type": "processingpositionresult",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      },
      "materials": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/86e98bad-acc4-11e6-5bed-427b0000006f/materials",
          "type": "processingpositionmaterial",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/bcd6e6b5-b002-11e6-5bed-427b0000000b",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
        "type": "processing",
        "mediaType": "application/json"
      },
      "id": "bcd6e6b5-b002-11e6-5bed-427b0000000b",
      "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d5ad957e-91f1-11e6-5bed-427b0000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d55da707-91f1-11e6-5bed-427b00000001",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-21 18:57:52",
      "name": "я3",
      "externalCode": "299q4AXMhEnfW6V49y5nK3",
      "moment": "2016-11-21 18:51:00",
      "applicable": true,
      "printed": true,
      "published": true,
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/7f3a7d7a-97a1-11e6-5bed-427b0000009c",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "processingSum": 1000,
      "quantity": 3,
      "processingPlan": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/1a18770e-ad9a-11e6-5bed-427b00000064",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
          "type": "processingplan",
          "mediaType": "application/json"
        }
      },
      "productsStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "materialsStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "processingOrder": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/5fbf79f4-adac-11e6-5bed-427b0000006a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
          "type": "processingorder",
          "mediaType": "application/json"
        }
      },
      "products": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/bcd6e6b5-b002-11e6-5bed-427b0000000b/products",
          "type": "processingpositionresult",
          "mediaType": "application/json",
          "size": 2,
          "limit": 1000,
          "offset": 0
        }
      },
      "materials": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/bcd6e6b5-b002-11e6-5bed-427b0000000b/materials",
          "type": "processingpositionmaterial",
          "mediaType": "application/json",
          "size": 1,
          "limit": 1000,
          "offset": 0
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/e0ecaec9-acdc-11e6-5bed-427b000000a5",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
        "type": "processing",
        "mediaType": "application/json"
      },
      "id": "e0ecaec9-acdc-11e6-5bed-427b000000a5",
      "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d5ad957e-91f1-11e6-5bed-427b0000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d55da707-91f1-11e6-5bed-427b00000001",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-18 16:56:54.000",
      "name": "1234",
      "externalCode": "P81TjGDDiO5p7oUzSsvtk3",
      "moment": "2016-11-17 18:44:00.000",
      "applicable": true,
      "printed": true,
      "published": true,
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/7f3a7d7a-97a1-11e6-5bed-427b0000009c",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "processingSum": 0,
      "quantity": 2,
      "processingPlan": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
          "type": "processingplan",
          "mediaType": "application/json"
        }
      },
      "productsStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "materialsStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "products": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/e0ecaec9-acdc-11e6-5bed-427b000000a5/products",
          "type": "processingpositionresult",
          "mediaType": "application/json",
          "size": 2,
          "limit": 1000,
          "offset": 0
        }
      },
      "materials": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/e0ecaec9-acdc-11e6-5bed-427b000000a5/materials",
          "type": "processingpositionmaterial",
          "mediaType": "application/json",
          "size": 0,
          "limit": 1000,
          "offset": 0
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/e4f01df6-adb0-11e6-5bed-427b0000007a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
        "type": "processing",
        "mediaType": "application/json"
      },
      "id": "e4f01df6-adb0-11e6-5bed-427b0000007a",
      "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
      "owner": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d5ad957e-91f1-11e6-5bed-427b0000002a",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
          "type": "employee",
          "mediaType": "application/json"
        }
      },
      "shared": false,
      "group": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d55da707-91f1-11e6-5bed-427b00000001",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
          "type": "group",
          "mediaType": "application/json"
        }
      },
      "updated": "2016-11-18 20:03:14.000",
      "name": "я",
      "externalCode": "9VU4bcd7jcC3nOhk5M2Ul0",
      "moment": "2016-11-18 19:59:00.000",
      "applicable": true,
      "printed": true,
      "published": true,
      "project": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/7f3a7d7a-97a1-11e6-5bed-427b0000009c",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
          "type": "project",
          "mediaType": "application/json"
        }
      },
      "organization": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
          "type": "organization",
          "mediaType": "application/json"
        }
      },
      "processingSum": 10000,
      "quantity": 4,
      "processingPlan": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
          "type": "processingplan",
          "mediaType": "application/json"
        }
      },
      "productsStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "materialsStore": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
          "type": "store",
          "mediaType": "application/json"
        }
      },
      "products": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/e4f01df6-adb0-11e6-5bed-427b0000007a/products",
          "type": "processingpositionresult",
          "mediaType": "application/json",
          "size": 2,
          "limit": 1000,
          "offset": 0
        }
      },
      "materials": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/e4f01df6-adb0-11e6-5bed-427b0000007a/materials",
          "type": "processingpositionmaterial",
          "mediaType": "application/json",
          "size": 2,
          "limit": 1000,
          "offset": 0
        }
      }
    }
  ]
}
Создать ТехоперациюОсобенности поведения при создании техоперации с привязкой техкарты
Если в теле запроса передается техкарта и отсутствуют поля products, materials, processingSum, то они будут созданы на основании техкарты.
Если не передается поле quantity, то будет выставлено дефолтное значение равное 1. При ином значении количество готовой продукции и материалов техоперации будут пересчитаны кратно передаваемому значению.
Если необходимо создать техоперацию с привязкой техкарты, но отличной продукцией или материалами, то нужно передать заполненные поля products, materials. 
Если необходимо указать пустые материалы, но они присутствуют в техкарте, то следует явно передать пустое значение для поля materials, в противном случае при не указанном поле оно будет взято из привязываемой техкарты.
Обязательные для создания поля с привязкой техкарты:

organization - Ссылка на ваше юрлицо в формате Метаданных
productsStore - Ссылка на склад для продукции в формате Метаданных
materialsStore - Ссылка на склад для материалов в формате Метаданных
processingPlan - Ссылка на Техоперацию в формате Метаданных

Особенности поведения при создании техоперации без техкарты
В этом случае в теле запроса обязательно необходимо передать поля products и processingSum. Если не передается поле quantity, то будет выставлено дефолтное значение равное 1.
Обязательные для создания поля без привязки техкарты:

organization - Ссылка на ваше юрлицо в формате Метаданных
productsStore - Ссылка на склад для продукции в формате Метаданных
materialsStore - Ссылка на склад для материалов в формате Метаданных
products - Список готовых продуктов Техоперации в формате Метаданных
processingSum - Затраты на производство за единицу объема производства

Пример создания новой Техоперации с привязкой техкарты с телом запроса, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/processing"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json"
              }
            },
            "processingPlan": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
                "type": "processingplan",
                "mediaType": "application/json"
              }
            },
            "productsStore": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/c61ce912-a747-11e6-5bed-427b000000a8",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            },
            "materialsStore": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Техоперации.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
    "type": "processing",
    "mediaType": "application/json"
  },
  "id": "493ddf6b-aff9-11e6-5bed-427b00000076",
  "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d5ad957e-91f1-11e6-5bed-427b0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d55da707-91f1-11e6-5bed-427b00000001",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-21 17:46:29",
  "name": "Это технологическая операция",
  "externalCode": "JhQJY8u1isyuqHyn7B6Wx3",
  "moment": "2016-11-21 17:46:00",
  "applicable": true,
  "printed": true,
  "published": true,
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/7f3a7d7a-97a1-11e6-5bed-427b0000009c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "processingSum": 10000,
  "quantity": 1,
  "processingPlan": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
      "type": "processingplan",
      "mediaType": "application/json"
    }
  },
  "productsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/c61ce912-a747-11e6-5bed-427b000000a8",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "materialsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "processingOrder": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c7201428-afcc-11e6-5bed-427b00000068",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
      "type": "processingorder",
      "mediaType": "application/json"
    }
  },
  "products": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076/products",
      "type": "processingpositionresult",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "materials": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076/materials",
      "type": "processingpositionmaterial",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  }
}

Пример создания новой Техоперации без привязки техкарты с телом запроса, содержащим только необходимые поля.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/processing"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/1337760f-df4e-11ed-ac12-000c000000c4",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=1337760f-df4e-11ed-ac12-000c000000c4"
              }
            },
            "processingSum": 50.0,
            "productsStore": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/133ac518-df4e-11ed-ac12-000c000000c6",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=133ac518-df4e-11ed-ac12-000c000000c6"
              }
            },
            "materialsStore": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/133ac518-df4e-11ed-ac12-000c000000c6",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=133ac518-df4e-11ed-ac12-000c000000c6"
              }
            },
            "products": [
              {
                "quantity": 10.0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/7a707724-df4e-11ed-ac12-000c00000146",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=7a6fd2ab-df4e-11ed-ac12-000c00000144"
                  }
                }
              }
            ]
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Техоперации.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/2a82cb9c-e3ea-11ed-ac12-000b00000009",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
    "type": "processing",
    "mediaType": "application/json",
    "uuidHref": "https://online.moysklad.ru/app/#processing/edit?id=2a82cb9c-e3ea-11ed-ac12-000b00000009"
  },
  "id": "2a82cb9c-e3ea-11ed-ac12-000b00000009",
  "accountId": "12ddf6da-df4e-11ed-ac12-000e0000000a",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/2b009031-df4e-11ed-ac12-000c0000012a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=2b009031-df4e-11ed-ac12-000c0000012a"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/12ded31d-df4e-11ed-ac12-000e0000000b",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2023-04-26 07:23:59.238",
  "name": "00001",
  "externalCode": "HnOI29bIhLywTHKzatMJX1",
  "moment": "2023-04-26 07:23:00.000",
  "applicable": true,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/1337760f-df4e-11ed-ac12-000c000000c4",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=1337760f-df4e-11ed-ac12-000c000000c4"
    }
  },
  "created": "2023-04-26 07:23:59.302",
  "printed": false,
  "published": false,
  "files": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/2a82cb9c-e3ea-11ed-ac12-000b00000009/files",
      "type": "files",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "processingSum": 50.0,
  "quantity": 1.0,
  "productsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/133ac518-df4e-11ed-ac12-000c000000c6",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=133ac518-df4e-11ed-ac12-000c000000c6"
    }
  },
  "materialsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/133ac518-df4e-11ed-ac12-000c000000c6",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=133ac518-df4e-11ed-ac12-000c000000c6"
    }
  },
  "products": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/2a82cb9c-e3ea-11ed-ac12-000b00000009/products",
      "type": "processingpositionresult",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  }
}

Пример создания новой Техоперации с привязкой техкарты с отличными от техкарты материалами и продуктами.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/processing"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "processingPlan": {
              "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/033b3bee-e35e-11ed-ac12-000b0000000f",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
                  "type": "processingplan",
                  "mediaType": "application/json",
                  "uuidHref": "https://online.moysklad.ru/app/#processingplan/edit?id=033b3bee-e35e-11ed-ac12-000b0000000f"
                }
            },
            "processingSum": 150.0,
            "products": [
              {
                "quantity": 10.0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/7a707724-df4e-11ed-ac12-000c00000146",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=7a6fd2ab-df4e-11ed-ac12-000c00000144"
                  }
                }
              }
            ],
            "materials": [
              {
                "quantity": 20.0,
                "assortment": {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/7a707724-df4e-11ed-ac12-000c00000146",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                    "type": "product",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=7a6fd2ab-df4e-11ed-ac12-000c00000144"
                  }
                }
              }
            ],
            "quantity": 3.0,
            "organization": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/1337760f-df4e-11ed-ac12-000c000000c4",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                "type": "organization",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=1337760f-df4e-11ed-ac12-000c000000c4"
              }
            },
            "productsStore": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/133ac518-df4e-11ed-ac12-000c000000c6",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=133ac518-df4e-11ed-ac12-000c000000c6"
              }
            },
            "materialsStore": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/133ac518-df4e-11ed-ac12-000c000000c6",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                "type": "store",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=133ac518-df4e-11ed-ac12-000c000000c6"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление созданной Техоперации.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/633dee04-e3eb-11ed-ac12-000b00000012",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
    "type": "processing",
    "mediaType": "application/json",
    "uuidHref": "https://online.moysklad.ru/app/#processing/edit?id=633dee04-e3eb-11ed-ac12-000b00000012"
  },
  "id": "633dee04-e3eb-11ed-ac12-000b00000012",
  "accountId": "12ddf6da-df4e-11ed-ac12-000e0000000a",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/2b009031-df4e-11ed-ac12-000c0000012a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=2b009031-df4e-11ed-ac12-000c0000012a"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/12ded31d-df4e-11ed-ac12-000e0000000b",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2023-04-26 07:32:43.875",
  "name": "00002",
  "externalCode": "l11G2XzQgqd99vv25dxsc2",
  "moment": "2023-04-26 07:32:00.000",
  "applicable": true,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/1337760f-df4e-11ed-ac12-000c000000c4",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=1337760f-df4e-11ed-ac12-000c000000c4"
    }
  },
  "created": "2023-04-26 07:32:43.972",
  "printed": false,
  "published": false,
  "files": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/633dee04-e3eb-11ed-ac12-000b00000012/files",
      "type": "files",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "processingSum": 150.0,
  "quantity": 3.0,
  "processingPlan": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/033b3bee-e35e-11ed-ac12-000b0000000f",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
      "type": "processingplan",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#processingplan/edit?id=033b3bee-e35e-11ed-ac12-000b0000000f"
    }
  },
  "productsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/133ac518-df4e-11ed-ac12-000c000000c6",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=133ac518-df4e-11ed-ac12-000c000000c6"
    }
  },
  "materialsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/133ac518-df4e-11ed-ac12-000c000000c6",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=133ac518-df4e-11ed-ac12-000c000000c6"
    }
  },
  "products": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/633dee04-e3eb-11ed-ac12-000b00000012/products",
      "type": "processingpositionresult",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  },
  "materials": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/633dee04-e3eb-11ed-ac12-000b00000012/materials",
      "type": "processingpositionmaterial",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  }
}
Массовое создание и обновление Техопераций
Массовое создание и обновление Техопераций.
В теле запроса нужно передать массив, содержащий JSON представления Техопераций, которые вы хотите создать или обновить.
Обновляемые Техоперации должны содержать идентификатор в виде метаданных.
Пример создания и обновления нескольких Техопераций
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/processing"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '[
            {
              "organization": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
                  "type": "organization",
                  "mediaType": "application/json"
                }
              },
              "processingSum": 10000,
              "quantity": 1,
              "processingPlan": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
                  "type": "processingplan",
                  "mediaType": "application/json"
                }
              },
              "productsStore": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/c61ce912-a747-11e6-5bed-427b000000a8",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                  "type": "store",
                  "mediaType": "application/json"
                }
              },
              "materialsStore": {
                "meta": {
                  "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
                  "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
                  "type": "store",
                  "mediaType": "application/json"
                }
              },
              "products": {
                "meta": {
                  "type": "processingpositionresult",
                  "mediaType": "application/json",
                  "size": 2,
                  "limit": 1000,
                  "offset": 0
                },
                "rows": [
                  {
                    "quantity": 3,
                    "assortment": {
                      "meta": {
                        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/160ff7bb-acdc-11e6-5bed-427b0000008c",
                        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                        "type": "product",
                        "mediaType": "application/json"
                      }
                    }
                  },
                  {
                    "quantity": 2,
                    "assortment": {
                      "meta": {
                        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/18fce7bf-acdc-11e6-5bed-427b00000092",
                        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                        "type": "product",
                        "mediaType": "application/json"
                      }
                    }
                  }
                ]
              },
              "materials": {
                "meta": {
                  "type": "processingpositionmaterial",
                  "mediaType": "application/json",
                  "size": 2,
                  "limit": 1000,
                  "offset": 0
                },
                "rows": [
                  {
                    "quantity": 4,
                    "assortment": {
                      "meta": {
                        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0de151c1-acdc-11e6-5bed-427b00000080",
                        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                        "type": "product",
                        "mediaType": "application/json"
                      }
                    }
                  },
                  {
                    "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
                    "quantity": 1,
                    "assortment": {
                      "meta": {
                        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/1267a23f-acdc-11e6-5bed-427b00000086",
                        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                        "type": "product",
                        "mediaType": "application/json"
                      }
                    }
                  }
                ]
              }
            },
            {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
                "type": "processing",
                "mediaType": "application/json"
              },
              "name": "000034",
              "quantity": 5,
              "processingSum": 2000
            }
          ]'  

Response 200 (application/json)
Успешный запрос. Результат - массив JSON представлений созданных и обновленных Техопераций.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
      "type": "processing",
      "mediaType": "application/json"
    },
    "id": "493ddf6b-aff9-11e6-5bed-427b00000076",
    "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d5ad957e-91f1-11e6-5bed-427b0000002a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d55da707-91f1-11e6-5bed-427b00000001",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-11-21 17:46:29",
    "name": "Это технологическая операция",
    "externalCode": "JhQJY8u1isyuqHyn7B6Wx3",
    "moment": "2016-11-21 17:46:00",
    "applicable": true,
    "printed": true,
    "published": true,
    "project": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/7f3a7d7a-97a1-11e6-5bed-427b0000009c",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
        "type": "project",
        "mediaType": "application/json"
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "processingSum": 10000,
    "quantity": 1,
    "processingPlan": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
        "type": "processingplan",
        "mediaType": "application/json"
      }
    },
    "productsStore": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/c61ce912-a747-11e6-5bed-427b000000a8",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "materialsStore": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "processingOrder": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c7201428-afcc-11e6-5bed-427b00000068",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
        "type": "processingorder",
        "mediaType": "application/json"
      }
    },
    "products": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076/products",
        "type": "processingpositionresult",
        "mediaType": "application/json",
        "size": 2,
        "limit": 1000,
        "offset": 0
      }
    },
    "materials": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076/materials",
        "type": "processingpositionmaterial",
        "mediaType": "application/json",
        "size": 2,
        "limit": 1000,
        "offset": 0
      }
    }
  },
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
      "type": "processing",
      "mediaType": "application/json"
    },
    "id": "493ddf6b-aff9-11e6-5bed-427b00000076",
    "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
    "owner": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d5ad957e-91f1-11e6-5bed-427b0000002a",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    },
    "shared": false,
    "group": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d55da707-91f1-11e6-5bed-427b00000001",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
        "type": "group",
        "mediaType": "application/json"
      }
    },
    "updated": "2016-11-21 17:46:29",
    "name": "000034",
    "externalCode": "JhQJY8u1isyuqHyn7B6Wx3",
    "moment": "2016-11-21 17:46:00",
    "applicable": true,
    "printed": true,
    "published": true,
    "project": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/7f3a7d7a-97a1-11e6-5bed-427b0000009c",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
        "type": "project",
        "mediaType": "application/json"
      }
    },
    "organization": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
        "type": "organization",
        "mediaType": "application/json"
      }
    },
    "processingSum": 2000,
    "quantity": 5,
    "processingPlan": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
        "type": "processingplan",
        "mediaType": "application/json"
      }
    },
    "productsStore": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/c61ce912-a747-11e6-5bed-427b000000a8",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "materialsStore": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
        "type": "store",
        "mediaType": "application/json"
      }
    },
    "processingOrder": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c7201428-afcc-11e6-5bed-427b00000068",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
        "type": "processingorder",
        "mediaType": "application/json"
      }
    },
    "products": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076/products",
        "type": "processingpositionresult",
        "mediaType": "application/json",
        "size": 2,
        "limit": 1000,
        "offset": 0
      }
    },
    "materials": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076/materials",
        "type": "processingpositionmaterial",
        "mediaType": "application/json",
        "size": 2,
        "limit": 1000,
        "offset": 0
      }
    }
  }
]
Удалить Техоперацию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Техоперации.


Запрос на удаление Техоперации с указанным id.
ПоказатьСвернуть
curl -X DELETE
  "https://api.moysklad.ru/api/remap/1.2/entity/processing/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление Техоперации.

Массовое удаление Техопераций
В теле запроса нужно передать массив, содержащий JSON метаданных Техопераций, которые вы хотите удалить.
Запрос на массовое удаление Техопераций. 
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/processing/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/7944ef04-f831-11e5-7a69-971500188b1",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
                "type": "processing",
                "mediaType": "application/json"
            }
        },
        {
            "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/7944ef04-f831-11e5-7a69-971500188b2",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
                "type": "processing",
                "mediaType": "application/json"
            }
        }
      ]'

Успешный запрос. Результат - JSON информация об удалении Техопераций.
ПоказатьСвернуть
[
  {
    "info":"Сущность 'processing' с UUID: 7944ef04-f831-11e5-7a69-971500188b1 успешно удалена"
  },
  {
    "info":"Сущность 'processing' с UUID: 7944ef04-f831-11e5-7a69-971500188b2 успешно удалена"
  }
]
Метаданные ТехоперацийМетаданные Техопераций
Запрос на получение метаданных Техопераций. Результат - объект JSON, включающий в себя:


Параметр
Описание



meta
Ссылка на метаданные Техопераций


attributes
Массив объектов доп. полей Техопераций в формате Метаданных


states
Массив статусов Техопераций


createShared
создавать новые Техоперации с меткой "Общий"


Структура отдельного объекта, представляющего доп. поле подробно описана в разделе Работа с дополнительными полями.
Метаданные Техопераций
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление доп. полей Техопераций.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
    "mediaType": "application/json"
  },
  "attributes": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata/attributes/c2ecd338-015e-11e6-9464-e4de0000008f",
        "type": "attributemetadata",
        "mediaType": "application/json"
      },
      "name": "AttributeName1",
      "type": "string",
      "required": false
    }
  ],
  "states": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata/states/fb56c504-2e58-11e6-8a84-bae500000069",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56c504-2e58-11e6-8a84-bae500000069",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Новая",
      "color": 15106326,
      "stateType": "Regular",
      "entityType": "processing"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata/states/fb56cae3-2e58-11e6-8a84-bae50000006a",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56cae3-2e58-11e6-8a84-bae50000006a",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Подтверждена",
      "color": 40931,
      "stateType": "Regular",
      "entityType": "processing"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata/states/fb56cf4f-2e58-11e6-8a84-bae50000006b",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56cf4f-2e58-11e6-8a84-bae50000006b",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Собрана",
      "color": 8767198,
      "stateType": "Regular",
      "entityType": "processing"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata/states/fb56d433-2e58-11e6-8a84-bae50000006c",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56d433-2e58-11e6-8a84-bae50000006c",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Отгружена",
      "color": 10774205,
      "stateType": "Regular",
      "entityType": "processing"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata/states/fb56d92f-2e58-11e6-8a84-bae50000006d",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56d92f-2e58-11e6-8a84-bae50000006d",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Доставлена",
      "color": 8825440,
      "stateType": "Successful",
      "entityType": "processing"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata/states/fb56de0a-2e58-11e6-8a84-bae50000006e",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56de0a-2e58-11e6-8a84-bae50000006e",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Возврат",
      "color": 15280409,
      "stateType": "Unsuccessful",
      "entityType": "processing"
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata/states/fb56e2b4-2e58-11e6-8a84-bae50000006f",
        "type": "state",
        "mediaType": "application/json"
      },
      "id": "fb56e2b4-2e58-11e6-8a84-bae50000006f",
      "accountId": "f976ed28-2e58-11e6-8a84-bae500000001",
      "name": "Отменена",
      "color": 15280409,
      "stateType": "Unsuccessful",
      "entityType": "processing"
    }
  ],
  "createShared": false
}
Отдельное доп. поле
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Доп. поля.


Запрос на получение информации по отдельному дополнительному полю.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata/attributes/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного доп. поля.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata/attributes/57ab884e-558b-11e6-8a84-bae500000078",
    "type": "attributemetadata",
    "mediaType": "application/json"
  },
  "id": "57ab884e-558b-11e6-8a84-bae500000078",
  "name": "AttributeName1",
  "type": "productfolder",
  "required": false
}
Шаблон ТехоперацииШаблон Техоперации на основе
Запрос на получение предзаполненной техоперации на основе другого документа.
В результате запроса будет создан предзаполненный шаблон техоперации на основе переданного документа.
Запрос на получение шаблона техоперации на основе заказа на производство.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/processing/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "processingOrder": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/5fbf79f4-adac-11e6-5bed-427b0000006a",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
                "type": "processingorder",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной техоперации.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d5ad957e-91f1-11e6-5bed-427b0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d55da707-91f1-11e6-5bed-427b00000001",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-12-05 14:35:47",
  "applicable": true,
  "printed": true,
  "published": true,
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/7f3a7d7a-97a1-11e6-5bed-427b0000009c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "processingSum": 1000,
  "quantity": 1,
  "processingPlan": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/1a18770e-ad9a-11e6-5bed-427b00000064",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
      "type": "processingplan",
      "mediaType": "application/json"
    }
  },
  "materialsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "processingOrder": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/5fbf79f4-adac-11e6-5bed-427b0000006a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
      "type": "processingorder",
      "mediaType": "application/json"
    }
  },
  "products": {
    "rows": [
      {
        "quantity": 1,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0da78cd1-91f2-11e6-5bed-427b0000009a",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json"
          }
        }
      },
      {
        "quantity": 1,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0da78cd1-91f2-11e6-5bed-427b0000009a",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json"
          }
        }
      }
    ]
  },
  "materials": {
    "rows": [
      {
        "quantity": 1,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0de151c1-acdc-11e6-5bed-427b00000080",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json"
          }
        }
      }
    ]
  }
}

Запрос на получение шаблона техоперации на основе техкарты.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/processing/new"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "processingPlan": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/5fbf79f4-adac-11e6-5bed-427b0000006a",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
                "type": "processingplan",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление предзаполненной техоперации.
ПоказатьСвернуть
{
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d5ad957e-91f1-11e6-5bed-427b0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d55da707-91f1-11e6-5bed-427b00000001",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "moment": "2016-12-05 14:35:47",
  "applicable": true,
  "printed": true,
  "published": true,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "processingSum": 1000,
  "quantity": 1,
  "processingPlan": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/1a18770e-ad9a-11e6-5bed-427b00000064",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
      "type": "processingplan",
      "mediaType": "application/json"
    }
  },
  "materialsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "productsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "products": {
    "rows": [
      {
        "quantity": 1,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0da78cd1-91f2-11e6-5bed-427b0000009a",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json"
          }
        }
      },
      {
        "quantity": 1,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0da78cd1-91f2-11e6-5bed-427b0000009a",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json"
          }
        }
      }
    ]
  },
  "materials": {
    "rows": [
      {
        "quantity": 1,
        "assortment": {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0de151c1-acdc-11e6-5bed-427b00000080",
            "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
            "type": "product",
            "mediaType": "application/json"
          }
        }
      }
    ]
  }
}
ТехоперацияПолучить Техоперацию
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Техоперации.


Запрос на получение отдельной Техоперации с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/processing/7944ef04-f831-11e5-7a69-971500188b19"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление Техоперации.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
    "type": "processing",
    "mediaType": "application/json"
  },
  "id": "493ddf6b-aff9-11e6-5bed-427b00000076",
  "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d5ad957e-91f1-11e6-5bed-427b0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d55da707-91f1-11e6-5bed-427b00000001",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-21 17:46:29",
  "name": "я1",
  "externalCode": "JhQJY8u1isyuqHyn7B6Wx3",
  "moment": "2016-11-21 17:46:00",
  "applicable": true,
  "printed": true,
  "published": true,
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/7f3a7d7a-97a1-11e6-5bed-427b0000009c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "processingSum": 10000,
  "quantity": 1,
  "processingPlan": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
      "type": "processingplan",
      "mediaType": "application/json"
    }
  },
  "productsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/c61ce912-a747-11e6-5bed-427b000000a8",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "materialsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "processingOrder": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c7201428-afcc-11e6-5bed-427b00000068",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
      "type": "processingorder",
      "mediaType": "application/json"
    }
  },
  "products": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076/products",
      "type": "processingpositionresult",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "materials": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076/materials",
      "type": "processingpositionmaterial",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  }
}
Изменить Техоперацию
Запрос на обновление Техоперации с указанным id.
В теле запроса можно указать только те поля, которые необходимо изменить у Техоперации, кроме тех, что
помечены Только для чтения в описании атрибутов Техоперации.
Особенности поведения при изменении Техоперации
При привязке новой техкарты старые значения готовой продукции, материалы и затраты на производство будут заменены, согласно новой привязываемой техкарты, иначе 
необходимо передать в теле запроса заполненные поля products, materials, processingSum.
Если необходимо указать пустые материалы, но они присутствуют в техкарте, то следует явно передать пустое значение для поля materials.
Если не передается поле quantity, то оно останется без изменений и будет равно предыдущему значению в техоперации.
Количество готовой продукции и материалов техоперации будут пересчитаны кратно объему производства.
Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Техоперации.


Пример запроса на обновление отдельной Техоперации.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/processing/7944ef04-f831-11e5-7a69-971500188b19"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "name": "000034",
            "quantity": 5,
            "processingSum": 2000
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной Техоперации.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
    "type": "processing",
    "mediaType": "application/json"
  },
  "id": "493ddf6b-aff9-11e6-5bed-427b00000076",
  "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/d5ad957e-91f1-11e6-5bed-427b0000002a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/d55da707-91f1-11e6-5bed-427b00000001",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2016-11-21 17:46:29",
  "name": "000034",
  "externalCode": "JhQJY8u1isyuqHyn7B6Wx3",
  "moment": "2016-11-21 17:46:00",
  "applicable": true,
  "printed": true,
  "published": true,
  "project": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/project/7f3a7d7a-97a1-11e6-5bed-427b0000009c",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/project/metadata",
      "type": "project",
      "mediaType": "application/json"
    }
  },
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/a1331985-a1c8-11e6-5bed-427b00000084",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json"
    }
  },
  "processingSum": 2000,
  "quantity": 5,
  "processingPlan": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/c38e50b0-acdc-11e6-5bed-427b0000009e",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
      "type": "processingplan",
      "mediaType": "application/json"
    }
  },
  "productsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/c61ce912-a747-11e6-5bed-427b000000a8",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "materialsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/d5e311c0-91f1-11e6-5bed-427b00000053",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json"
    }
  },
  "processingOrder": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/c7201428-afcc-11e6-5bed-427b00000068",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingorder/metadata",
      "type": "processingorder",
      "mediaType": "application/json"
    }
  },
  "products": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076/products",
      "type": "processingpositionresult",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "materials": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076/materials",
      "type": "processingpositionmaterial",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  }
}

Пример запроса на обновление отдельной Техоперации с заменой техкарты и сохранением старых позиций.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/processing/f64737f7-df69-11ed-ac12-000c00000004"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
              "processingPlan": {
                "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/dc221c1c-e356-11ed-ac12-000b00000004",
                    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
                    "type": "processingplan",
                    "mediaType": "application/json",
                    "uuidHref": "https://online.moysklad.ru/app/#processingplan/edit?id=dc221c1c-e356-11ed-ac12-000b00000004"
                  }
              },
              "products": [
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/f64737f7-df69-11ed-ac12-000c00000004/products/73745ac2-e32d-11ed-ac12-000c00000009",
                    "type": "processingpositionresult",
                    "mediaType": "application/json"
                  },
                  "quantity": 400.0
                },
                {
                  "meta": {
                    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/f64737f7-df69-11ed-ac12-000c00000004/products/a8240ec9-e330-11ed-ac12-000c0000000d",
                    "type": "processingpositionresult",
                    "mediaType": "application/json"
                  }
                }
              ]
            }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленной Техоперации.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/f64737f7-df69-11ed-ac12-000c00000004",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
    "type": "processing",
    "mediaType": "application/json",
    "uuidHref": "https://online.moysklad.ru/app/#processing/edit?id=f64737f7-df69-11ed-ac12-000c00000004"
  },
  "id": "f64737f7-df69-11ed-ac12-000c00000004",
  "accountId": "12ddf6da-df4e-11ed-ac12-000e0000000a",
  "owner": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/employee/1317fe34-df4e-11ed-ac12-000c00000081",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
      "type": "employee",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#employee/edit?id=1317fe34-df4e-11ed-ac12-000c00000081"
    }
  },
  "shared": false,
  "group": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/group/12ded31d-df4e-11ed-ac12-000e0000000b",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/group/metadata",
      "type": "group",
      "mediaType": "application/json"
    }
  },
  "updated": "2023-04-25 13:51:54.168",
  "name": "00001",
  "externalCode": "erJSo3G6jEWMXtenosN1h1",
  "moment": "2023-04-20 13:56:00.000",
  "applicable": true,
  "organization": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/organization/1337760f-df4e-11ed-ac12-000c000000c4",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/organization/metadata",
      "type": "organization",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#mycompany/edit?id=1337760f-df4e-11ed-ac12-000c000000c4"
    }
  },
  "created": "2023-04-20 13:56:11.476",
  "printed": false,
  "published": false,
  "files": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/f64737f7-df69-11ed-ac12-000c00000004/files",
      "type": "files",
      "mediaType": "application/json",
      "size": 0,
      "limit": 1000,
      "offset": 0
    }
  },
  "processingSum": 1000.0,
  "quantity": 10.0,
  "processingPlan": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/dc221c1c-e356-11ed-ac12-000b00000004",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processingplan/metadata",
      "type": "processingplan",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#processingplan/edit?id=dc221c1c-e356-11ed-ac12-000b00000004"
    }
  },
  "productsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/133ac518-df4e-11ed-ac12-000c000000c6",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=133ac518-df4e-11ed-ac12-000c000000c6"
    }
  },
  "materialsStore": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/store/133ac518-df4e-11ed-ac12-000c000000c6",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/store/metadata",
      "type": "store",
      "mediaType": "application/json",
      "uuidHref": "https://online.moysklad.ru/app/#warehouse/edit?id=133ac518-df4e-11ed-ac12-000c000000c6"
    }
  },
  "products": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/f64737f7-df69-11ed-ac12-000c00000004/products",
      "type": "processingpositionresult",
      "mediaType": "application/json",
      "size": 2,
      "limit": 1000,
      "offset": 0
    }
  },
  "materials": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/f64737f7-df69-11ed-ac12-000c00000004/materials",
      "type": "processingpositionmaterial",
      "mediaType": "application/json",
      "size": 1,
      "limit": 1000,
      "offset": 0
    }
  }
}
Материалы Техоперации
Отдельный ресурс для управления материалами Техоперации. С его помощью вы можете управлять материалами большого документа, количество материалов в котором превышает лимит на количество материалов, сохраняемых вместе с документом. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить материалы Техоперации
Запрос на получение списка всех материалов данной Техоперации.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой материалы Техоперации.


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Техоперации.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить материалы Техоперации
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/processing/7944ef04-f831-11e5-7a69-971500188b19/materials"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка материалов отдельной Техоперации.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076/materials",
    "type": "processingpositionmaterial",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076/materials/493de99a-aff9-11e6-5bed-427b00000077",
        "type": "processingpositionmaterial",
        "mediaType": "application/json"
      },
      "id": "493de99a-aff9-11e6-5bed-427b00000077",
      "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
      "quantity": 4,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0de151c1-acdc-11e6-5bed-427b00000080",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076/materials/493defc4-aff9-11e6-5bed-427b00000078",
        "type": "processingpositionmaterial",
        "mediaType": "application/json"
      },
      "id": "493defc4-aff9-11e6-5bed-427b00000078",
      "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
      "quantity": 1,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/1267a23f-acdc-11e6-5bed-427b00000086",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json"
        }
      }
    }
  ]
}
Материал ТехоперацииПолучить материал
Параметры


Параметр
Описание



id
string (required) Example: d72b4281-b000-11e6-8af5-581e00000074 id Техоперации.


positionID
string (required) Example: 9560e3e3-9609-11e6-8af5-581e00000008 id позиции Техоперации.


Запрос на получение отдельного материала Техоперации с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/processing/d72b4281-b000-11e6-8af5-581e00000074/materials/9560e3e3-9609-11e6-8af5-581e00000008"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного материала Техоперации.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/c7201428-afcc-11e6-5bed-427b00000068/materials/c7218ccd-afcc-11e6-5bed-427b00000069",
    "type": "processingpositionmaterial",
    "mediaType": "application/json"
  },
  "id": "c7218ccd-afcc-11e6-5bed-427b00000069",
  "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
  "quantity": 45,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0de151c1-acdc-11e6-5bed-427b00000080",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json"
    }
  }
}
Добавить материал
Обязательные для создания поля:
+ assortment - Ссылка на товар/серию/модификацию в формате Метаданных
+ quantity - Количество товаров данного вида в позиции
Параметры


Параметр
Описание



id
string (required) Example: f64737f7-df69-11ed-ac12-000c00000004 id Техоперации.


Пример запроса на добавление материала в Техоперации.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/processing/f64737f7-df69-11ed-ac12-000c00000004/materials"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 10.0,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/7a707724-df4e-11ed-ac12-000c00000146",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                "type": "product",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=7a6fd2ab-df4e-11ed-ac12-000c00000144"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление добавленного материала.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/f64737f7-df69-11ed-ac12-000c00000004/materials/d6c0d81b-e3f0-11ed-ac12-000b0000001f",
      "type": "processingpositionmaterial",
      "mediaType": "application/json"
    },
    "id": "d6c0d81b-e3f0-11ed-ac12-000b0000001f",
    "accountId": "12ddf6da-df4e-11ed-ac12-000e0000000a",
    "quantity": 10.0,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/7a707724-df4e-11ed-ac12-000c00000146",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=7a6fd2ab-df4e-11ed-ac12-000c00000144"
      }
    }
  }
]
Изменить материал
Для обновления материала нет каких-либо обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
Параметры


Параметр
Описание



id
string (required) Example: d72b4281-b000-11e6-8af5-581e00000074 id Техоперации.


positionID
string (required) Example: 9560e3e3-9609-11e6-8af5-581e00000008 id позиции Техоперации.


Пример запроса на обновление отдельного материала в Техоперации.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/processing/d72b4281-b000-11e6-8af5-581e00000074/materials/9560e3e3-9609-11e6-8af5-581e00000008"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "meta": {
              "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/34efe2ee-015e-11e6-9464-e4de0000006b/materials/34f6344f-015e-11e6-9464-e4de0000006c",
              "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
              "type": "processingpositionmaterial",
              "mediaType": "application/json"
            },
            "id": "34f6344f-015e-11e6-9464-e4de0000006c",
            "quantity": 111,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/eeef177f-f648-11e5-8a84-bae50000007a",
                "type": "product",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного материала Техоперации.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/34efe2ee-015e-11e6-9464-e4de0000006b/materials/34f6344f-015e-11e6-9464-e4de0000006c",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
    "type": "processingpositionmaterial",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "quantity": 111,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/eeef177f-f648-11e5-8a84-bae50000007a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json"
    }
  }
}
Удалить материал
Параметры


Параметр
Описание



id
string (required) Example: d72b4281-b000-11e6-8af5-581e00000074 id Техоперации.


positionID
string (required) Example: 9560e3e3-9609-11e6-8af5-581e00000008 id позиции Техоперации.


Пример запроса на удаление отдельного материала в Техоперации.
ПоказатьСвернуть
  curl -X DELETE
    "https://api.moysklad.ru/api/remap/1.2/entity/processing/d72b4281-b000-11e6-8af5-581e00000074/materials/9560e3e3-9609-11e6-8af5-581e00000008"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление материала Техоперации.

Массовое удаление материалов
Параметры


Параметр
Описание



id
string (required) Example: 3e1c03bb-684f-11ee-ac12-000c000000b0 id Техоперации.


Запрос на массовое удаление материалов Техоперации.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/processing/3e1c03bb-684f-11ee-ac12-000c000000b0/materials/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/3e1c03bb-684f-11ee-ac12-000c000000b0/materials/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "processingpositionmaterial",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/3e1c03bb-684f-11ee-ac12-000c000000b0/materials/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "processingpositionmaterial",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление материалов Техоперации.

Продукты Техоперации
Отдельный ресурс для управления продуктами Техоперации. С его помощью вы можете управлять продуктами большого документа, количество продуктов в котором превышает лимит на количество продуктов, сохраняемых вместе с документом. Этот лимит равен 1000. Более подробно о лимитах на количество строк документа и работе с большими документами можно прочитать тут.
Получить продукты Техоперации
Запрос на получение списка всех продуктов данной Техоперации.


Название
Тип
Описание



meta
Meta
Метаданные о выдаче,


context
Meta
Метаданные о сотруднике, выполнившем запрос.


rows
Array(Object)
Массив JSON объектов, представляющих собой продукты Техоперации.


Параметры


Параметр
Описание



id
string (required) Example: 7944ef04-f831-11e5-7a69-971500188b19 id Техоперации.


limit
number (optional) Default: 1000 Example: 1000 Максимальное количество сущностей для извлечения.Допустимые значения 1 - 1000.


offset
number (optional) Default: 0 Example: 40 Отступ в выдаваемом списке сущностей.


Получить продукты Техоперации
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/processing/7944ef04-f831-11e5-7a69-971500188b19/products"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление списка продуктов отдельной Техоперации.
ПоказатьСвернуть
{
  "context": {
    "employee": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/context/employee",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/employee/metadata",
        "type": "employee",
        "mediaType": "application/json"
      }
    }
  },
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076/products",
    "type": "processingpositionresult",
    "mediaType": "application/json",
    "size": 2,
    "limit": 1000,
    "offset": 0
  },
  "rows": [
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076/products/493de99a-aff9-11e6-5bed-427b00000077",
        "type": "processingpositionresult",
        "mediaType": "application/json"
      },
      "id": "493de99a-aff9-11e6-5bed-427b00000077",
      "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
      "quantity": 4,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0de151c1-acdc-11e6-5bed-427b00000080",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json"
        }
      }
    },
    {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/493ddf6b-aff9-11e6-5bed-427b00000076/products/493defc4-aff9-11e6-5bed-427b00000078",
        "type": "processingpositionresult",
        "mediaType": "application/json"
      },
      "id": "493defc4-aff9-11e6-5bed-427b00000078",
      "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
      "quantity": 1,
      "assortment": {
        "meta": {
          "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/1267a23f-acdc-11e6-5bed-427b00000086",
          "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
          "type": "product",
          "mediaType": "application/json"
        }
      }
    }
  ]
}
Продукт ТехоперацииПолучить продукт
Параметры


Параметр
Описание



id
string (required) Example: d72b4281-b000-11e6-8af5-581e00000074 id Техоперации.


positionID
string (required) Example: 9560e3e3-9609-11e6-8af5-581e00000008 id продукта Техоперации.


Запрос на получение отдельного продукта Техоперации с указанным id.
ПоказатьСвернуть
curl -X GET
  "https://api.moysklad.ru/api/remap/1.2/entity/processing/d72b4281-b000-11e6-8af5-581e00000074/products/9560e3e3-9609-11e6-8af5-581e00000008"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"

Response 200 (application/json)
Успешный запрос. Результат - JSON представление отдельного продукта Техоперации.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/c7201428-afcc-11e6-5bed-427b00000068/products/c7218ccd-afcc-11e6-5bed-427b00000069",
    "type": "processingpositionresult",
    "mediaType": "application/json"
  },
  "id": "c7218ccd-afcc-11e6-5bed-427b00000069",
  "accountId": "d55cbfba-91f1-11e6-5bed-427b00000000",
  "quantity": 45,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/0de151c1-acdc-11e6-5bed-427b00000080",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json"
    }
  }
}
Добавить продукт
Обязательные для создания поля:
+ assortment - Ссылка на товар/серию/модификацию в формате Метаданных
+ quantity - Количество товаров данного вида в позиции
Параметры


Параметр
Описание



id
string (required) Example: f64737f7-df69-11ed-ac12-000c00000004 id Техоперации.


Пример запроса на добавление продукта в Техоперации.
ПоказатьСвернуть
  curl -X POST
    "https://api.moysklad.ru/api/remap/1.2/entity/processing/f64737f7-df69-11ed-ac12-000c00000004/products"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "quantity": 10.0,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/7a707724-df4e-11ed-ac12-000c00000146",
                "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
                "type": "product",
                "mediaType": "application/json",
                "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=7a6fd2ab-df4e-11ed-ac12-000c00000144"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление добавленного материала.
ПоказатьСвернуть
[
  {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/f64737f7-df69-11ed-ac12-000c00000004/products/a8240ec9-e330-11ed-ac12-000c0000000d",
      "type": "processingpositionresult",
      "mediaType": "application/json"
    },
    "id": "a8240ec9-e330-11ed-ac12-000c0000000d",
    "accountId": "12ddf6da-df4e-11ed-ac12-000e0000000a",
    "quantity": 10.0,
    "assortment": {
      "meta": {
        "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/7a707724-df4e-11ed-ac12-000c00000146",
        "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
        "type": "product",
        "mediaType": "application/json",
        "uuidHref": "https://online.moysklad.ru/app/#good/edit?id=7a6fd2ab-df4e-11ed-ac12-000c00000144"
      }
    }
  }
]
Изменить продукт
Запрос на обновление отдельного продукта Техоперации. Для обновления продукта нет каких-либо
обязательных для указания в теле запроса полей. Только те, что вы желаете обновить.
Параметры


Параметр
Описание



id
string (required) Example: d72b4281-b000-11e6-8af5-581e00000074 id Техоперации.


positionID
string (required) Example: 9560e3e3-9609-11e6-8af5-581e00000008 id продукта Техоперации.


Пример запроса на обновление отдельного продукта в Техоперации.
ПоказатьСвернуть
  curl -X PUT
    "https://api.moysklad.ru/api/remap/1.2/entity/processing/d72b4281-b000-11e6-8af5-581e00000074/products/9560e3e3-9609-11e6-8af5-581e00000008"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"
    -H "Content-Type: application/json"
      -d '{
            "meta": {
              "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/34efe2ee-015e-11e6-9464-e4de0000006b/products/34f6344f-015e-11e6-9464-e4de0000006c",
              "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
              "type": "processingpositionresult",
              "mediaType": "application/json"
            },
            "id": "34f6344f-015e-11e6-9464-e4de0000006c",
            "quantity": 111,
            "assortment": {
              "meta": {
                "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/eeef177f-f648-11e5-8a84-bae50000007a",
                "type": "product",
                "mediaType": "application/json"
              }
            }
          }'  

Response 200 (application/json)
Успешный запрос. Результат - JSON представление обновленного продукта Техоперации.
ПоказатьСвернуть
{
  "meta": {
    "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/34efe2ee-015e-11e6-9464-e4de0000006b/products/34f6344f-015e-11e6-9464-e4de0000006c",
    "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/processing/metadata",
    "type": "processingpositionresult",
    "mediaType": "application/json"
  },
  "id": "34f6344f-015e-11e6-9464-e4de0000006c",
  "accountId": "84e60e93-f504-11e5-8a84-bae500000008",
  "quantity": 111,
  "assortment": {
    "meta": {
      "href": "https://api.moysklad.ru/api/remap/1.2/entity/product/eeef177f-f648-11e5-8a84-bae50000007a",
      "metadataHref": "https://api.moysklad.ru/api/remap/1.2/entity/product/metadata",
      "type": "product",
      "mediaType": "application/json"
    }
  }
}
Удалить продукт
При удалении продукта стоит учитывать, что техоперация должна состоять как минимум из одной позиции продукта.
Параметры


Параметр
Описание



id
string (required) Example: d72b4281-b000-11e6-8af5-581e00000074 id Техоперации.


positionID
string (required) Example: 9560e3e3-9609-11e6-8af5-581e00000008 id позиции Техоперации.


Пример запроса на удаление отдельного продукта в Техоперации.
ПоказатьСвернуть
  curl -X DELETE
    "https://api.moysklad.ru/api/remap/1.2/entity/processing/d72b4281-b000-11e6-8af5-581e00000074/products/9560e3e3-9609-11e6-8af5-581e00000008"
    -H "Authorization: Basic <Credentials>"
    -H "Accept-Encoding: gzip"


Response 200 (application/json)
Успешное удаление продукта Техоперации.

Массовое удаление продуктов
Параметры


Параметр
Описание



id
string (required) Example: 3e1c03bb-684f-11ee-ac12-000c000000b0 id Техоперации.


Запрос на массовое удаление продуктов Техоперации.
ПоказатьСвернуть
curl -X POST
  "https://api.moysklad.ru/api/remap/1.2/entity/processing/3e1c03bb-684f-11ee-ac12-000c000000b0/products/delete"
  -H "Authorization: Basic <Credentials>"
  -H "Accept-Encoding: gzip"
  -H "Content-Type: application/json"
  -d '[
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/3e1c03bb-684f-11ee-ac12-000c000000b0/products/7fce2da5-684d-11ee-ac12-000c000000a2",
            "type": "processingpositionresult",
            "mediaType": "application/json"
          }
        },
        {
          "meta": {
            "href": "https://api.moysklad.ru/api/remap/1.2/entity/processing/3e1c03bb-684f-11ee-ac12-000c000000b0/products/7fce37a5-684d-11ee-ac12-000c000000a3",
            "type": "processingpositionresult",
            "mediaType": "application/json"
          }
        }
      ]'  


Response 200 (application/json)
Успешное удаление продуктов Техоперации.





